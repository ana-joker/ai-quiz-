(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function Ed(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ad={exports:{}},ta={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nh=Symbol.for("react.transitional.element"),ih=Symbol.for("react.fragment");function _d(t,e,n){var i=null;if(n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),"key"in e){n={};for(var o in e)o!=="key"&&(n[o]=e[o])}else n=e;return e=n.ref,{$$typeof:nh,type:t,key:i,ref:e!==void 0?e:null,props:n}}ta.Fragment=ih;ta.jsx=_d;ta.jsxs=_d;Ad.exports=ta;var E=Ad.exports,xd={exports:{}},G={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Su=Symbol.for("react.transitional.element"),oh=Symbol.for("react.portal"),lh=Symbol.for("react.fragment"),ah=Symbol.for("react.strict_mode"),sh=Symbol.for("react.profiler"),uh=Symbol.for("react.consumer"),rh=Symbol.for("react.context"),ch=Symbol.for("react.forward_ref"),fh=Symbol.for("react.suspense"),dh=Symbol.for("react.memo"),Md=Symbol.for("react.lazy"),Mr=Symbol.iterator;function mh(t){return t===null||typeof t!="object"?null:(t=Mr&&t[Mr]||t["@@iterator"],typeof t=="function"?t:null)}var Rd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Nd=Object.assign,Dd={};function Ai(t,e,n){this.props=t,this.context=e,this.refs=Dd,this.updater=n||Rd}Ai.prototype.isReactComponent={};Ai.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ai.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function bd(){}bd.prototype=Ai.prototype;function Eu(t,e,n){this.props=t,this.context=e,this.refs=Dd,this.updater=n||Rd}var Au=Eu.prototype=new bd;Au.constructor=Eu;Nd(Au,Ai.prototype);Au.isPureReactComponent=!0;var Rr=Array.isArray,oe={H:null,A:null,T:null,S:null,V:null},wd=Object.prototype.hasOwnProperty;function _u(t,e,n,i,o,a){return n=a.ref,{$$typeof:Su,type:t,key:e,ref:n!==void 0?n:null,props:a}}function ph(t,e){return _u(t.type,e,void 0,void 0,void 0,t.props)}function xu(t){return typeof t=="object"&&t!==null&&t.$$typeof===Su}function gh(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Nr=/\/+/g;function xa(t,e){return typeof t=="object"&&t!==null&&t.key!=null?gh(""+t.key):e.toString(36)}function Dr(){}function hh(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(Dr,Dr):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Bn(t,e,n,i,o){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var u=!1;if(t===null)u=!0;else switch(a){case"bigint":case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case Su:case oh:u=!0;break;case Md:return u=t._init,Bn(u(t._payload),e,n,i,o)}}if(u)return o=o(t),u=i===""?"."+xa(t,0):i,Rr(o)?(n="",u!=null&&(n=u.replace(Nr,"$&/")+"/"),Bn(o,e,n,"",function(f){return f})):o!=null&&(xu(o)&&(o=ph(o,n+(o.key==null||t&&t.key===o.key?"":(""+o.key).replace(Nr,"$&/")+"/")+u)),e.push(o)),1;u=0;var r=i===""?".":i+":";if(Rr(t))for(var c=0;c<t.length;c++)i=t[c],a=r+xa(i,c),u+=Bn(i,e,n,a,o);else if(c=mh(t),typeof c=="function")for(t=c.call(t),c=0;!(i=t.next()).done;)i=i.value,a=r+xa(i,c++),u+=Bn(i,e,n,a,o);else if(a==="object"){if(typeof t.then=="function")return Bn(hh(t),e,n,i,o);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return u}function ko(t,e,n){if(t==null)return t;var i=[],o=0;return Bn(t,i,"","",function(a){return e.call(n,a,o++)}),i}function yh(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var br=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function vh(){}G.Children={map:ko,forEach:function(t,e,n){ko(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ko(t,function(){e++}),e},toArray:function(t){return ko(t,function(e){return e})||[]},only:function(t){if(!xu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};G.Component=Ai;G.Fragment=lh;G.Profiler=sh;G.PureComponent=Eu;G.StrictMode=ah;G.Suspense=fh;G.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=oe;G.__COMPILER_RUNTIME={__proto__:null,c:function(t){return oe.H.useMemoCache(t)}};G.cache=function(t){return function(){return t.apply(null,arguments)}};G.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var i=Nd({},t.props),o=t.key,a=void 0;if(e!=null)for(u in e.ref!==void 0&&(a=void 0),e.key!==void 0&&(o=""+e.key),e)!wd.call(e,u)||u==="key"||u==="__self"||u==="__source"||u==="ref"&&e.ref===void 0||(i[u]=e[u]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var r=Array(u),c=0;c<u;c++)r[c]=arguments[c+2];i.children=r}return _u(t.type,o,void 0,void 0,a,i)};G.createContext=function(t){return t={$$typeof:rh,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:uh,_context:t},t};G.createElement=function(t,e,n){var i,o={},a=null;if(e!=null)for(i in e.key!==void 0&&(a=""+e.key),e)wd.call(e,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(o[i]=e[i]);var u=arguments.length-2;if(u===1)o.children=n;else if(1<u){for(var r=Array(u),c=0;c<u;c++)r[c]=arguments[c+2];o.children=r}if(t&&t.defaultProps)for(i in u=t.defaultProps,u)o[i]===void 0&&(o[i]=u[i]);return _u(t,a,void 0,void 0,null,o)};G.createRef=function(){return{current:null}};G.forwardRef=function(t){return{$$typeof:ch,render:t}};G.isValidElement=xu;G.lazy=function(t){return{$$typeof:Md,_payload:{_status:-1,_result:t},_init:yh}};G.memo=function(t,e){return{$$typeof:dh,type:t,compare:e===void 0?null:e}};G.startTransition=function(t){var e=oe.T,n={};oe.T=n;try{var i=t(),o=oe.S;o!==null&&o(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(vh,br)}catch(a){br(a)}finally{oe.T=e}};G.unstable_useCacheRefresh=function(){return oe.H.useCacheRefresh()};G.use=function(t){return oe.H.use(t)};G.useActionState=function(t,e,n){return oe.H.useActionState(t,e,n)};G.useCallback=function(t,e){return oe.H.useCallback(t,e)};G.useContext=function(t){return oe.H.useContext(t)};G.useDebugValue=function(){};G.useDeferredValue=function(t,e){return oe.H.useDeferredValue(t,e)};G.useEffect=function(t,e,n){var i=oe.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(t,e)};G.useId=function(){return oe.H.useId()};G.useImperativeHandle=function(t,e,n){return oe.H.useImperativeHandle(t,e,n)};G.useInsertionEffect=function(t,e){return oe.H.useInsertionEffect(t,e)};G.useLayoutEffect=function(t,e){return oe.H.useLayoutEffect(t,e)};G.useMemo=function(t,e){return oe.H.useMemo(t,e)};G.useOptimistic=function(t,e){return oe.H.useOptimistic(t,e)};G.useReducer=function(t,e,n){return oe.H.useReducer(t,e,n)};G.useRef=function(t){return oe.H.useRef(t)};G.useState=function(t){return oe.H.useState(t)};G.useSyncExternalStore=function(t,e,n){return oe.H.useSyncExternalStore(t,e,n)};G.useTransition=function(){return oe.H.useTransition()};G.version="19.1.0";xd.exports=G;var z=xd.exports;const Th=Ed(z);var Ud={exports:{}},na={},Id={exports:{}},qd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(b,I){var V=b.length;b.push(I);e:for(;0<V;){var ae=V-1>>>1,pe=b[ae];if(0<o(pe,I))b[ae]=I,b[V]=pe,V=ae;else break e}}function n(b){return b.length===0?null:b[0]}function i(b){if(b.length===0)return null;var I=b[0],V=b.pop();if(V!==I){b[0]=V;e:for(var ae=0,pe=b.length,qn=pe>>>1;ae<qn;){var Ln=2*(ae+1)-1,qi=b[Ln],O=Ln+1,ne=b[O];if(0>o(qi,V))O<pe&&0>o(ne,qi)?(b[ae]=ne,b[O]=V,ae=O):(b[ae]=qi,b[Ln]=V,ae=Ln);else if(O<pe&&0>o(ne,V))b[ae]=ne,b[O]=V,ae=O;else break e}}return I}function o(b,I){var V=b.sortIndex-I.sortIndex;return V!==0?V:b.id-I.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,r=u.now();t.unstable_now=function(){return u.now()-r}}var c=[],f=[],d=1,m=null,p=3,g=!1,T=!1,S=!1,_=!1,y=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;function C(b){for(var I=n(f);I!==null;){if(I.callback===null)i(f);else if(I.startTime<=b)i(f),I.sortIndex=I.expirationTime,e(c,I);else break;I=n(f)}}function A(b){if(S=!1,C(b),!T)if(n(c)!==null)T=!0,N||(N=!0,fe());else{var I=n(f);I!==null&&ye(A,I.startTime-b)}}var N=!1,M=-1,R=5,D=-1;function w(){return _?!0:!(t.unstable_now()-D<R)}function L(){if(_=!1,N){var b=t.unstable_now();D=b;var I=!0;try{e:{T=!1,S&&(S=!1,h(M),M=-1),g=!0;var V=p;try{t:{for(C(b),m=n(c);m!==null&&!(m.expirationTime>b&&w());){var ae=m.callback;if(typeof ae=="function"){m.callback=null,p=m.priorityLevel;var pe=ae(m.expirationTime<=b);if(b=t.unstable_now(),typeof pe=="function"){m.callback=pe,C(b),I=!0;break t}m===n(c)&&i(c),C(b)}else i(c);m=n(c)}if(m!==null)I=!0;else{var qn=n(f);qn!==null&&ye(A,qn.startTime-b),I=!1}}break e}finally{m=null,p=V,g=!1}I=void 0}}finally{I?fe():N=!1}}}var fe;if(typeof v=="function")fe=function(){v(L)};else if(typeof MessageChannel<"u"){var rn=new MessageChannel,In=rn.port2;rn.port1.onmessage=L,fe=function(){In.postMessage(null)}}else fe=function(){y(L,0)};function ye(b,I){M=y(function(){b(t.unstable_now())},I)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(b){b.callback=null},t.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<b?Math.floor(1e3/b):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(b){switch(p){case 1:case 2:case 3:var I=3;break;default:I=p}var V=p;p=I;try{return b()}finally{p=V}},t.unstable_requestPaint=function(){_=!0},t.unstable_runWithPriority=function(b,I){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var V=p;p=b;try{return I()}finally{p=V}},t.unstable_scheduleCallback=function(b,I,V){var ae=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?ae+V:ae):V=ae,b){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=V+pe,b={id:d++,callback:I,priorityLevel:b,startTime:V,expirationTime:pe,sortIndex:-1},V>ae?(b.sortIndex=V,e(f,b),n(c)===null&&b===n(f)&&(S?(h(M),M=-1):S=!0,ye(A,V-ae))):(b.sortIndex=pe,e(c,b),T||g||(T=!0,N||(N=!0,fe()))),b},t.unstable_shouldYield=w,t.unstable_wrapCallback=function(b){var I=p;return function(){var V=p;p=I;try{return b.apply(this,arguments)}finally{p=V}}}})(qd);Id.exports=qd;var Ch=Id.exports,Ld={exports:{}},qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sh=z;function Vd(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Vt(){}var Ie={d:{f:Vt,r:function(){throw Error(Vd(522))},D:Vt,C:Vt,L:Vt,m:Vt,X:Vt,S:Vt,M:Vt},p:0,findDOMNode:null},Eh=Symbol.for("react.portal");function Ah(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Eh,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}var Ki=Sh.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function ia(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ie;qe.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(Vd(299));return Ah(t,e,null,n)};qe.flushSync=function(t){var e=Ki.T,n=Ie.p;try{if(Ki.T=null,Ie.p=2,t)return t()}finally{Ki.T=e,Ie.p=n,Ie.d.f()}};qe.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Ie.d.C(t,e))};qe.prefetchDNS=function(t){typeof t=="string"&&Ie.d.D(t)};qe.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,i=ia(n,e.crossOrigin),o=typeof e.integrity=="string"?e.integrity:void 0,a=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Ie.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:i,integrity:o,fetchPriority:a}):n==="script"&&Ie.d.X(t,{crossOrigin:i,integrity:o,fetchPriority:a,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};qe.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=ia(e.as,e.crossOrigin);Ie.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Ie.d.M(t)};qe.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,i=ia(n,e.crossOrigin);Ie.d.L(t,n,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};qe.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=ia(e.as,e.crossOrigin);Ie.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Ie.d.m(t)};qe.requestFormReset=function(t){Ie.d.r(t)};qe.unstable_batchedUpdates=function(t,e){return t(e)};qe.useFormState=function(t,e,n){return Ki.H.useFormState(t,e,n)};qe.useFormStatus=function(){return Ki.H.useHostTransitionStatus()};qe.version="19.1.0";function Gd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Gd)}catch(t){console.error(t)}}Gd(),Ld.exports=qe;var _h=Ld.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ce=Ch,Pd=z,xh=_h;function x(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Bd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function xo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Hd(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function wr(t){if(xo(t)!==t)throw Error(x(188))}function Mh(t){var e=t.alternate;if(!e){if(e=xo(t),e===null)throw Error(x(188));return e!==t?null:t}for(var n=t,i=e;;){var o=n.return;if(o===null)break;var a=o.alternate;if(a===null){if(i=o.return,i!==null){n=i;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return wr(o),t;if(a===i)return wr(o),e;a=a.sibling}throw Error(x(188))}if(n.return!==i.return)n=o,i=a;else{for(var u=!1,r=o.child;r;){if(r===n){u=!0,n=o,i=a;break}if(r===i){u=!0,i=o,n=a;break}r=r.sibling}if(!u){for(r=a.child;r;){if(r===n){u=!0,n=a,i=o;break}if(r===i){u=!0,i=a,n=o;break}r=r.sibling}if(!u)throw Error(x(189))}}if(n.alternate!==i)throw Error(x(190))}if(n.tag!==3)throw Error(x(188));return n.stateNode.current===n?t:e}function zd(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=zd(t),e!==null)return e;t=t.sibling}return null}var te=Object.assign,Rh=Symbol.for("react.element"),Fo=Symbol.for("react.transitional.element"),Oi=Symbol.for("react.portal"),Fn=Symbol.for("react.fragment"),kd=Symbol.for("react.strict_mode"),cs=Symbol.for("react.profiler"),Nh=Symbol.for("react.provider"),Fd=Symbol.for("react.consumer"),Et=Symbol.for("react.context"),Mu=Symbol.for("react.forward_ref"),fs=Symbol.for("react.suspense"),ds=Symbol.for("react.suspense_list"),Ru=Symbol.for("react.memo"),Bt=Symbol.for("react.lazy"),ms=Symbol.for("react.activity"),Dh=Symbol.for("react.memo_cache_sentinel"),Ur=Symbol.iterator;function Li(t){return t===null||typeof t!="object"?null:(t=Ur&&t[Ur]||t["@@iterator"],typeof t=="function"?t:null)}var bh=Symbol.for("react.client.reference");function ps(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===bh?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Fn:return"Fragment";case cs:return"Profiler";case kd:return"StrictMode";case fs:return"Suspense";case ds:return"SuspenseList";case ms:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Oi:return"Portal";case Et:return(t.displayName||"Context")+".Provider";case Fd:return(t._context.displayName||"Context")+".Consumer";case Mu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ru:return e=t.displayName||null,e!==null?e:ps(t.type)||"Memo";case Bt:e=t._payload,t=t._init;try{return ps(t(e))}catch{}}return null}var Yi=Array.isArray,q=Pd.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=xh.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pn={pending:!1,data:null,method:null,action:null},gs=[],On=-1;function ht(t){return{current:t}}function _e(t){0>On||(t.current=gs[On],gs[On]=null,On--)}function le(t,e){On++,gs[On]=t.current,t.current=e}var mt=ht(null),co=ht(null),$t=ht(null),Sl=ht(null);function El(t,e){switch(le($t,e),le(co,t),le(mt,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Gc(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Gc(e),t=ag(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}_e(mt),le(mt,t)}function di(){_e(mt),_e(co),_e($t)}function hs(t){t.memoizedState!==null&&le(Sl,t);var e=mt.current,n=ag(e,t.type);e!==n&&(le(co,t),le(mt,n))}function Al(t){co.current===t&&(_e(mt),_e(co)),Sl.current===t&&(_e(Sl),So._currentValue=pn)}var ys=Object.prototype.hasOwnProperty,Nu=Ce.unstable_scheduleCallback,Ma=Ce.unstable_cancelCallback,wh=Ce.unstable_shouldYield,Uh=Ce.unstable_requestPaint,pt=Ce.unstable_now,Ih=Ce.unstable_getCurrentPriorityLevel,Od=Ce.unstable_ImmediatePriority,Yd=Ce.unstable_UserBlockingPriority,_l=Ce.unstable_NormalPriority,qh=Ce.unstable_LowPriority,Jd=Ce.unstable_IdlePriority,Lh=Ce.log,Vh=Ce.unstable_setDisableYieldValue,Mo=null,Oe=null;function Yt(t){if(typeof Lh=="function"&&Vh(t),Oe&&typeof Oe.setStrictMode=="function")try{Oe.setStrictMode(Mo,t)}catch{}}var Ye=Math.clz32?Math.clz32:Bh,Gh=Math.log,Ph=Math.LN2;function Bh(t){return t>>>=0,t===0?32:31-(Gh(t)/Ph|0)|0}var Oo=256,Yo=4194304;function fn(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function oa(t,e,n){var i=t.pendingLanes;if(i===0)return 0;var o=0,a=t.suspendedLanes,u=t.pingedLanes;t=t.warmLanes;var r=i&134217727;return r!==0?(i=r&~a,i!==0?o=fn(i):(u&=r,u!==0?o=fn(u):n||(n=r&~t,n!==0&&(o=fn(n))))):(r=i&~a,r!==0?o=fn(r):u!==0?o=fn(u):n||(n=i&~t,n!==0&&(o=fn(n)))),o===0?0:e!==0&&e!==o&&!(e&a)&&(a=o&-o,n=e&-e,a>=n||a===32&&(n&4194048)!==0)?e:o}function Ro(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function Hh(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qd(){var t=Oo;return Oo<<=1,!(Oo&4194048)&&(Oo=256),t}function Kd(){var t=Yo;return Yo<<=1,!(Yo&62914560)&&(Yo=4194304),t}function Ra(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function No(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function zh(t,e,n,i,o,a){var u=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var r=t.entanglements,c=t.expirationTimes,f=t.hiddenUpdates;for(n=u&~n;0<n;){var d=31-Ye(n),m=1<<d;r[d]=0,c[d]=-1;var p=f[d];if(p!==null)for(f[d]=null,d=0;d<p.length;d++){var g=p[d];g!==null&&(g.lane&=-536870913)}n&=~m}i!==0&&$d(t,i,0),a!==0&&o===0&&t.tag!==0&&(t.suspendedLanes|=a&~(u&~e))}function $d(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-Ye(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|n&4194090}function Xd(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Ye(n),o=1<<i;o&e|t[i]&e&&(t[i]|=e),n&=~o}}function Du(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function bu(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function Zd(){var t=J.p;return t!==0?t:(t=window.event,t===void 0?32:hg(t.type))}function kh(t,e){var n=J.p;try{return J.p=t,e()}finally{J.p=n}}var sn=Math.random().toString(36).slice(2),De="__reactFiber$"+sn,Pe="__reactProps$"+sn,_i="__reactContainer$"+sn,vs="__reactEvents$"+sn,Fh="__reactListeners$"+sn,Oh="__reactHandles$"+sn,Ir="__reactResources$"+sn,Do="__reactMarker$"+sn;function wu(t){delete t[De],delete t[Pe],delete t[vs],delete t[Fh],delete t[Oh]}function Yn(t){var e=t[De];if(e)return e;for(var n=t.parentNode;n;){if(e=n[_i]||n[De]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Hc(t);t!==null;){if(n=t[De])return n;t=Hc(t)}return e}t=n,n=t.parentNode}return null}function xi(t){if(t=t[De]||t[_i]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function Ji(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(x(33))}function ni(t){var e=t[Ir];return e||(e=t[Ir]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Ee(t){t[Do]=!0}var Wd=new Set,jd={};function Nn(t,e){mi(t,e),mi(t+"Capture",e)}function mi(t,e){for(jd[t]=e,t=0;t<e.length;t++)Wd.add(e[t])}var Yh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qr={},Lr={};function Jh(t){return ys.call(Lr,t)?!0:ys.call(qr,t)?!1:Yh.test(t)?Lr[t]=!0:(qr[t]=!0,!1)}function ll(t,e,n){if(Jh(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Jo(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function vt(t,e,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+i)}}var Na,Vr;function Hn(t){if(Na===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Na=e&&e[1]||"",Vr=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Na+t+Vr}var Da=!1;function ba(t,e){if(!t||Da)return"";Da=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var m=function(){throw Error()};if(Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(g){var p=g}Reflect.construct(t,[],m)}else{try{m.call()}catch(g){p=g}t.call(m.prototype)}}else{try{throw Error()}catch(g){p=g}(m=t())&&typeof m.catch=="function"&&m.catch(function(){})}}catch(g){if(g&&p&&typeof g.stack=="string")return[g.stack,p.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=i.DetermineComponentFrameRoot(),u=a[0],r=a[1];if(u&&r){var c=u.split(`
`),f=r.split(`
`);for(o=i=0;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;for(;o<f.length&&!f[o].includes("DetermineComponentFrameRoot");)o++;if(i===c.length||o===f.length)for(i=c.length-1,o=f.length-1;1<=i&&0<=o&&c[i]!==f[o];)o--;for(;1<=i&&0<=o;i--,o--)if(c[i]!==f[o]){if(i!==1||o!==1)do if(i--,o--,0>o||c[i]!==f[o]){var d=`
`+c[i].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=i&&0<=o);break}}}finally{Da=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Hn(n):""}function Qh(t){switch(t.tag){case 26:case 27:case 5:return Hn(t.type);case 16:return Hn("Lazy");case 13:return Hn("Suspense");case 19:return Hn("SuspenseList");case 0:case 15:return ba(t.type,!1);case 11:return ba(t.type.render,!1);case 1:return ba(t.type,!0);case 31:return Hn("Activity");default:return""}}function Gr(t){try{var e="";do e+=Qh(t),t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Ze(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function em(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Kh(t){var e=em(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(u){i=""+u,a.call(this,u)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(u){i=""+u},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function xl(t){t._valueTracker||(t._valueTracker=Kh(t))}function tm(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=em(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Ml(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var $h=/[\n"\\]/g;function et(t){return t.replace($h,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Ts(t,e,n,i,o,a,u,r){t.name="",u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?t.type=u:t.removeAttribute("type"),e!=null?u==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Ze(e)):t.value!==""+Ze(e)&&(t.value=""+Ze(e)):u!=="submit"&&u!=="reset"||t.removeAttribute("value"),e!=null?Cs(t,u,Ze(e)):n!=null?Cs(t,u,Ze(n)):i!=null&&t.removeAttribute("value"),o==null&&a!=null&&(t.defaultChecked=!!a),o!=null&&(t.checked=o&&typeof o!="function"&&typeof o!="symbol"),r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?t.name=""+Ze(r):t.removeAttribute("name")}function nm(t,e,n,i,o,a,u,r){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.type=a),e!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||e!=null))return;n=n!=null?""+Ze(n):"",e=e!=null?""+Ze(e):n,r||e===t.value||(t.value=e),t.defaultValue=e}i=i??o,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=r?t.checked:!!i,t.defaultChecked=!!i,u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(t.name=u)}function Cs(t,e,n){e==="number"&&Ml(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function ii(t,e,n,i){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Ze(n),e=null,o=0;o<t.length;o++){if(t[o].value===n){t[o].selected=!0,i&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function im(t,e,n){if(e!=null&&(e=""+Ze(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Ze(n):""}function om(t,e,n,i){if(e==null){if(i!=null){if(n!=null)throw Error(x(92));if(Yi(i)){if(1<i.length)throw Error(x(93));i=i[0]}n=i}n==null&&(n=""),e=n}n=Ze(e),t.defaultValue=n,i=t.textContent,i===n&&i!==""&&i!==null&&(t.value=i)}function pi(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Xh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pr(t,e,n){var i=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":i?t.setProperty(e,n):typeof n!="number"||n===0||Xh.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function lm(t,e,n){if(e!=null&&typeof e!="object")throw Error(x(62));if(t=t.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var o in e)i=e[o],e.hasOwnProperty(o)&&n[o]!==i&&Pr(t,o,i)}else for(var a in e)e.hasOwnProperty(a)&&Pr(t,a,e[a])}function Uu(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function al(t){return Wh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ss=null;function Iu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Jn=null,oi=null;function Br(t){var e=xi(t);if(e&&(t=e.stateNode)){var n=t[Pe]||null;e:switch(t=e.stateNode,e.type){case"input":if(Ts(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+et(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var o=i[Pe]||null;if(!o)throw Error(x(90));Ts(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(e=0;e<n.length;e++)i=n[e],i.form===t.form&&tm(i)}break e;case"textarea":im(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&ii(t,!!n.multiple,e,!1)}}}var wa=!1;function am(t,e,n){if(wa)return t(e,n);wa=!0;try{var i=t(e);return i}finally{if(wa=!1,(Jn!==null||oi!==null)&&(pa(),Jn&&(e=Jn,t=oi,oi=Jn=null,Br(e),t)))for(e=0;e<t.length;e++)Br(t[e])}}function fo(t,e){var n=t.stateNode;if(n===null)return null;var i=n[Pe]||null;if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(x(231,e,typeof n));return n}var Dt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Es=!1;if(Dt)try{var Vi={};Object.defineProperty(Vi,"passive",{get:function(){Es=!0}}),window.addEventListener("test",Vi,Vi),window.removeEventListener("test",Vi,Vi)}catch{Es=!1}var Jt=null,qu=null,sl=null;function sm(){if(sl)return sl;var t,e=qu,n=e.length,i,o="value"in Jt?Jt.value:Jt.textContent,a=o.length;for(t=0;t<n&&e[t]===o[t];t++);var u=n-t;for(i=1;i<=u&&e[n-i]===o[a-i];i++);return sl=o.slice(t,1<i?1-i:void 0)}function ul(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Qo(){return!0}function Hr(){return!1}function Be(t){function e(n,i,o,a,u){this._reactName=n,this._targetInst=o,this.type=i,this.nativeEvent=a,this.target=u,this.currentTarget=null;for(var r in t)t.hasOwnProperty(r)&&(n=t[r],this[r]=n?n(a):a[r]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Qo:Hr,this.isPropagationStopped=Hr,this}return te(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Qo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Qo)},persist:function(){},isPersistent:Qo}),e}var Dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},la=Be(Dn),bo=te({},Dn,{view:0,detail:0}),jh=Be(bo),Ua,Ia,Gi,aa=te({},bo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Gi&&(Gi&&t.type==="mousemove"?(Ua=t.screenX-Gi.screenX,Ia=t.screenY-Gi.screenY):Ia=Ua=0,Gi=t),Ua)},movementY:function(t){return"movementY"in t?t.movementY:Ia}}),zr=Be(aa),ey=te({},aa,{dataTransfer:0}),ty=Be(ey),ny=te({},bo,{relatedTarget:0}),qa=Be(ny),iy=te({},Dn,{animationName:0,elapsedTime:0,pseudoElement:0}),oy=Be(iy),ly=te({},Dn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ay=Be(ly),sy=te({},Dn,{data:0}),kr=Be(sy),uy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ry={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fy(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=cy[t])?!!e[t]:!1}function Lu(){return fy}var dy=te({},bo,{key:function(t){if(t.key){var e=uy[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ul(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ry[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lu,charCode:function(t){return t.type==="keypress"?ul(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ul(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),my=Be(dy),py=te({},aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fr=Be(py),gy=te({},bo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lu}),hy=Be(gy),yy=te({},Dn,{propertyName:0,elapsedTime:0,pseudoElement:0}),vy=Be(yy),Ty=te({},aa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Cy=Be(Ty),Sy=te({},Dn,{newState:0,oldState:0}),Ey=Be(Sy),Ay=[9,13,27,32],Vu=Dt&&"CompositionEvent"in window,$i=null;Dt&&"documentMode"in document&&($i=document.documentMode);var _y=Dt&&"TextEvent"in window&&!$i,um=Dt&&(!Vu||$i&&8<$i&&11>=$i),Or=String.fromCharCode(32),Yr=!1;function rm(t,e){switch(t){case"keyup":return Ay.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qn=!1;function xy(t,e){switch(t){case"compositionend":return cm(e);case"keypress":return e.which!==32?null:(Yr=!0,Or);case"textInput":return t=e.data,t===Or&&Yr?null:t;default:return null}}function My(t,e){if(Qn)return t==="compositionend"||!Vu&&rm(t,e)?(t=sm(),sl=qu=Jt=null,Qn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return um&&e.locale!=="ko"?null:e.data;default:return null}}var Ry={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Ry[t.type]:e==="textarea"}function fm(t,e,n,i){Jn?oi?oi.push(i):oi=[i]:Jn=i,e=Ol(e,"onChange"),0<e.length&&(n=new la("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Xi=null,mo=null;function Ny(t){ig(t,0)}function sa(t){var e=Ji(t);if(tm(e))return t}function Qr(t,e){if(t==="change")return e}var dm=!1;if(Dt){var La;if(Dt){var Va="oninput"in document;if(!Va){var Kr=document.createElement("div");Kr.setAttribute("oninput","return;"),Va=typeof Kr.oninput=="function"}La=Va}else La=!1;dm=La&&(!document.documentMode||9<document.documentMode)}function $r(){Xi&&(Xi.detachEvent("onpropertychange",mm),mo=Xi=null)}function mm(t){if(t.propertyName==="value"&&sa(mo)){var e=[];fm(e,mo,t,Iu(t)),am(Ny,e)}}function Dy(t,e,n){t==="focusin"?($r(),Xi=e,mo=n,Xi.attachEvent("onpropertychange",mm)):t==="focusout"&&$r()}function by(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return sa(mo)}function wy(t,e){if(t==="click")return sa(e)}function Uy(t,e){if(t==="input"||t==="change")return sa(e)}function Iy(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ke=typeof Object.is=="function"?Object.is:Iy;function po(t,e){if(Ke(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var o=n[i];if(!ys.call(e,o)||!Ke(t[o],e[o]))return!1}return!0}function Xr(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Zr(t,e){var n=Xr(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Xr(n)}}function pm(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?pm(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function gm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Ml(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ml(t.document)}return e}function Gu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var qy=Dt&&"documentMode"in document&&11>=document.documentMode,Kn=null,As=null,Zi=null,_s=!1;function Wr(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_s||Kn==null||Kn!==Ml(i)||(i=Kn,"selectionStart"in i&&Gu(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Zi&&po(Zi,i)||(Zi=i,i=Ol(As,"onSelect"),0<i.length&&(e=new la("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Kn)))}function cn(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var $n={animationend:cn("Animation","AnimationEnd"),animationiteration:cn("Animation","AnimationIteration"),animationstart:cn("Animation","AnimationStart"),transitionrun:cn("Transition","TransitionRun"),transitionstart:cn("Transition","TransitionStart"),transitioncancel:cn("Transition","TransitionCancel"),transitionend:cn("Transition","TransitionEnd")},Ga={},hm={};Dt&&(hm=document.createElement("div").style,"AnimationEvent"in window||(delete $n.animationend.animation,delete $n.animationiteration.animation,delete $n.animationstart.animation),"TransitionEvent"in window||delete $n.transitionend.transition);function bn(t){if(Ga[t])return Ga[t];if(!$n[t])return t;var e=$n[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in hm)return Ga[t]=e[n];return t}var ym=bn("animationend"),vm=bn("animationiteration"),Tm=bn("animationstart"),Ly=bn("transitionrun"),Vy=bn("transitionstart"),Gy=bn("transitioncancel"),Cm=bn("transitionend"),Sm=new Map,xs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xs.push("scrollEnd");function rt(t,e){Sm.set(t,e),Nn(e,[t])}var jr=new WeakMap;function tt(t,e){if(typeof t=="object"&&t!==null){var n=jr.get(t);return n!==void 0?n:(e={value:t,source:e,stack:Gr(e)},jr.set(t,e),e)}return{value:t,source:e,stack:Gr(e)}}var Xe=[],Xn=0,Pu=0;function ua(){for(var t=Xn,e=Pu=Xn=0;e<t;){var n=Xe[e];Xe[e++]=null;var i=Xe[e];Xe[e++]=null;var o=Xe[e];Xe[e++]=null;var a=Xe[e];if(Xe[e++]=null,i!==null&&o!==null){var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}a!==0&&Em(n,o,a)}}function ra(t,e,n,i){Xe[Xn++]=t,Xe[Xn++]=e,Xe[Xn++]=n,Xe[Xn++]=i,Pu|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function Bu(t,e,n,i){return ra(t,e,n,i),Rl(t)}function Mi(t,e){return ra(t,null,null,e),Rl(t)}function Em(t,e,n){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n);for(var o=!1,a=t.return;a!==null;)a.childLanes|=n,i=a.alternate,i!==null&&(i.childLanes|=n),a.tag===22&&(t=a.stateNode,t===null||t._visibility&1||(o=!0)),t=a,a=a.return;return t.tag===3?(a=t.stateNode,o&&e!==null&&(o=31-Ye(n),t=a.hiddenUpdates,i=t[o],i===null?t[o]=[e]:i.push(e),e.lane=n|536870912),a):null}function Rl(t){if(50<so)throw so=0,Js=null,Error(x(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Zn={};function Py(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fe(t,e,n,i){return new Py(t,e,n,i)}function Hu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Rt(t,e){var n=t.alternate;return n===null?(n=Fe(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function Am(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function rl(t,e,n,i,o,a){var u=0;if(i=t,typeof t=="function")Hu(t)&&(u=1);else if(typeof t=="string")u=Hv(t,n,mt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ms:return t=Fe(31,n,e,o),t.elementType=ms,t.lanes=a,t;case Fn:return gn(n.children,o,a,e);case kd:u=8,o|=24;break;case cs:return t=Fe(12,n,e,o|2),t.elementType=cs,t.lanes=a,t;case fs:return t=Fe(13,n,e,o),t.elementType=fs,t.lanes=a,t;case ds:return t=Fe(19,n,e,o),t.elementType=ds,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Nh:case Et:u=10;break e;case Fd:u=9;break e;case Mu:u=11;break e;case Ru:u=14;break e;case Bt:u=16,i=null;break e}u=29,n=Error(x(130,t===null?"null":typeof t,"")),i=null}return e=Fe(u,n,e,o),e.elementType=t,e.type=i,e.lanes=a,e}function gn(t,e,n,i){return t=Fe(7,t,i,e),t.lanes=n,t}function Pa(t,e,n){return t=Fe(6,t,null,e),t.lanes=n,t}function Ba(t,e,n){return e=Fe(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Wn=[],jn=0,Nl=null,Dl=0,We=[],je=0,hn=null,At=1,_t="";function dn(t,e){Wn[jn++]=Dl,Wn[jn++]=Nl,Nl=t,Dl=e}function _m(t,e,n){We[je++]=At,We[je++]=_t,We[je++]=hn,hn=t;var i=At;t=_t;var o=32-Ye(i)-1;i&=~(1<<o),n+=1;var a=32-Ye(e)+o;if(30<a){var u=o-o%5;a=(i&(1<<u)-1).toString(32),i>>=u,o-=u,At=1<<32-Ye(e)+o|n<<o|i,_t=a+t}else At=1<<a|n<<o|i,_t=t}function zu(t){t.return!==null&&(dn(t,1),_m(t,1,0))}function ku(t){for(;t===Nl;)Nl=Wn[--jn],Wn[jn]=null,Dl=Wn[--jn],Wn[jn]=null;for(;t===hn;)hn=We[--je],We[je]=null,_t=We[--je],We[je]=null,At=We[--je],We[je]=null}var Ue=null,re=null,Y=!1,yn=null,ft=!1,Ms=Error(x(519));function An(t){var e=Error(x(418,""));throw go(tt(e,t)),Ms}function ec(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[De]=t,e[Pe]=i,n){case"dialog":B("cancel",e),B("close",e);break;case"iframe":case"object":case"embed":B("load",e);break;case"video":case"audio":for(n=0;n<vo.length;n++)B(vo[n],e);break;case"source":B("error",e);break;case"img":case"image":case"link":B("error",e),B("load",e);break;case"details":B("toggle",e);break;case"input":B("invalid",e),nm(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),xl(e);break;case"select":B("invalid",e);break;case"textarea":B("invalid",e),om(e,i.value,i.defaultValue,i.children),xl(e)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||i.suppressHydrationWarning===!0||lg(e.textContent,n)?(i.popover!=null&&(B("beforetoggle",e),B("toggle",e)),i.onScroll!=null&&B("scroll",e),i.onScrollEnd!=null&&B("scrollend",e),i.onClick!=null&&(e.onclick=ya),e=!0):e=!1,e||An(t)}function tc(t){for(Ue=t.return;Ue;)switch(Ue.tag){case 5:case 13:ft=!1;return;case 27:case 3:ft=!0;return;default:Ue=Ue.return}}function Pi(t){if(t!==Ue)return!1;if(!Y)return tc(t),Y=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Ws(t.type,t.memoizedProps)),n=!n),n&&re&&An(t),tc(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(x(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(e===0){re=ut(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++;t=t.nextSibling}re=null}}else e===27?(e=re,un(t.type)?(t=tu,tu=null,re=t):re=e):re=Ue?ut(t.stateNode.nextSibling):null;return!0}function wo(){re=Ue=null,Y=!1}function nc(){var t=yn;return t!==null&&(Ge===null?Ge=t:Ge.push.apply(Ge,t),yn=null),t}function go(t){yn===null?yn=[t]:yn.push(t)}var Rs=ht(null),wn=null,xt=null;function zt(t,e,n){le(Rs,e._currentValue),e._currentValue=n}function Nt(t){t._currentValue=Rs.current,_e(Rs)}function Ns(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Ds(t,e,n,i){var o=t.child;for(o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){var u=o.child;a=a.firstContext;e:for(;a!==null;){var r=a;a=o;for(var c=0;c<e.length;c++)if(r.context===e[c]){a.lanes|=n,r=a.alternate,r!==null&&(r.lanes|=n),Ns(a.return,n,t),i||(u=null);break e}a=r.next}}else if(o.tag===18){if(u=o.return,u===null)throw Error(x(341));u.lanes|=n,a=u.alternate,a!==null&&(a.lanes|=n),Ns(u,n,t),u=null}else u=o.child;if(u!==null)u.return=o;else for(u=o;u!==null;){if(u===t){u=null;break}if(o=u.sibling,o!==null){o.return=u.return,u=o;break}u=u.return}o=u}}function Uo(t,e,n,i){t=null;for(var o=e,a=!1;o!==null;){if(!a){if(o.flags&524288)a=!0;else if(o.flags&262144)break}if(o.tag===10){var u=o.alternate;if(u===null)throw Error(x(387));if(u=u.memoizedProps,u!==null){var r=o.type;Ke(o.pendingProps.value,u.value)||(t!==null?t.push(r):t=[r])}}else if(o===Sl.current){if(u=o.alternate,u===null)throw Error(x(387));u.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(t!==null?t.push(So):t=[So])}o=o.return}t!==null&&Ds(e,t,n,i),e.flags|=262144}function bl(t){for(t=t.firstContext;t!==null;){if(!Ke(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function _n(t){wn=t,xt=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function be(t){return xm(wn,t)}function Ko(t,e){return wn===null&&_n(t),xm(t,e)}function xm(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},xt===null){if(t===null)throw Error(x(308));xt=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else xt=xt.next=e;return n}var By=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},Hy=Ce.unstable_scheduleCallback,zy=Ce.unstable_NormalPriority,ve={$$typeof:Et,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fu(){return{controller:new By,data:new Map,refCount:0}}function Io(t){t.refCount--,t.refCount===0&&Hy(zy,function(){t.controller.abort()})}var Wi=null,bs=0,gi=0,li=null;function ky(t,e){if(Wi===null){var n=Wi=[];bs=0,gi=dr(),li={status:"pending",value:void 0,then:function(i){n.push(i)}}}return bs++,e.then(ic,ic),e}function ic(){if(--bs===0&&Wi!==null){li!==null&&(li.status="fulfilled");var t=Wi;Wi=null,gi=0,li=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function Fy(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(o){n.push(o)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var o=0;o<n.length;o++)(0,n[o])(e)},function(o){for(i.status="rejected",i.reason=o,o=0;o<n.length;o++)(0,n[o])(void 0)}),i}var oc=q.S;q.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&ky(t,e),oc!==null&&oc(t,e)};var vn=ht(null);function Ou(){var t=vn.current;return t!==null?t:j.pooledCache}function cl(t,e){e===null?le(vn,vn.current):le(vn,e.pool)}function Mm(){var t=Ou();return t===null?null:{parent:ve._currentValue,pool:t}}var qo=Error(x(460)),Rm=Error(x(474)),ca=Error(x(542)),ws={then:function(){}};function lc(t){return t=t.status,t==="fulfilled"||t==="rejected"}function $o(){}function Nm(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then($o,$o),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,sc(t),t;default:if(typeof e.status=="string")e.then($o,$o);else{if(t=j,t!==null&&100<t.shellSuspendCounter)throw Error(x(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var o=e;o.status="fulfilled",o.value=i}},function(i){if(e.status==="pending"){var o=e;o.status="rejected",o.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,sc(t),t}throw ji=e,qo}}var ji=null;function ac(){if(ji===null)throw Error(x(459));var t=ji;return ji=null,t}function sc(t){if(t===qo||t===ca)throw Error(x(483))}var Ht=!1;function Yu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Us(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Xt(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Zt(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,K&2){var o=i.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),i.pending=e,e=Rl(t),Em(t,null,n),e}return ra(t,i,e,n),Rl(t)}function eo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Xd(t,n)}}function Ha(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var o=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var u={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?o=a=u:a=a.next=u,n=n.next}while(n!==null);a===null?o=a=e:a=a.next=e}else o=a=e;n={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:i.shared,callbacks:i.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var Is=!1;function to(){if(Is){var t=li;if(t!==null)throw t}}function no(t,e,n,i){Is=!1;var o=t.updateQueue;Ht=!1;var a=o.firstBaseUpdate,u=o.lastBaseUpdate,r=o.shared.pending;if(r!==null){o.shared.pending=null;var c=r,f=c.next;c.next=null,u===null?a=f:u.next=f,u=c;var d=t.alternate;d!==null&&(d=d.updateQueue,r=d.lastBaseUpdate,r!==u&&(r===null?d.firstBaseUpdate=f:r.next=f,d.lastBaseUpdate=c))}if(a!==null){var m=o.baseState;u=0,d=f=c=null,r=a;do{var p=r.lane&-536870913,g=p!==r.lane;if(g?(F&p)===p:(i&p)===p){p!==0&&p===gi&&(Is=!0),d!==null&&(d=d.next={lane:0,tag:r.tag,payload:r.payload,callback:null,next:null});e:{var T=t,S=r;p=e;var _=n;switch(S.tag){case 1:if(T=S.payload,typeof T=="function"){m=T.call(_,m,p);break e}m=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=S.payload,p=typeof T=="function"?T.call(_,m,p):T,p==null)break e;m=te({},m,p);break e;case 2:Ht=!0}}p=r.callback,p!==null&&(t.flags|=64,g&&(t.flags|=8192),g=o.callbacks,g===null?o.callbacks=[p]:g.push(p))}else g={lane:p,tag:r.tag,payload:r.payload,callback:r.callback,next:null},d===null?(f=d=g,c=m):d=d.next=g,u|=p;if(r=r.next,r===null){if(r=o.shared.pending,r===null)break;g=r,r=g.next,g.next=null,o.lastBaseUpdate=g,o.shared.pending=null}}while(1);d===null&&(c=m),o.baseState=c,o.firstBaseUpdate=f,o.lastBaseUpdate=d,a===null&&(o.shared.lanes=0),an|=u,t.lanes=u,t.memoizedState=m}}function Dm(t,e){if(typeof t!="function")throw Error(x(191,t));t.call(e)}function bm(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)Dm(n[t],e)}var hi=ht(null),wl=ht(0);function uc(t,e){t=Ut,le(wl,t),le(hi,e),Ut=t|e.baseLanes}function qs(){le(wl,Ut),le(hi,hi.current)}function Ju(){Ut=wl.current,_e(hi),_e(wl)}var on=0,P=null,Z=null,ge=null,Ul=!1,ai=!1,xn=!1,Il=0,ho=0,si=null,Oy=0;function de(){throw Error(x(321))}function Qu(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ke(t[n],e[n]))return!1;return!0}function Ku(t,e,n,i,o,a){return on=a,P=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,q.H=t===null||t.memoizedState===null?sp:up,xn=!1,a=n(i,o),xn=!1,ai&&(a=Um(e,n,i,o)),wm(t),a}function wm(t){q.H=ql;var e=Z!==null&&Z.next!==null;if(on=0,ge=Z=P=null,Ul=!1,ho=0,si=null,e)throw Error(x(300));t===null||Ae||(t=t.dependencies,t!==null&&bl(t)&&(Ae=!0))}function Um(t,e,n,i){P=t;var o=0;do{if(ai&&(si=null),ho=0,ai=!1,25<=o)throw Error(x(301));if(o+=1,ge=Z=null,t.updateQueue!=null){var a=t.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}q.H=Zy,a=e(n,i)}while(ai);return a}function Yy(){var t=q.H,e=t.useState()[0];return e=typeof e.then=="function"?Lo(e):e,t=t.useState()[0],(Z!==null?Z.memoizedState:null)!==t&&(P.flags|=1024),e}function $u(){var t=Il!==0;return Il=0,t}function Xu(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Zu(t){if(Ul){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Ul=!1}on=0,ge=Z=P=null,ai=!1,ho=Il=0,si=null}function Le(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?P.memoizedState=ge=t:ge=ge.next=t,ge}function he(){if(Z===null){var t=P.alternate;t=t!==null?t.memoizedState:null}else t=Z.next;var e=ge===null?P.memoizedState:ge.next;if(e!==null)ge=e,Z=t;else{if(t===null)throw P.alternate===null?Error(x(467)):Error(x(310));Z=t,t={memoizedState:Z.memoizedState,baseState:Z.baseState,baseQueue:Z.baseQueue,queue:Z.queue,next:null},ge===null?P.memoizedState=ge=t:ge=ge.next=t}return ge}function Wu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Lo(t){var e=ho;return ho+=1,si===null&&(si=[]),t=Nm(si,t,e),e=P,(ge===null?e.memoizedState:ge.next)===null&&(e=e.alternate,q.H=e===null||e.memoizedState===null?sp:up),t}function fa(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Lo(t);if(t.$$typeof===Et)return be(t)}throw Error(x(438,String(t)))}function ju(t){var e=null,n=P.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var i=P.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(o){return o.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Wu(),P.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=Dh;return e.index++,n}function bt(t,e){return typeof e=="function"?e(t):e}function fl(t){var e=he();return er(e,Z,t)}function er(t,e,n){var i=t.queue;if(i===null)throw Error(x(311));i.lastRenderedReducer=n;var o=t.baseQueue,a=i.pending;if(a!==null){if(o!==null){var u=o.next;o.next=a.next,a.next=u}e.baseQueue=o=a,i.pending=null}if(a=t.baseState,o===null)t.memoizedState=a;else{e=o.next;var r=u=null,c=null,f=e,d=!1;do{var m=f.lane&-536870913;if(m!==f.lane?(F&m)===m:(on&m)===m){var p=f.revertLane;if(p===0)c!==null&&(c=c.next={lane:0,revertLane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),m===gi&&(d=!0);else if((on&p)===p){f=f.next,p===gi&&(d=!0);continue}else m={lane:0,revertLane:f.revertLane,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null},c===null?(r=c=m,u=a):c=c.next=m,P.lanes|=p,an|=p;m=f.action,xn&&n(a,m),a=f.hasEagerState?f.eagerState:n(a,m)}else p={lane:m,revertLane:f.revertLane,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null},c===null?(r=c=p,u=a):c=c.next=p,P.lanes|=m,an|=m;f=f.next}while(f!==null&&f!==e);if(c===null?u=a:c.next=r,!Ke(a,t.memoizedState)&&(Ae=!0,d&&(n=li,n!==null)))throw n;t.memoizedState=a,t.baseState=u,t.baseQueue=c,i.lastRenderedState=a}return o===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function za(t){var e=he(),n=e.queue;if(n===null)throw Error(x(311));n.lastRenderedReducer=t;var i=n.dispatch,o=n.pending,a=e.memoizedState;if(o!==null){n.pending=null;var u=o=o.next;do a=t(a,u.action),u=u.next;while(u!==o);Ke(a,e.memoizedState)||(Ae=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,i]}function Im(t,e,n){var i=P,o=he(),a=Y;if(a){if(n===void 0)throw Error(x(407));n=n()}else n=e();var u=!Ke((Z||o).memoizedState,n);u&&(o.memoizedState=n,Ae=!0),o=o.queue;var r=Vm.bind(null,i,o,t);if(Vo(2048,8,r,[t]),o.getSnapshot!==e||u||ge!==null&&ge.memoizedState.tag&1){if(i.flags|=2048,yi(9,da(),Lm.bind(null,i,o,n,e),null),j===null)throw Error(x(349));a||on&124||qm(i,e,n)}return n}function qm(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=P.updateQueue,e===null?(e=Wu(),P.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Lm(t,e,n,i){e.value=n,e.getSnapshot=i,Gm(e)&&Pm(t)}function Vm(t,e,n){return n(function(){Gm(e)&&Pm(t)})}function Gm(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ke(t,n)}catch{return!0}}function Pm(t){var e=Mi(t,2);e!==null&&Qe(e,t,2)}function Ls(t){var e=Le();if(typeof t=="function"){var n=t;if(t=n(),xn){Yt(!0);try{n()}finally{Yt(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bt,lastRenderedState:t},e}function Bm(t,e,n,i){return t.baseState=n,er(t,Z,typeof i=="function"?i:bt)}function Jy(t,e,n,i,o){if(ma(t))throw Error(x(485));if(t=e.action,t!==null){var a={payload:o,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(u){a.listeners.push(u)}};q.T!==null?n(!0):a.isTransition=!1,i(a),n=e.pending,n===null?(a.next=e.pending=a,Hm(e,a)):(a.next=n.next,e.pending=n.next=a)}}function Hm(t,e){var n=e.action,i=e.payload,o=t.state;if(e.isTransition){var a=q.T,u={};q.T=u;try{var r=n(o,i),c=q.S;c!==null&&c(u,r),rc(t,e,r)}catch(f){Vs(t,e,f)}finally{q.T=a}}else try{a=n(o,i),rc(t,e,a)}catch(f){Vs(t,e,f)}}function rc(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){cc(t,e,i)},function(i){return Vs(t,e,i)}):cc(t,e,n)}function cc(t,e,n){e.status="fulfilled",e.value=n,zm(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,Hm(t,n)))}function Vs(t,e,n){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=n,zm(e),e=e.next;while(e!==i)}t.action=null}function zm(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function km(t,e){return e}function fc(t,e){if(Y){var n=j.formState;if(n!==null){e:{var i=P;if(Y){if(re){t:{for(var o=re,a=ft;o.nodeType!==8;){if(!a){o=null;break t}if(o=ut(o.nextSibling),o===null){o=null;break t}}a=o.data,o=a==="F!"||a==="F"?o:null}if(o){re=ut(o.nextSibling),i=o.data==="F!";break e}}An(i)}i=!1}i&&(e=n[0])}}return n=Le(),n.memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:km,lastRenderedState:e},n.queue=i,n=op.bind(null,P,i),i.dispatch=n,i=Ls(!1),a=or.bind(null,P,!1,i.queue),i=Le(),o={state:e,dispatch:null,action:t,pending:null},i.queue=o,n=Jy.bind(null,P,o,a,n),o.dispatch=n,i.memoizedState=t,[e,n,!1]}function dc(t){var e=he();return Fm(e,Z,t)}function Fm(t,e,n){if(e=er(t,e,km)[0],t=fl(bt)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var i=Lo(e)}catch(u){throw u===qo?ca:u}else i=e;e=he();var o=e.queue,a=o.dispatch;return n!==e.memoizedState&&(P.flags|=2048,yi(9,da(),Qy.bind(null,o,n),null)),[i,a,t]}function Qy(t,e){t.action=e}function mc(t){var e=he(),n=Z;if(n!==null)return Fm(e,n,t);he(),e=e.memoizedState,n=he();var i=n.queue.dispatch;return n.memoizedState=t,[e,i,!1]}function yi(t,e,n,i){return t={tag:t,create:n,deps:i,inst:e,next:null},e=P.updateQueue,e===null&&(e=Wu(),P.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function da(){return{destroy:void 0,resource:void 0}}function Om(){return he().memoizedState}function dl(t,e,n,i){var o=Le();i=i===void 0?null:i,P.flags|=t,o.memoizedState=yi(1|e,da(),n,i)}function Vo(t,e,n,i){var o=he();i=i===void 0?null:i;var a=o.memoizedState.inst;Z!==null&&i!==null&&Qu(i,Z.memoizedState.deps)?o.memoizedState=yi(e,a,n,i):(P.flags|=t,o.memoizedState=yi(1|e,a,n,i))}function pc(t,e){dl(8390656,8,t,e)}function Ym(t,e){Vo(2048,8,t,e)}function Jm(t,e){return Vo(4,2,t,e)}function Qm(t,e){return Vo(4,4,t,e)}function Km(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function $m(t,e,n){n=n!=null?n.concat([t]):null,Vo(4,4,Km.bind(null,e,t),n)}function tr(){}function Xm(t,e){var n=he();e=e===void 0?null:e;var i=n.memoizedState;return e!==null&&Qu(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function Zm(t,e){var n=he();e=e===void 0?null:e;var i=n.memoizedState;if(e!==null&&Qu(e,i[1]))return i[0];if(i=t(),xn){Yt(!0);try{t()}finally{Yt(!1)}}return n.memoizedState=[i,e],i}function nr(t,e,n){return n===void 0||on&1073741824?t.memoizedState=e:(t.memoizedState=n,t=zp(),P.lanes|=t,an|=t,n)}function Wm(t,e,n,i){return Ke(n,e)?n:hi.current!==null?(t=nr(t,n,i),Ke(t,e)||(Ae=!0),t):on&42?(t=zp(),P.lanes|=t,an|=t,e):(Ae=!0,t.memoizedState=n)}function jm(t,e,n,i,o){var a=J.p;J.p=a!==0&&8>a?a:8;var u=q.T,r={};q.T=r,or(t,!1,e,n);try{var c=o(),f=q.S;if(f!==null&&f(r,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=Fy(c,i);io(t,e,d,Je(t))}else io(t,e,i,Je(t))}catch(m){io(t,e,{then:function(){},status:"rejected",reason:m},Je())}finally{J.p=a,q.T=u}}function Ky(){}function Gs(t,e,n,i){if(t.tag!==5)throw Error(x(476));var o=ep(t).queue;jm(t,o,e,pn,n===null?Ky:function(){return tp(t),n(i)})}function ep(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:pn,baseState:pn,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bt,lastRenderedState:pn},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bt,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function tp(t){var e=ep(t).next.queue;io(t,e,{},Je())}function ir(){return be(So)}function np(){return he().memoizedState}function ip(){return he().memoizedState}function $y(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=Je();t=Xt(n);var i=Zt(e,t,n);i!==null&&(Qe(i,e,n),eo(i,e,n)),e={cache:Fu()},t.payload=e;return}e=e.return}}function Xy(t,e,n){var i=Je();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},ma(t)?lp(e,n):(n=Bu(t,e,n,i),n!==null&&(Qe(n,t,i),ap(n,e,i)))}function op(t,e,n){var i=Je();io(t,e,n,i)}function io(t,e,n,i){var o={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(ma(t))lp(e,o);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var u=e.lastRenderedState,r=a(u,n);if(o.hasEagerState=!0,o.eagerState=r,Ke(r,u))return ra(t,e,o,0),j===null&&ua(),!1}catch{}finally{}if(n=Bu(t,e,o,i),n!==null)return Qe(n,t,i),ap(n,e,i),!0}return!1}function or(t,e,n,i){if(i={lane:2,revertLane:dr(),action:i,hasEagerState:!1,eagerState:null,next:null},ma(t)){if(e)throw Error(x(479))}else e=Bu(t,n,i,2),e!==null&&Qe(e,t,2)}function ma(t){var e=t.alternate;return t===P||e!==null&&e===P}function lp(t,e){ai=Ul=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ap(t,e,n){if(n&4194048){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Xd(t,n)}}var ql={readContext:be,use:fa,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de},sp={readContext:be,use:fa,useCallback:function(t,e){return Le().memoizedState=[t,e===void 0?null:e],t},useContext:be,useEffect:pc,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,dl(4194308,4,Km.bind(null,e,t),n)},useLayoutEffect:function(t,e){return dl(4194308,4,t,e)},useInsertionEffect:function(t,e){dl(4,2,t,e)},useMemo:function(t,e){var n=Le();e=e===void 0?null:e;var i=t();if(xn){Yt(!0);try{t()}finally{Yt(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=Le();if(n!==void 0){var o=n(e);if(xn){Yt(!0);try{n(e)}finally{Yt(!1)}}}else o=e;return i.memoizedState=i.baseState=o,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:o},i.queue=t,t=t.dispatch=Xy.bind(null,P,t),[i.memoizedState,t]},useRef:function(t){var e=Le();return t={current:t},e.memoizedState=t},useState:function(t){t=Ls(t);var e=t.queue,n=op.bind(null,P,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:tr,useDeferredValue:function(t,e){var n=Le();return nr(n,t,e)},useTransition:function(){var t=Ls(!1);return t=jm.bind(null,P,t.queue,!0,!1),Le().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=P,o=Le();if(Y){if(n===void 0)throw Error(x(407));n=n()}else{if(n=e(),j===null)throw Error(x(349));F&124||qm(i,e,n)}o.memoizedState=n;var a={value:n,getSnapshot:e};return o.queue=a,pc(Vm.bind(null,i,a,t),[t]),i.flags|=2048,yi(9,da(),Lm.bind(null,i,a,n,e),null),n},useId:function(){var t=Le(),e=j.identifierPrefix;if(Y){var n=_t,i=At;n=(i&~(1<<32-Ye(i)-1)).toString(32)+n,e="«"+e+"R"+n,n=Il++,0<n&&(e+="H"+n.toString(32)),e+="»"}else n=Oy++,e="«"+e+"r"+n.toString(32)+"»";return t.memoizedState=e},useHostTransitionStatus:ir,useFormState:fc,useActionState:fc,useOptimistic:function(t){var e=Le();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=or.bind(null,P,!0,n),n.dispatch=e,[t,e]},useMemoCache:ju,useCacheRefresh:function(){return Le().memoizedState=$y.bind(null,P)}},up={readContext:be,use:fa,useCallback:Xm,useContext:be,useEffect:Ym,useImperativeHandle:$m,useInsertionEffect:Jm,useLayoutEffect:Qm,useMemo:Zm,useReducer:fl,useRef:Om,useState:function(){return fl(bt)},useDebugValue:tr,useDeferredValue:function(t,e){var n=he();return Wm(n,Z.memoizedState,t,e)},useTransition:function(){var t=fl(bt)[0],e=he().memoizedState;return[typeof t=="boolean"?t:Lo(t),e]},useSyncExternalStore:Im,useId:np,useHostTransitionStatus:ir,useFormState:dc,useActionState:dc,useOptimistic:function(t,e){var n=he();return Bm(n,Z,t,e)},useMemoCache:ju,useCacheRefresh:ip},Zy={readContext:be,use:fa,useCallback:Xm,useContext:be,useEffect:Ym,useImperativeHandle:$m,useInsertionEffect:Jm,useLayoutEffect:Qm,useMemo:Zm,useReducer:za,useRef:Om,useState:function(){return za(bt)},useDebugValue:tr,useDeferredValue:function(t,e){var n=he();return Z===null?nr(n,t,e):Wm(n,Z.memoizedState,t,e)},useTransition:function(){var t=za(bt)[0],e=he().memoizedState;return[typeof t=="boolean"?t:Lo(t),e]},useSyncExternalStore:Im,useId:np,useHostTransitionStatus:ir,useFormState:mc,useActionState:mc,useOptimistic:function(t,e){var n=he();return Z!==null?Bm(n,Z,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:ju,useCacheRefresh:ip},ui=null,yo=0;function Xo(t){var e=yo;return yo+=1,ui===null&&(ui=[]),Nm(ui,t,e)}function Bi(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Zo(t,e){throw e.$$typeof===Rh?Error(x(525)):(t=Object.prototype.toString.call(e),Error(x(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function gc(t){var e=t._init;return e(t._payload)}function rp(t){function e(y,h){if(t){var v=y.deletions;v===null?(y.deletions=[h],y.flags|=16):v.push(h)}}function n(y,h){if(!t)return null;for(;h!==null;)e(y,h),h=h.sibling;return null}function i(y){for(var h=new Map;y!==null;)y.key!==null?h.set(y.key,y):h.set(y.index,y),y=y.sibling;return h}function o(y,h){return y=Rt(y,h),y.index=0,y.sibling=null,y}function a(y,h,v){return y.index=v,t?(v=y.alternate,v!==null?(v=v.index,v<h?(y.flags|=67108866,h):v):(y.flags|=67108866,h)):(y.flags|=1048576,h)}function u(y){return t&&y.alternate===null&&(y.flags|=67108866),y}function r(y,h,v,C){return h===null||h.tag!==6?(h=Pa(v,y.mode,C),h.return=y,h):(h=o(h,v),h.return=y,h)}function c(y,h,v,C){var A=v.type;return A===Fn?d(y,h,v.props.children,C,v.key):h!==null&&(h.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Bt&&gc(A)===h.type)?(h=o(h,v.props),Bi(h,v),h.return=y,h):(h=rl(v.type,v.key,v.props,null,y.mode,C),Bi(h,v),h.return=y,h)}function f(y,h,v,C){return h===null||h.tag!==4||h.stateNode.containerInfo!==v.containerInfo||h.stateNode.implementation!==v.implementation?(h=Ba(v,y.mode,C),h.return=y,h):(h=o(h,v.children||[]),h.return=y,h)}function d(y,h,v,C,A){return h===null||h.tag!==7?(h=gn(v,y.mode,C,A),h.return=y,h):(h=o(h,v),h.return=y,h)}function m(y,h,v){if(typeof h=="string"&&h!==""||typeof h=="number"||typeof h=="bigint")return h=Pa(""+h,y.mode,v),h.return=y,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Fo:return v=rl(h.type,h.key,h.props,null,y.mode,v),Bi(v,h),v.return=y,v;case Oi:return h=Ba(h,y.mode,v),h.return=y,h;case Bt:var C=h._init;return h=C(h._payload),m(y,h,v)}if(Yi(h)||Li(h))return h=gn(h,y.mode,v,null),h.return=y,h;if(typeof h.then=="function")return m(y,Xo(h),v);if(h.$$typeof===Et)return m(y,Ko(y,h),v);Zo(y,h)}return null}function p(y,h,v,C){var A=h!==null?h.key:null;if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return A!==null?null:r(y,h,""+v,C);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Fo:return v.key===A?c(y,h,v,C):null;case Oi:return v.key===A?f(y,h,v,C):null;case Bt:return A=v._init,v=A(v._payload),p(y,h,v,C)}if(Yi(v)||Li(v))return A!==null?null:d(y,h,v,C,null);if(typeof v.then=="function")return p(y,h,Xo(v),C);if(v.$$typeof===Et)return p(y,h,Ko(y,v),C);Zo(y,v)}return null}function g(y,h,v,C,A){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return y=y.get(v)||null,r(h,y,""+C,A);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Fo:return y=y.get(C.key===null?v:C.key)||null,c(h,y,C,A);case Oi:return y=y.get(C.key===null?v:C.key)||null,f(h,y,C,A);case Bt:var N=C._init;return C=N(C._payload),g(y,h,v,C,A)}if(Yi(C)||Li(C))return y=y.get(v)||null,d(h,y,C,A,null);if(typeof C.then=="function")return g(y,h,v,Xo(C),A);if(C.$$typeof===Et)return g(y,h,v,Ko(h,C),A);Zo(h,C)}return null}function T(y,h,v,C){for(var A=null,N=null,M=h,R=h=0,D=null;M!==null&&R<v.length;R++){M.index>R?(D=M,M=null):D=M.sibling;var w=p(y,M,v[R],C);if(w===null){M===null&&(M=D);break}t&&M&&w.alternate===null&&e(y,M),h=a(w,h,R),N===null?A=w:N.sibling=w,N=w,M=D}if(R===v.length)return n(y,M),Y&&dn(y,R),A;if(M===null){for(;R<v.length;R++)M=m(y,v[R],C),M!==null&&(h=a(M,h,R),N===null?A=M:N.sibling=M,N=M);return Y&&dn(y,R),A}for(M=i(M);R<v.length;R++)D=g(M,y,R,v[R],C),D!==null&&(t&&D.alternate!==null&&M.delete(D.key===null?R:D.key),h=a(D,h,R),N===null?A=D:N.sibling=D,N=D);return t&&M.forEach(function(L){return e(y,L)}),Y&&dn(y,R),A}function S(y,h,v,C){if(v==null)throw Error(x(151));for(var A=null,N=null,M=h,R=h=0,D=null,w=v.next();M!==null&&!w.done;R++,w=v.next()){M.index>R?(D=M,M=null):D=M.sibling;var L=p(y,M,w.value,C);if(L===null){M===null&&(M=D);break}t&&M&&L.alternate===null&&e(y,M),h=a(L,h,R),N===null?A=L:N.sibling=L,N=L,M=D}if(w.done)return n(y,M),Y&&dn(y,R),A;if(M===null){for(;!w.done;R++,w=v.next())w=m(y,w.value,C),w!==null&&(h=a(w,h,R),N===null?A=w:N.sibling=w,N=w);return Y&&dn(y,R),A}for(M=i(M);!w.done;R++,w=v.next())w=g(M,y,R,w.value,C),w!==null&&(t&&w.alternate!==null&&M.delete(w.key===null?R:w.key),h=a(w,h,R),N===null?A=w:N.sibling=w,N=w);return t&&M.forEach(function(fe){return e(y,fe)}),Y&&dn(y,R),A}function _(y,h,v,C){if(typeof v=="object"&&v!==null&&v.type===Fn&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Fo:e:{for(var A=v.key;h!==null;){if(h.key===A){if(A=v.type,A===Fn){if(h.tag===7){n(y,h.sibling),C=o(h,v.props.children),C.return=y,y=C;break e}}else if(h.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Bt&&gc(A)===h.type){n(y,h.sibling),C=o(h,v.props),Bi(C,v),C.return=y,y=C;break e}n(y,h);break}else e(y,h);h=h.sibling}v.type===Fn?(C=gn(v.props.children,y.mode,C,v.key),C.return=y,y=C):(C=rl(v.type,v.key,v.props,null,y.mode,C),Bi(C,v),C.return=y,y=C)}return u(y);case Oi:e:{for(A=v.key;h!==null;){if(h.key===A)if(h.tag===4&&h.stateNode.containerInfo===v.containerInfo&&h.stateNode.implementation===v.implementation){n(y,h.sibling),C=o(h,v.children||[]),C.return=y,y=C;break e}else{n(y,h);break}else e(y,h);h=h.sibling}C=Ba(v,y.mode,C),C.return=y,y=C}return u(y);case Bt:return A=v._init,v=A(v._payload),_(y,h,v,C)}if(Yi(v))return T(y,h,v,C);if(Li(v)){if(A=Li(v),typeof A!="function")throw Error(x(150));return v=A.call(v),S(y,h,v,C)}if(typeof v.then=="function")return _(y,h,Xo(v),C);if(v.$$typeof===Et)return _(y,h,Ko(y,v),C);Zo(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint"?(v=""+v,h!==null&&h.tag===6?(n(y,h.sibling),C=o(h,v),C.return=y,y=C):(n(y,h),C=Pa(v,y.mode,C),C.return=y,y=C),u(y)):n(y,h)}return function(y,h,v,C){try{yo=0;var A=_(y,h,v,C);return ui=null,A}catch(M){if(M===qo||M===ca)throw M;var N=Fe(29,M,null,y.mode);return N.lanes=C,N.return=y,N}finally{}}}var vi=rp(!0),cp=rp(!1),ot=ht(null),gt=null;function kt(t){var e=t.alternate;le(Te,Te.current&1),le(ot,t),gt===null&&(e===null||hi.current!==null||e.memoizedState!==null)&&(gt=t)}function fp(t){if(t.tag===22){if(le(Te,Te.current),le(ot,t),gt===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(gt=t)}}else Ft()}function Ft(){le(Te,Te.current),le(ot,ot.current)}function Mt(t){_e(ot),gt===t&&(gt=null),_e(Te)}var Te=ht(0);function Ll(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||eu(n)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function ka(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:te({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ps={enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Je(),o=Xt(i);o.payload=e,n!=null&&(o.callback=n),e=Zt(t,o,i),e!==null&&(Qe(e,t,i),eo(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Je(),o=Xt(i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Zt(t,o,i),e!==null&&(Qe(e,t,i),eo(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Je(),i=Xt(n);i.tag=2,e!=null&&(i.callback=e),e=Zt(t,i,n),e!==null&&(Qe(e,t,n),eo(e,t,n))}};function hc(t,e,n,i,o,a,u){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,a,u):e.prototype&&e.prototype.isPureReactComponent?!po(n,i)||!po(o,a):!0}function yc(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Ps.enqueueReplaceState(e,e.state,null)}function Mn(t,e){var n=e;if("ref"in e){n={};for(var i in e)i!=="ref"&&(n[i]=e[i])}if(t=t.defaultProps){n===e&&(n=te({},n));for(var o in t)n[o]===void 0&&(n[o]=t[o])}return n}var Vl=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function dp(t){Vl(t)}function mp(t){console.error(t)}function pp(t){Vl(t)}function Gl(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function vc(t,e,n){try{var i=t.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Bs(t,e,n){return n=Xt(n),n.tag=3,n.payload={element:null},n.callback=function(){Gl(t,e)},n}function gp(t){return t=Xt(t),t.tag=3,t}function hp(t,e,n,i){var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var a=i.value;t.payload=function(){return o(a)},t.callback=function(){vc(e,n,i)}}var u=n.stateNode;u!==null&&typeof u.componentDidCatch=="function"&&(t.callback=function(){vc(e,n,i),typeof o!="function"&&(Wt===null?Wt=new Set([this]):Wt.add(this));var r=i.stack;this.componentDidCatch(i.value,{componentStack:r!==null?r:""})})}function Wy(t,e,n,i,o){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=n.alternate,e!==null&&Uo(e,n,o,!0),n=ot.current,n!==null){switch(n.tag){case 13:return gt===null?Qs():n.alternate===null&&ce===0&&(ce=3),n.flags&=-257,n.flags|=65536,n.lanes=o,i===ws?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([i]):e.add(i),ja(t,i,o)),!1;case 22:return n.flags|=65536,i===ws?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([i]):n.add(i)),ja(t,i,o)),!1}throw Error(x(435,n.tag))}return ja(t,i,o),Qs(),!1}if(Y)return e=ot.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=o,i!==Ms&&(t=Error(x(422),{cause:i}),go(tt(t,n)))):(i!==Ms&&(e=Error(x(423),{cause:i}),go(tt(e,n))),t=t.current.alternate,t.flags|=65536,o&=-o,t.lanes|=o,i=tt(i,n),o=Bs(t.stateNode,i,o),Ha(t,o),ce!==4&&(ce=2)),!1;var a=Error(x(520),{cause:i});if(a=tt(a,n),ao===null?ao=[a]:ao.push(a),ce!==4&&(ce=2),e===null)return!0;i=tt(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=o&-o,n.lanes|=t,t=Bs(n.stateNode,i,t),Ha(n,t),!1;case 1:if(e=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(Wt===null||!Wt.has(a))))return n.flags|=65536,o&=-o,n.lanes|=o,o=gp(o),hp(o,t,n,i),Ha(n,o),!1}n=n.return}while(n!==null);return!1}var yp=Error(x(461)),Ae=!1;function xe(t,e,n,i){e.child=t===null?cp(e,null,n,i):vi(e,t.child,n,i)}function Tc(t,e,n,i,o){n=n.render;var a=e.ref;if("ref"in i){var u={};for(var r in i)r!=="ref"&&(u[r]=i[r])}else u=i;return _n(e),i=Ku(t,e,n,u,a,o),r=$u(),t!==null&&!Ae?(Xu(t,e,o),wt(t,e,o)):(Y&&r&&zu(e),e.flags|=1,xe(t,e,i,o),e.child)}function Cc(t,e,n,i,o){if(t===null){var a=n.type;return typeof a=="function"&&!Hu(a)&&a.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=a,vp(t,e,a,i,o)):(t=rl(n.type,null,i,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!lr(t,o)){var u=a.memoizedProps;if(n=n.compare,n=n!==null?n:po,n(u,i)&&t.ref===e.ref)return wt(t,e,o)}return e.flags|=1,t=Rt(a,i),t.ref=e.ref,t.return=e,e.child=t}function vp(t,e,n,i,o){if(t!==null){var a=t.memoizedProps;if(po(a,i)&&t.ref===e.ref)if(Ae=!1,e.pendingProps=i=a,lr(t,o))t.flags&131072&&(Ae=!0);else return e.lanes=t.lanes,wt(t,e,o)}return Hs(t,e,n,i,o)}function Tp(t,e,n){var i=e.pendingProps,o=i.children,a=t!==null?t.memoizedState:null;if(i.mode==="hidden"){if(e.flags&128){if(i=a!==null?a.baseLanes|n:n,t!==null){for(o=e.child=t.child,a=0;o!==null;)a=a|o.lanes|o.childLanes,o=o.sibling;e.childLanes=a&~i}else e.childLanes=0,e.child=null;return Sc(t,e,i,n)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&cl(e,a!==null?a.cachePool:null),a!==null?uc(e,a):qs(),fp(e);else return e.lanes=e.childLanes=536870912,Sc(t,e,a!==null?a.baseLanes|n:n,n)}else a!==null?(cl(e,a.cachePool),uc(e,a),Ft(),e.memoizedState=null):(t!==null&&cl(e,null),qs(),Ft());return xe(t,e,o,n),e.child}function Sc(t,e,n,i){var o=Ou();return o=o===null?null:{parent:ve._currentValue,pool:o},e.memoizedState={baseLanes:n,cachePool:o},t!==null&&cl(e,null),qs(),fp(e),t!==null&&Uo(t,e,i,!0),null}function ml(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(x(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function Hs(t,e,n,i,o){return _n(e),n=Ku(t,e,n,i,void 0,o),i=$u(),t!==null&&!Ae?(Xu(t,e,o),wt(t,e,o)):(Y&&i&&zu(e),e.flags|=1,xe(t,e,n,o),e.child)}function Ec(t,e,n,i,o,a){return _n(e),e.updateQueue=null,n=Um(e,i,n,o),wm(t),i=$u(),t!==null&&!Ae?(Xu(t,e,a),wt(t,e,a)):(Y&&i&&zu(e),e.flags|=1,xe(t,e,n,a),e.child)}function Ac(t,e,n,i,o){if(_n(e),e.stateNode===null){var a=Zn,u=n.contextType;typeof u=="object"&&u!==null&&(a=be(u)),a=new n(i,a),e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Ps,e.stateNode=a,a._reactInternals=e,a=e.stateNode,a.props=i,a.state=e.memoizedState,a.refs={},Yu(e),u=n.contextType,a.context=typeof u=="object"&&u!==null?be(u):Zn,a.state=e.memoizedState,u=n.getDerivedStateFromProps,typeof u=="function"&&(ka(e,n,u,i),a.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(u=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),u!==a.state&&Ps.enqueueReplaceState(a,a.state,null),no(e,i,a,o),to(),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){a=e.stateNode;var r=e.memoizedProps,c=Mn(n,r);a.props=c;var f=a.context,d=n.contextType;u=Zn,typeof d=="object"&&d!==null&&(u=be(d));var m=n.getDerivedStateFromProps;d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function",r=e.pendingProps!==r,d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(r||f!==u)&&yc(e,a,i,u),Ht=!1;var p=e.memoizedState;a.state=p,no(e,i,a,o),to(),f=e.memoizedState,r||p!==f||Ht?(typeof m=="function"&&(ka(e,n,m,i),f=e.memoizedState),(c=Ht||hc(e,n,c,i,p,f,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=f),a.props=i,a.state=f,a.context=u,i=c):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{a=e.stateNode,Us(t,e),u=e.memoizedProps,d=Mn(n,u),a.props=d,m=e.pendingProps,p=a.context,f=n.contextType,c=Zn,typeof f=="object"&&f!==null&&(c=be(f)),r=n.getDerivedStateFromProps,(f=typeof r=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==m||p!==c)&&yc(e,a,i,c),Ht=!1,p=e.memoizedState,a.state=p,no(e,i,a,o),to();var g=e.memoizedState;u!==m||p!==g||Ht||t!==null&&t.dependencies!==null&&bl(t.dependencies)?(typeof r=="function"&&(ka(e,n,r,i),g=e.memoizedState),(d=Ht||hc(e,n,d,i,p,g,c)||t!==null&&t.dependencies!==null&&bl(t.dependencies))?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,g,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,g,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=g),a.props=i,a.state=g,a.context=c,i=d):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),i=!1)}return a=i,ml(t,e),i=(e.flags&128)!==0,a||i?(a=e.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:a.render(),e.flags|=1,t!==null&&i?(e.child=vi(e,t.child,null,o),e.child=vi(e,null,n,o)):xe(t,e,n,o),e.memoizedState=a.state,t=e.child):t=wt(t,e,o),t}function _c(t,e,n,i){return wo(),e.flags|=256,xe(t,e,n,i),e.child}var Fa={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Oa(t){return{baseLanes:t,cachePool:Mm()}}function Ya(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=nt),t}function Cp(t,e,n){var i=e.pendingProps,o=!1,a=(e.flags&128)!==0,u;if((u=a)||(u=t!==null&&t.memoizedState===null?!1:(Te.current&2)!==0),u&&(o=!0,e.flags&=-129),u=(e.flags&32)!==0,e.flags&=-33,t===null){if(Y){if(o?kt(e):Ft(),Y){var r=re,c;if(c=r){e:{for(c=r,r=ft;c.nodeType!==8;){if(!r){r=null;break e}if(c=ut(c.nextSibling),c===null){r=null;break e}}r=c}r!==null?(e.memoizedState={dehydrated:r,treeContext:hn!==null?{id:At,overflow:_t}:null,retryLane:536870912,hydrationErrors:null},c=Fe(18,null,null,0),c.stateNode=r,c.return=e,e.child=c,Ue=e,re=null,c=!0):c=!1}c||An(e)}if(r=e.memoizedState,r!==null&&(r=r.dehydrated,r!==null))return eu(r)?e.lanes=32:e.lanes=536870912,null;Mt(e)}return r=i.children,i=i.fallback,o?(Ft(),o=e.mode,r=Pl({mode:"hidden",children:r},o),i=gn(i,o,n,null),r.return=e,i.return=e,r.sibling=i,e.child=r,o=e.child,o.memoizedState=Oa(n),o.childLanes=Ya(t,u,n),e.memoizedState=Fa,i):(kt(e),zs(e,r))}if(c=t.memoizedState,c!==null&&(r=c.dehydrated,r!==null)){if(a)e.flags&256?(kt(e),e.flags&=-257,e=Ja(t,e,n)):e.memoizedState!==null?(Ft(),e.child=t.child,e.flags|=128,e=null):(Ft(),o=i.fallback,r=e.mode,i=Pl({mode:"visible",children:i.children},r),o=gn(o,r,n,null),o.flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,vi(e,t.child,null,n),i=e.child,i.memoizedState=Oa(n),i.childLanes=Ya(t,u,n),e.memoizedState=Fa,e=o);else if(kt(e),eu(r)){if(u=r.nextSibling&&r.nextSibling.dataset,u)var f=u.dgst;u=f,i=Error(x(419)),i.stack="",i.digest=u,go({value:i,source:null,stack:null}),e=Ja(t,e,n)}else if(Ae||Uo(t,e,n,!1),u=(n&t.childLanes)!==0,Ae||u){if(u=j,u!==null&&(i=n&-n,i=i&42?1:Du(i),i=i&(u.suspendedLanes|n)?0:i,i!==0&&i!==c.retryLane))throw c.retryLane=i,Mi(t,i),Qe(u,t,i),yp;r.data==="$?"||Qs(),e=Ja(t,e,n)}else r.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=c.treeContext,re=ut(r.nextSibling),Ue=e,Y=!0,yn=null,ft=!1,t!==null&&(We[je++]=At,We[je++]=_t,We[je++]=hn,At=t.id,_t=t.overflow,hn=e),e=zs(e,i.children),e.flags|=4096);return e}return o?(Ft(),o=i.fallback,r=e.mode,c=t.child,f=c.sibling,i=Rt(c,{mode:"hidden",children:i.children}),i.subtreeFlags=c.subtreeFlags&65011712,f!==null?o=Rt(f,o):(o=gn(o,r,n,null),o.flags|=2),o.return=e,i.return=e,i.sibling=o,e.child=i,i=o,o=e.child,r=t.child.memoizedState,r===null?r=Oa(n):(c=r.cachePool,c!==null?(f=ve._currentValue,c=c.parent!==f?{parent:f,pool:f}:c):c=Mm(),r={baseLanes:r.baseLanes|n,cachePool:c}),o.memoizedState=r,o.childLanes=Ya(t,u,n),e.memoizedState=Fa,i):(kt(e),n=t.child,t=n.sibling,n=Rt(n,{mode:"visible",children:i.children}),n.return=e,n.sibling=null,t!==null&&(u=e.deletions,u===null?(e.deletions=[t],e.flags|=16):u.push(t)),e.child=n,e.memoizedState=null,n)}function zs(t,e){return e=Pl({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Pl(t,e){return t=Fe(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Ja(t,e,n){return vi(e,t.child,null,n),t=zs(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function xc(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Ns(t.return,e,n)}function Qa(t,e,n,i,o){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:o}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=o)}function Sp(t,e,n){var i=e.pendingProps,o=i.revealOrder,a=i.tail;if(xe(t,e,i.children,n),i=Te.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xc(t,n,e);else if(t.tag===19)xc(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}switch(le(Te,i),o){case"forwards":for(n=e.child,o=null;n!==null;)t=n.alternate,t!==null&&Ll(t)===null&&(o=n),n=n.sibling;n=o,n===null?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),Qa(e,!1,o,n,a);break;case"backwards":for(n=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&Ll(t)===null){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}Qa(e,!0,n,null,a);break;case"together":Qa(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function wt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),an|=e.lanes,!(n&e.childLanes))if(t!==null){if(Uo(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(x(153));if(e.child!==null){for(t=e.child,n=Rt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Rt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function lr(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&bl(t)))}function jy(t,e,n){switch(e.tag){case 3:El(e,e.stateNode.containerInfo),zt(e,ve,t.memoizedState.cache),wo();break;case 27:case 5:hs(e);break;case 4:El(e,e.stateNode.containerInfo);break;case 10:zt(e,e.type,e.memoizedProps.value);break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(kt(e),e.flags|=128,null):n&e.child.childLanes?Cp(t,e,n):(kt(e),t=wt(t,e,n),t!==null?t.sibling:null);kt(e);break;case 19:var o=(t.flags&128)!==0;if(i=(n&e.childLanes)!==0,i||(Uo(t,e,n,!1),i=(n&e.childLanes)!==0),o){if(i)return Sp(t,e,n);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),le(Te,Te.current),i)break;return null;case 22:case 23:return e.lanes=0,Tp(t,e,n);case 24:zt(e,ve,t.memoizedState.cache)}return wt(t,e,n)}function Ep(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Ae=!0;else{if(!lr(t,n)&&!(e.flags&128))return Ae=!1,jy(t,e,n);Ae=!!(t.flags&131072)}else Ae=!1,Y&&e.flags&1048576&&_m(e,Dl,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var i=e.elementType,o=i._init;if(i=o(i._payload),e.type=i,typeof i=="function")Hu(i)?(t=Mn(i,t),e.tag=1,e=Ac(null,e,i,t,n)):(e.tag=0,e=Hs(null,e,i,t,n));else{if(i!=null){if(o=i.$$typeof,o===Mu){e.tag=11,e=Tc(null,e,i,t,n);break e}else if(o===Ru){e.tag=14,e=Cc(null,e,i,t,n);break e}}throw e=ps(i)||i,Error(x(306,e,""))}}return e;case 0:return Hs(t,e,e.type,e.pendingProps,n);case 1:return i=e.type,o=Mn(i,e.pendingProps),Ac(t,e,i,o,n);case 3:e:{if(El(e,e.stateNode.containerInfo),t===null)throw Error(x(387));i=e.pendingProps;var a=e.memoizedState;o=a.element,Us(t,e),no(e,i,null,n);var u=e.memoizedState;if(i=u.cache,zt(e,ve,i),i!==a.cache&&Ds(e,[ve],n,!0),to(),i=u.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:u.cache},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){e=_c(t,e,i,n);break e}else if(i!==o){o=tt(Error(x(424)),e),go(o),e=_c(t,e,i,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(re=ut(t.firstChild),Ue=e,Y=!0,yn=null,ft=!0,n=cp(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(wo(),i===o){e=wt(t,e,n);break e}xe(t,e,i,n)}e=e.child}return e;case 26:return ml(t,e),t===null?(n=kc(e.type,null,e.pendingProps,null))?e.memoizedState=n:Y||(n=e.type,t=e.pendingProps,i=Yl($t.current).createElement(n),i[De]=e,i[Pe]=t,Re(i,n,t),Ee(i),e.stateNode=i):e.memoizedState=kc(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return hs(e),t===null&&Y&&(i=e.stateNode=ug(e.type,e.pendingProps,$t.current),Ue=e,ft=!0,o=re,un(e.type)?(tu=o,re=ut(i.firstChild)):re=o),xe(t,e,e.pendingProps.children,n),ml(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Y&&((o=i=re)&&(i=Rv(i,e.type,e.pendingProps,ft),i!==null?(e.stateNode=i,Ue=e,re=ut(i.firstChild),ft=!1,o=!0):o=!1),o||An(e)),hs(e),o=e.type,a=e.pendingProps,u=t!==null?t.memoizedProps:null,i=a.children,Ws(o,a)?i=null:u!==null&&Ws(o,u)&&(e.flags|=32),e.memoizedState!==null&&(o=Ku(t,e,Yy,null,null,n),So._currentValue=o),ml(t,e),xe(t,e,i,n),e.child;case 6:return t===null&&Y&&((t=n=re)&&(n=Nv(n,e.pendingProps,ft),n!==null?(e.stateNode=n,Ue=e,re=null,t=!0):t=!1),t||An(e)),null;case 13:return Cp(t,e,n);case 4:return El(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=vi(e,null,i,n):xe(t,e,i,n),e.child;case 11:return Tc(t,e,e.type,e.pendingProps,n);case 7:return xe(t,e,e.pendingProps,n),e.child;case 8:return xe(t,e,e.pendingProps.children,n),e.child;case 12:return xe(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,zt(e,e.type,i.value),xe(t,e,i.children,n),e.child;case 9:return o=e.type._context,i=e.pendingProps.children,_n(e),o=be(o),i=i(o),e.flags|=1,xe(t,e,i,n),e.child;case 14:return Cc(t,e,e.type,e.pendingProps,n);case 15:return vp(t,e,e.type,e.pendingProps,n);case 19:return Sp(t,e,n);case 31:return i=e.pendingProps,n=e.mode,i={mode:i.mode,children:i.children},t===null?(n=Pl(i,n),n.ref=e.ref,e.child=n,n.return=e,e=n):(n=Rt(t.child,i),n.ref=e.ref,e.child=n,n.return=e,e=n),e;case 22:return Tp(t,e,n);case 24:return _n(e),i=be(ve),t===null?(o=Ou(),o===null&&(o=j,a=Fu(),o.pooledCache=a,a.refCount++,a!==null&&(o.pooledCacheLanes|=n),o=a),e.memoizedState={parent:i,cache:o},Yu(e),zt(e,ve,o)):(t.lanes&n&&(Us(t,e),no(e,null,null,n),to()),o=t.memoizedState,a=e.memoizedState,o.parent!==i?(o={parent:i,cache:i},e.memoizedState=o,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=o),zt(e,ve,i)):(i=a.cache,zt(e,ve,i),i!==o.cache&&Ds(e,[ve],n,!0))),xe(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(x(156,e.tag))}function Tt(t){t.flags|=4}function Mc(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!fg(e)){if(e=ot.current,e!==null&&((F&4194048)===F?gt!==null:(F&62914560)!==F&&!(F&536870912)||e!==gt))throw ji=ws,Rm;t.flags|=8192}}function Wo(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?Kd():536870912,t.lanes|=e,Ti|=e)}function Hi(t,e){if(!Y)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function se(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var o=t.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags&65011712,i|=o.flags&65011712,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function ev(t,e,n){var i=e.pendingProps;switch(ku(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(e),null;case 1:return se(e),null;case 3:return n=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),Nt(ve),di(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Pi(e)?Tt(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,nc())),se(e),null;case 26:return n=e.memoizedState,t===null?(Tt(e),n!==null?(se(e),Mc(e,n)):(se(e),e.flags&=-16777217)):n?n!==t.memoizedState?(Tt(e),se(e),Mc(e,n)):(se(e),e.flags&=-16777217):(t.memoizedProps!==i&&Tt(e),se(e),e.flags&=-16777217),null;case 27:Al(e),n=$t.current;var o=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Tt(e);else{if(!i){if(e.stateNode===null)throw Error(x(166));return se(e),null}t=mt.current,Pi(e)?ec(e):(t=ug(o,i,n),e.stateNode=t,Tt(e))}return se(e),null;case 5:if(Al(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Tt(e);else{if(!i){if(e.stateNode===null)throw Error(x(166));return se(e),null}if(t=mt.current,Pi(e))ec(e);else{switch(o=Yl($t.current),t){case 1:t=o.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=o.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof i.is=="string"?o.createElement("select",{is:i.is}):o.createElement("select"),i.multiple?t.multiple=!0:i.size&&(t.size=i.size);break;default:t=typeof i.is=="string"?o.createElement(n,{is:i.is}):o.createElement(n)}}t[De]=e,t[Pe]=i;e:for(o=e.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===e)break e;for(;o.sibling===null;){if(o.return===null||o.return===e)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}e.stateNode=t;e:switch(Re(t,n,i),n){case"button":case"input":case"select":case"textarea":t=!!i.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Tt(e)}}return se(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==i&&Tt(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(x(166));if(t=$t.current,Pi(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,o=Ue,o!==null)switch(o.tag){case 27:case 5:i=o.memoizedProps}t[De]=e,t=!!(t.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||lg(t.nodeValue,n)),t||An(e)}else t=Yl(t).createTextNode(i),t[De]=e,e.stateNode=t}return se(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(o=Pi(e),i!==null&&i.dehydrated!==null){if(t===null){if(!o)throw Error(x(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(x(317));o[De]=e}else wo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;se(e),o=!1}else o=nc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=o),o=!0;if(!o)return e.flags&256?(Mt(e),e):(Mt(e),null)}if(Mt(e),e.flags&128)return e.lanes=n,e;if(n=i!==null,t=t!==null&&t.memoizedState!==null,n){i=e.child,o=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(o=i.alternate.memoizedState.cachePool.pool);var a=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),a!==o&&(i.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),Wo(e,e.updateQueue),se(e),null;case 4:return di(),t===null&&mr(e.stateNode.containerInfo),se(e),null;case 10:return Nt(e.type),se(e),null;case 19:if(_e(Te),o=e.memoizedState,o===null)return se(e),null;if(i=(e.flags&128)!==0,a=o.rendering,a===null)if(i)Hi(o,!1);else{if(ce!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Ll(t),a!==null){for(e.flags|=128,Hi(o,!1),t=a.updateQueue,e.updateQueue=t,Wo(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)Am(n,t),n=n.sibling;return le(Te,Te.current&1|2),e.child}t=t.sibling}o.tail!==null&&pt()>Hl&&(e.flags|=128,i=!0,Hi(o,!1),e.lanes=4194304)}else{if(!i)if(t=Ll(a),t!==null){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,Wo(e,t),Hi(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Y)return se(e),null}else 2*pt()-o.renderingStartTime>Hl&&n!==536870912&&(e.flags|=128,i=!0,Hi(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(t=o.last,t!==null?t.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=pt(),e.sibling=null,t=Te.current,le(Te,i?t&1|2:t&1),e):(se(e),null);case 22:case 23:return Mt(e),Ju(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?n&536870912&&!(e.flags&128)&&(se(e),e.subtreeFlags&6&&(e.flags|=8192)):se(e),n=e.updateQueue,n!==null&&Wo(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),t!==null&&_e(vn),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Nt(ve),se(e),null;case 25:return null;case 30:return null}throw Error(x(156,e.tag))}function tv(t,e){switch(ku(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Nt(ve),di(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Al(e),null;case 13:if(Mt(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(x(340));wo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return _e(Te),null;case 4:return di(),null;case 10:return Nt(e.type),null;case 22:case 23:return Mt(e),Ju(),t!==null&&_e(vn),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Nt(ve),null;case 25:return null;default:return null}}function Ap(t,e){switch(ku(e),e.tag){case 3:Nt(ve),di();break;case 26:case 27:case 5:Al(e);break;case 4:di();break;case 13:Mt(e);break;case 19:_e(Te);break;case 10:Nt(e.type);break;case 22:case 23:Mt(e),Ju(),t!==null&&_e(vn);break;case 24:Nt(ve)}}function Go(t,e){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var o=i.next;n=o;do{if((n.tag&t)===t){i=void 0;var a=n.create,u=n.inst;i=a(),u.destroy=i}n=n.next}while(n!==o)}}catch(r){W(e,e.return,r)}}function ln(t,e,n){try{var i=e.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var a=o.next;i=a;do{if((i.tag&t)===t){var u=i.inst,r=u.destroy;if(r!==void 0){u.destroy=void 0,o=e;var c=n,f=r;try{f()}catch(d){W(o,c,d)}}}i=i.next}while(i!==a)}}catch(d){W(e,e.return,d)}}function _p(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{bm(e,n)}catch(i){W(t,t.return,i)}}}function xp(t,e,n){n.props=Mn(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){W(t,e,i)}}function oo(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof n=="function"?t.refCleanup=n(i):n.current=i}}catch(o){W(t,e,o)}}function dt(t,e){var n=t.ref,i=t.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(o){W(t,e,o)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(o){W(t,e,o)}else n.current=null}function Mp(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(o){W(t,t.return,o)}}function Ka(t,e,n){try{var i=t.stateNode;Ev(i,t.type,n,e),i[Pe]=e}catch(o){W(t,t.return,o)}}function Rp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&un(t.type)||t.tag===4}function $a(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Rp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&un(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ks(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ya));else if(i!==4&&(i===27&&un(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(ks(t,e,n),t=t.sibling;t!==null;)ks(t,e,n),t=t.sibling}function Bl(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(i===27&&un(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Bl(t,e,n),t=t.sibling;t!==null;)Bl(t,e,n),t=t.sibling}function Np(t){var e=t.stateNode,n=t.memoizedProps;try{for(var i=t.type,o=e.attributes;o.length;)e.removeAttributeNode(o[0]);Re(e,i,n),e[De]=t,e[Pe]=n}catch(a){W(t,t.return,a)}}var St=!1,me=!1,Xa=!1,Rc=typeof WeakSet=="function"?WeakSet:Set,Se=null;function nv(t,e){if(t=t.containerInfo,Xs=$l,t=gm(t),Gu(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var o=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var u=0,r=-1,c=-1,f=0,d=0,m=t,p=null;t:for(;;){for(var g;m!==n||o!==0&&m.nodeType!==3||(r=u+o),m!==a||i!==0&&m.nodeType!==3||(c=u+i),m.nodeType===3&&(u+=m.nodeValue.length),(g=m.firstChild)!==null;)p=m,m=g;for(;;){if(m===t)break t;if(p===n&&++f===o&&(r=u),p===a&&++d===i&&(c=u),(g=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=g}n=r===-1||c===-1?null:{start:r,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zs={focusedElem:t,selectionRange:n},$l=!1,Se=e;Se!==null;)if(e=Se,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,Se=t;else for(;Se!==null;){switch(e=Se,a=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&a!==null){t=void 0,n=e,o=a.memoizedProps,a=a.memoizedState,i=n.stateNode;try{var T=Mn(n.type,o,n.elementType===n.type);t=i.getSnapshotBeforeUpdate(T,a),i.__reactInternalSnapshotBeforeUpdate=t}catch(S){W(n,n.return,S)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)js(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":js(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(x(163))}if(t=e.sibling,t!==null){t.return=e.return,Se=t;break}Se=e.return}}function Dp(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Gt(t,n),i&4&&Go(5,n);break;case 1:if(Gt(t,n),i&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(u){W(n,n.return,u)}else{var o=Mn(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(o,e,t.__reactInternalSnapshotBeforeUpdate)}catch(u){W(n,n.return,u)}}i&64&&_p(n),i&512&&oo(n,n.return);break;case 3:if(Gt(t,n),i&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{bm(t,e)}catch(u){W(n,n.return,u)}}break;case 27:e===null&&i&4&&Np(n);case 26:case 5:Gt(t,n),e===null&&i&4&&Mp(n),i&512&&oo(n,n.return);break;case 12:Gt(t,n);break;case 13:Gt(t,n),i&4&&Up(t,n),i&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=fv.bind(null,n),Dv(t,n))));break;case 22:if(i=n.memoizedState!==null||St,!i){e=e!==null&&e.memoizedState!==null||me,o=St;var a=me;St=i,(me=e)&&!a?Pt(t,n,(n.subtreeFlags&8772)!==0):Gt(t,n),St=o,me=a}break;case 30:break;default:Gt(t,n)}}function bp(t){var e=t.alternate;e!==null&&(t.alternate=null,bp(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&wu(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ie=null,Ve=!1;function Ct(t,e,n){for(n=n.child;n!==null;)wp(t,e,n),n=n.sibling}function wp(t,e,n){if(Oe&&typeof Oe.onCommitFiberUnmount=="function")try{Oe.onCommitFiberUnmount(Mo,n)}catch{}switch(n.tag){case 26:me||dt(n,e),Ct(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:me||dt(n,e);var i=ie,o=Ve;un(n.type)&&(ie=n.stateNode,Ve=!1),Ct(t,e,n),uo(n.stateNode),ie=i,Ve=o;break;case 5:me||dt(n,e);case 6:if(i=ie,o=Ve,ie=null,Ct(t,e,n),ie=i,Ve=o,ie!==null)if(Ve)try{(ie.nodeType===9?ie.body:ie.nodeName==="HTML"?ie.ownerDocument.body:ie).removeChild(n.stateNode)}catch(a){W(n,e,a)}else try{ie.removeChild(n.stateNode)}catch(a){W(n,e,a)}break;case 18:ie!==null&&(Ve?(t=ie,Bc(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),_o(t)):Bc(ie,n.stateNode));break;case 4:i=ie,o=Ve,ie=n.stateNode.containerInfo,Ve=!0,Ct(t,e,n),ie=i,Ve=o;break;case 0:case 11:case 14:case 15:me||ln(2,n,e),me||ln(4,n,e),Ct(t,e,n);break;case 1:me||(dt(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"&&xp(n,e,i)),Ct(t,e,n);break;case 21:Ct(t,e,n);break;case 22:me=(i=me)||n.memoizedState!==null,Ct(t,e,n),me=i;break;default:Ct(t,e,n)}}function Up(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{_o(t)}catch(n){W(e,e.return,n)}}function iv(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Rc),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Rc),e;default:throw Error(x(435,t.tag))}}function Za(t,e){var n=iv(t);e.forEach(function(i){var o=dv.bind(null,t,i);n.has(i)||(n.add(i),i.then(o,o))})}function He(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var o=n[i],a=t,u=e,r=u;e:for(;r!==null;){switch(r.tag){case 27:if(un(r.type)){ie=r.stateNode,Ve=!1;break e}break;case 5:ie=r.stateNode,Ve=!1;break e;case 3:case 4:ie=r.stateNode.containerInfo,Ve=!0;break e}r=r.return}if(ie===null)throw Error(x(160));wp(a,u,o),ie=null,Ve=!1,a=o.alternate,a!==null&&(a.return=null),o.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)Ip(e,t),e=e.sibling}var st=null;function Ip(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:He(e,t),ze(t),i&4&&(ln(3,t,t.return),Go(3,t),ln(5,t,t.return));break;case 1:He(e,t),ze(t),i&512&&(me||n===null||dt(n,n.return)),i&64&&St&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var o=st;if(He(e,t),ze(t),i&512&&(me||n===null||dt(n,n.return)),i&4){var a=n!==null?n.memoizedState:null;if(i=t.memoizedState,n===null)if(i===null)if(t.stateNode===null){e:{i=t.type,n=t.memoizedProps,o=o.ownerDocument||o;t:switch(i){case"title":a=o.getElementsByTagName("title")[0],(!a||a[Do]||a[De]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=o.createElement(i),o.head.insertBefore(a,o.querySelector("head > title"))),Re(a,i,n),a[De]=t,Ee(a),i=a;break e;case"link":var u=Oc("link","href",o).get(i+(n.href||""));if(u){for(var r=0;r<u.length;r++)if(a=u[r],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){u.splice(r,1);break t}}a=o.createElement(i),Re(a,i,n),o.head.appendChild(a);break;case"meta":if(u=Oc("meta","content",o).get(i+(n.content||""))){for(r=0;r<u.length;r++)if(a=u[r],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){u.splice(r,1);break t}}a=o.createElement(i),Re(a,i,n),o.head.appendChild(a);break;default:throw Error(x(468,i))}a[De]=t,Ee(a),i=a}t.stateNode=i}else Yc(o,t.type,t.stateNode);else t.stateNode=Fc(o,i,t.memoizedProps);else a!==i?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,i===null?Yc(o,t.type,t.stateNode):Fc(o,i,t.memoizedProps)):i===null&&t.stateNode!==null&&Ka(t,t.memoizedProps,n.memoizedProps)}break;case 27:He(e,t),ze(t),i&512&&(me||n===null||dt(n,n.return)),n!==null&&i&4&&Ka(t,t.memoizedProps,n.memoizedProps);break;case 5:if(He(e,t),ze(t),i&512&&(me||n===null||dt(n,n.return)),t.flags&32){o=t.stateNode;try{pi(o,"")}catch(g){W(t,t.return,g)}}i&4&&t.stateNode!=null&&(o=t.memoizedProps,Ka(t,o,n!==null?n.memoizedProps:o)),i&1024&&(Xa=!0);break;case 6:if(He(e,t),ze(t),i&4){if(t.stateNode===null)throw Error(x(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(g){W(t,t.return,g)}}break;case 3:if(hl=null,o=st,st=Jl(e.containerInfo),He(e,t),st=o,ze(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{_o(e.containerInfo)}catch(g){W(t,t.return,g)}Xa&&(Xa=!1,qp(t));break;case 4:i=st,st=Jl(t.stateNode.containerInfo),He(e,t),ze(t),st=i;break;case 12:He(e,t),ze(t);break;case 13:He(e,t),ze(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(cr=pt()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Za(t,i)));break;case 22:o=t.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,f=St,d=me;if(St=f||o,me=d||c,He(e,t),me=d,St=f,ze(t),i&8192)e:for(e=t.stateNode,e._visibility=o?e._visibility&-2:e._visibility|1,o&&(n===null||c||St||me||mn(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){c=n=e;try{if(a=c.stateNode,o)u=a.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none";else{r=c.stateNode;var m=c.memoizedProps.style,p=m!=null&&m.hasOwnProperty("display")?m.display:null;r.style.display=p==null||typeof p=="boolean"?"":(""+p).trim()}}catch(g){W(c,c.return,g)}}}else if(e.tag===6){if(n===null){c=e;try{c.stateNode.nodeValue=o?"":c.memoizedProps}catch(g){W(c,c.return,g)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=t.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Za(t,n))));break;case 19:He(e,t),ze(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Za(t,i)));break;case 30:break;case 21:break;default:He(e,t),ze(t)}}function ze(t){var e=t.flags;if(e&2){try{for(var n,i=t.return;i!==null;){if(Rp(i)){n=i;break}i=i.return}if(n==null)throw Error(x(160));switch(n.tag){case 27:var o=n.stateNode,a=$a(t);Bl(t,a,o);break;case 5:var u=n.stateNode;n.flags&32&&(pi(u,""),n.flags&=-33);var r=$a(t);Bl(t,r,u);break;case 3:case 4:var c=n.stateNode.containerInfo,f=$a(t);ks(t,f,c);break;default:throw Error(x(161))}}catch(d){W(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function qp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;qp(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Gt(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Dp(t,e.alternate,e),e=e.sibling}function mn(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:ln(4,e,e.return),mn(e);break;case 1:dt(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&xp(e,e.return,n),mn(e);break;case 27:uo(e.stateNode);case 26:case 5:dt(e,e.return),mn(e);break;case 22:e.memoizedState===null&&mn(e);break;case 30:mn(e);break;default:mn(e)}t=t.sibling}}function Pt(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,o=t,a=e,u=a.flags;switch(a.tag){case 0:case 11:case 15:Pt(o,a,n),Go(4,a);break;case 1:if(Pt(o,a,n),i=a,o=i.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(f){W(i,i.return,f)}if(i=a,o=i.updateQueue,o!==null){var r=i.stateNode;try{var c=o.shared.hiddenCallbacks;if(c!==null)for(o.shared.hiddenCallbacks=null,o=0;o<c.length;o++)Dm(c[o],r)}catch(f){W(i,i.return,f)}}n&&u&64&&_p(a),oo(a,a.return);break;case 27:Np(a);case 26:case 5:Pt(o,a,n),n&&i===null&&u&4&&Mp(a),oo(a,a.return);break;case 12:Pt(o,a,n);break;case 13:Pt(o,a,n),n&&u&4&&Up(o,a);break;case 22:a.memoizedState===null&&Pt(o,a,n),oo(a,a.return);break;case 30:break;default:Pt(o,a,n)}e=e.sibling}}function ar(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Io(n))}function sr(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Io(t))}function ct(t,e,n,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Lp(t,e,n,i),e=e.sibling}function Lp(t,e,n,i){var o=e.flags;switch(e.tag){case 0:case 11:case 15:ct(t,e,n,i),o&2048&&Go(9,e);break;case 1:ct(t,e,n,i);break;case 3:ct(t,e,n,i),o&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Io(t)));break;case 12:if(o&2048){ct(t,e,n,i),t=e.stateNode;try{var a=e.memoizedProps,u=a.id,r=a.onPostCommit;typeof r=="function"&&r(u,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(c){W(e,e.return,c)}}else ct(t,e,n,i);break;case 13:ct(t,e,n,i);break;case 23:break;case 22:a=e.stateNode,u=e.alternate,e.memoizedState!==null?a._visibility&2?ct(t,e,n,i):lo(t,e):a._visibility&2?ct(t,e,n,i):(a._visibility|=2,zn(t,e,n,i,(e.subtreeFlags&10256)!==0)),o&2048&&ar(u,e);break;case 24:ct(t,e,n,i),o&2048&&sr(e.alternate,e);break;default:ct(t,e,n,i)}}function zn(t,e,n,i,o){for(o=o&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var a=t,u=e,r=n,c=i,f=u.flags;switch(u.tag){case 0:case 11:case 15:zn(a,u,r,c,o),Go(8,u);break;case 23:break;case 22:var d=u.stateNode;u.memoizedState!==null?d._visibility&2?zn(a,u,r,c,o):lo(a,u):(d._visibility|=2,zn(a,u,r,c,o)),o&&f&2048&&ar(u.alternate,u);break;case 24:zn(a,u,r,c,o),o&&f&2048&&sr(u.alternate,u);break;default:zn(a,u,r,c,o)}e=e.sibling}}function lo(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,i=e,o=i.flags;switch(i.tag){case 22:lo(n,i),o&2048&&ar(i.alternate,i);break;case 24:lo(n,i),o&2048&&sr(i.alternate,i);break;default:lo(n,i)}e=e.sibling}}var Qi=8192;function Gn(t){if(t.subtreeFlags&Qi)for(t=t.child;t!==null;)Vp(t),t=t.sibling}function Vp(t){switch(t.tag){case 26:Gn(t),t.flags&Qi&&t.memoizedState!==null&&kv(st,t.memoizedState,t.memoizedProps);break;case 5:Gn(t);break;case 3:case 4:var e=st;st=Jl(t.stateNode.containerInfo),Gn(t),st=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=Qi,Qi=16777216,Gn(t),Qi=e):Gn(t));break;default:Gn(t)}}function Gp(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function zi(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];Se=i,Bp(i,t)}Gp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Pp(t),t=t.sibling}function Pp(t){switch(t.tag){case 0:case 11:case 15:zi(t),t.flags&2048&&ln(9,t,t.return);break;case 3:zi(t);break;case 12:zi(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,pl(t)):zi(t);break;default:zi(t)}}function pl(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];Se=i,Bp(i,t)}Gp(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:ln(8,e,e.return),pl(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,pl(e));break;default:pl(e)}t=t.sibling}}function Bp(t,e){for(;Se!==null;){var n=Se;switch(n.tag){case 0:case 11:case 15:ln(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Io(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Se=i;else e:for(n=t;Se!==null;){i=Se;var o=i.sibling,a=i.return;if(bp(i),i===n){Se=null;break e}if(o!==null){o.return=a,Se=o;break e}Se=a}}}var ov={getCacheForType:function(t){var e=be(ve),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},lv=typeof WeakMap=="function"?WeakMap:Map,K=0,j=null,H=null,F=0,Q=0,ke=null,Qt=!1,Ri=!1,ur=!1,Ut=0,ce=0,an=0,Tn=0,rr=0,nt=0,Ti=0,ao=null,Ge=null,Fs=!1,cr=0,Hl=1/0,zl=null,Wt=null,Me=0,jt=null,Ci=null,ri=0,Os=0,Ys=null,Hp=null,so=0,Js=null;function Je(){if(K&2&&F!==0)return F&-F;if(q.T!==null){var t=gi;return t!==0?t:dr()}return Zd()}function zp(){nt===0&&(nt=!(F&536870912)||Y?Qd():536870912);var t=ot.current;return t!==null&&(t.flags|=32),nt}function Qe(t,e,n){(t===j&&(Q===2||Q===9)||t.cancelPendingCommit!==null)&&(Si(t,0),Kt(t,F,nt,!1)),No(t,n),(!(K&2)||t!==j)&&(t===j&&(!(K&2)&&(Tn|=n),ce===4&&Kt(t,F,nt,!1)),yt(t))}function kp(t,e,n){if(K&6)throw Error(x(327));var i=!n&&(e&124)===0&&(e&t.expiredLanes)===0||Ro(t,e),o=i?uv(t,e):Wa(t,e,!0),a=i;do{if(o===0){Ri&&!i&&Kt(t,e,0,!1);break}else{if(n=t.current.alternate,a&&!av(n)){o=Wa(t,e,!1),a=!1;continue}if(o===2){if(a=e,t.errorRecoveryDisabledLanes&a)var u=0;else u=t.pendingLanes&-536870913,u=u!==0?u:u&536870912?536870912:0;if(u!==0){e=u;e:{var r=t;o=ao;var c=r.current.memoizedState.isDehydrated;if(c&&(Si(r,u).flags|=256),u=Wa(r,u,!1),u!==2){if(ur&&!c){r.errorRecoveryDisabledLanes|=a,Tn|=a,o=4;break e}a=Ge,Ge=o,a!==null&&(Ge===null?Ge=a:Ge.push.apply(Ge,a))}o=u}if(a=!1,o!==2)continue}}if(o===1){Si(t,0),Kt(t,e,0,!0);break}e:{switch(i=t,a=o,a){case 0:case 1:throw Error(x(345));case 4:if((e&4194048)!==e)break;case 6:Kt(i,e,nt,!Qt);break e;case 2:Ge=null;break;case 3:case 5:break;default:throw Error(x(329))}if((e&62914560)===e&&(o=cr+300-pt(),10<o)){if(Kt(i,e,nt,!Qt),oa(i,0,!0)!==0)break e;i.timeoutHandle=sg(Nc.bind(null,i,n,Ge,zl,Fs,e,nt,Tn,Ti,Qt,a,2,-0,0),o);break e}Nc(i,n,Ge,zl,Fs,e,nt,Tn,Ti,Qt,a,0,-0,0)}}break}while(1);yt(t)}function Nc(t,e,n,i,o,a,u,r,c,f,d,m,p,g){if(t.timeoutHandle=-1,m=e.subtreeFlags,(m&8192||(m&16785408)===16785408)&&(Co={stylesheets:null,count:0,unsuspend:zv},Vp(e),m=Fv(),m!==null)){t.cancelPendingCommit=m(bc.bind(null,t,e,a,n,i,o,u,r,c,d,1,p,g)),Kt(t,a,u,!f);return}bc(t,e,a,n,i,o,u,r,c)}function av(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var o=n[i],a=o.getSnapshot;o=o.value;try{if(!Ke(a(),o))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Kt(t,e,n,i){e&=~rr,e&=~Tn,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var o=e;0<o;){var a=31-Ye(o),u=1<<a;i[a]=-1,o&=~u}n!==0&&$d(t,n,e)}function pa(){return K&6?!0:(Po(0,!1),!1)}function fr(){if(H!==null){if(Q===0)var t=H.return;else t=H,xt=wn=null,Zu(t),ui=null,yo=0,t=H;for(;t!==null;)Ap(t.alternate,t),t=t.return;H=null}}function Si(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,_v(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),fr(),j=t,H=n=Rt(t.current,null),F=e,Q=0,ke=null,Qt=!1,Ri=Ro(t,e),ur=!1,Ti=nt=rr=Tn=an=ce=0,Ge=ao=null,Fs=!1,e&8&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var o=31-Ye(i),a=1<<o;e|=t[o],i&=~a}return Ut=e,ua(),n}function Fp(t,e){P=null,q.H=ql,e===qo||e===ca?(e=ac(),Q=3):e===Rm?(e=ac(),Q=4):Q=e===yp?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,ke=e,H===null&&(ce=1,Gl(t,tt(e,t.current)))}function Op(){var t=q.H;return q.H=ql,t===null?ql:t}function Yp(){var t=q.A;return q.A=ov,t}function Qs(){ce=4,Qt||(F&4194048)!==F&&ot.current!==null||(Ri=!0),!(an&134217727)&&!(Tn&134217727)||j===null||Kt(j,F,nt,!1)}function Wa(t,e,n){var i=K;K|=2;var o=Op(),a=Yp();(j!==t||F!==e)&&(zl=null,Si(t,e)),e=!1;var u=ce;e:do try{if(Q!==0&&H!==null){var r=H,c=ke;switch(Q){case 8:fr(),u=6;break e;case 3:case 2:case 9:case 6:ot.current===null&&(e=!0);var f=Q;if(Q=0,ke=null,ei(t,r,c,f),n&&Ri){u=0;break e}break;default:f=Q,Q=0,ke=null,ei(t,r,c,f)}}sv(),u=ce;break}catch(d){Fp(t,d)}while(1);return e&&t.shellSuspendCounter++,xt=wn=null,K=i,q.H=o,q.A=a,H===null&&(j=null,F=0,ua()),u}function sv(){for(;H!==null;)Jp(H)}function uv(t,e){var n=K;K|=2;var i=Op(),o=Yp();j!==t||F!==e?(zl=null,Hl=pt()+500,Si(t,e)):Ri=Ro(t,e);e:do try{if(Q!==0&&H!==null){e=H;var a=ke;t:switch(Q){case 1:Q=0,ke=null,ei(t,e,a,1);break;case 2:case 9:if(lc(a)){Q=0,ke=null,Dc(e);break}e=function(){Q!==2&&Q!==9||j!==t||(Q=7),yt(t)},a.then(e,e);break e;case 3:Q=7;break e;case 4:Q=5;break e;case 7:lc(a)?(Q=0,ke=null,Dc(e)):(Q=0,ke=null,ei(t,e,a,7));break;case 5:var u=null;switch(H.tag){case 26:u=H.memoizedState;case 5:case 27:var r=H;if(!u||fg(u)){Q=0,ke=null;var c=r.sibling;if(c!==null)H=c;else{var f=r.return;f!==null?(H=f,ga(f)):H=null}break t}}Q=0,ke=null,ei(t,e,a,5);break;case 6:Q=0,ke=null,ei(t,e,a,6);break;case 8:fr(),ce=6;break e;default:throw Error(x(462))}}rv();break}catch(d){Fp(t,d)}while(1);return xt=wn=null,q.H=i,q.A=o,K=n,H!==null?0:(j=null,F=0,ua(),ce)}function rv(){for(;H!==null&&!wh();)Jp(H)}function Jp(t){var e=Ep(t.alternate,t,Ut);t.memoizedProps=t.pendingProps,e===null?ga(t):H=e}function Dc(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Ec(n,e,e.pendingProps,e.type,void 0,F);break;case 11:e=Ec(n,e,e.pendingProps,e.type.render,e.ref,F);break;case 5:Zu(e);default:Ap(n,e),e=H=Am(e,Ut),e=Ep(n,e,Ut)}t.memoizedProps=t.pendingProps,e===null?ga(t):H=e}function ei(t,e,n,i){xt=wn=null,Zu(e),ui=null,yo=0;var o=e.return;try{if(Wy(t,o,e,n,F)){ce=1,Gl(t,tt(n,t.current)),H=null;return}}catch(a){if(o!==null)throw H=o,a;ce=1,Gl(t,tt(n,t.current)),H=null;return}e.flags&32768?(Y||i===1?t=!0:Ri||F&536870912?t=!1:(Qt=t=!0,(i===2||i===9||i===3||i===6)&&(i=ot.current,i!==null&&i.tag===13&&(i.flags|=16384))),Qp(e,t)):ga(e)}function ga(t){var e=t;do{if(e.flags&32768){Qp(e,Qt);return}t=e.return;var n=ev(e.alternate,e,Ut);if(n!==null){H=n;return}if(e=e.sibling,e!==null){H=e;return}H=e=t}while(e!==null);ce===0&&(ce=5)}function Qp(t,e){do{var n=tv(t.alternate,t);if(n!==null){n.flags&=32767,H=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){H=t;return}H=t=n}while(t!==null);ce=6,H=null}function bc(t,e,n,i,o,a,u,r,c){t.cancelPendingCommit=null;do ha();while(Me!==0);if(K&6)throw Error(x(327));if(e!==null){if(e===t.current)throw Error(x(177));if(a=e.lanes|e.childLanes,a|=Pu,zh(t,n,a,u,r,c),t===j&&(H=j=null,F=0),Ci=e,jt=t,ri=n,Os=a,Ys=o,Hp=i,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,mv(_l,function(){return Wp(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(e.flags&13878)!==0,e.subtreeFlags&13878||i){i=q.T,q.T=null,o=J.p,J.p=2,u=K,K|=4;try{nv(t,e,n)}finally{K=u,J.p=o,q.T=i}}Me=1,Kp(),$p(),Xp()}}function Kp(){if(Me===1){Me=0;var t=jt,e=Ci,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=q.T,q.T=null;var i=J.p;J.p=2;var o=K;K|=4;try{Ip(e,t);var a=Zs,u=gm(t.containerInfo),r=a.focusedElem,c=a.selectionRange;if(u!==r&&r&&r.ownerDocument&&pm(r.ownerDocument.documentElement,r)){if(c!==null&&Gu(r)){var f=c.start,d=c.end;if(d===void 0&&(d=f),"selectionStart"in r)r.selectionStart=f,r.selectionEnd=Math.min(d,r.value.length);else{var m=r.ownerDocument||document,p=m&&m.defaultView||window;if(p.getSelection){var g=p.getSelection(),T=r.textContent.length,S=Math.min(c.start,T),_=c.end===void 0?S:Math.min(c.end,T);!g.extend&&S>_&&(u=_,_=S,S=u);var y=Zr(r,S),h=Zr(r,_);if(y&&h&&(g.rangeCount!==1||g.anchorNode!==y.node||g.anchorOffset!==y.offset||g.focusNode!==h.node||g.focusOffset!==h.offset)){var v=m.createRange();v.setStart(y.node,y.offset),g.removeAllRanges(),S>_?(g.addRange(v),g.extend(h.node,h.offset)):(v.setEnd(h.node,h.offset),g.addRange(v))}}}}for(m=[],g=r;g=g.parentNode;)g.nodeType===1&&m.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<m.length;r++){var C=m[r];C.element.scrollLeft=C.left,C.element.scrollTop=C.top}}$l=!!Xs,Zs=Xs=null}finally{K=o,J.p=i,q.T=n}}t.current=e,Me=2}}function $p(){if(Me===2){Me=0;var t=jt,e=Ci,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=q.T,q.T=null;var i=J.p;J.p=2;var o=K;K|=4;try{Dp(t,e.alternate,e)}finally{K=o,J.p=i,q.T=n}}Me=3}}function Xp(){if(Me===4||Me===3){Me=0,Uh();var t=jt,e=Ci,n=ri,i=Hp;e.subtreeFlags&10256||e.flags&10256?Me=5:(Me=0,Ci=jt=null,Zp(t,t.pendingLanes));var o=t.pendingLanes;if(o===0&&(Wt=null),bu(n),e=e.stateNode,Oe&&typeof Oe.onCommitFiberRoot=="function")try{Oe.onCommitFiberRoot(Mo,e,void 0,(e.current.flags&128)===128)}catch{}if(i!==null){e=q.T,o=J.p,J.p=2,q.T=null;try{for(var a=t.onRecoverableError,u=0;u<i.length;u++){var r=i[u];a(r.value,{componentStack:r.stack})}}finally{q.T=e,J.p=o}}ri&3&&ha(),yt(t),o=t.pendingLanes,n&4194090&&o&42?t===Js?so++:(so=0,Js=t):so=0,Po(0,!1)}}function Zp(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Io(e)))}function ha(t){return Kp(),$p(),Xp(),Wp()}function Wp(){if(Me!==5)return!1;var t=jt,e=Os;Os=0;var n=bu(ri),i=q.T,o=J.p;try{J.p=32>n?32:n,q.T=null,n=Ys,Ys=null;var a=jt,u=ri;if(Me=0,Ci=jt=null,ri=0,K&6)throw Error(x(331));var r=K;if(K|=4,Pp(a.current),Lp(a,a.current,u,n),K=r,Po(0,!1),Oe&&typeof Oe.onPostCommitFiberRoot=="function")try{Oe.onPostCommitFiberRoot(Mo,a)}catch{}return!0}finally{J.p=o,q.T=i,Zp(t,e)}}function wc(t,e,n){e=tt(n,e),e=Bs(t.stateNode,e,2),t=Zt(t,e,2),t!==null&&(No(t,2),yt(t))}function W(t,e,n){if(t.tag===3)wc(t,t,n);else for(;e!==null;){if(e.tag===3){wc(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Wt===null||!Wt.has(i))){t=tt(n,t),n=gp(2),i=Zt(e,n,2),i!==null&&(hp(n,i,e,t),No(i,2),yt(i));break}}e=e.return}}function ja(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new lv;var o=new Set;i.set(e,o)}else o=i.get(e),o===void 0&&(o=new Set,i.set(e,o));o.has(n)||(ur=!0,o.add(n),t=cv.bind(null,t,e,n),e.then(t,t))}function cv(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,j===t&&(F&n)===n&&(ce===4||ce===3&&(F&62914560)===F&&300>pt()-cr?!(K&2)&&Si(t,0):rr|=n,Ti===F&&(Ti=0)),yt(t)}function jp(t,e){e===0&&(e=Kd()),t=Mi(t,e),t!==null&&(No(t,e),yt(t))}function fv(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),jp(t,n)}function dv(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,o=t.memoizedState;o!==null&&(n=o.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(x(314))}i!==null&&i.delete(e),jp(t,n)}function mv(t,e){return Nu(t,e)}var kl=null,kn=null,Ks=!1,Fl=!1,es=!1,Cn=0;function yt(t){t!==kn&&t.next===null&&(kn===null?kl=kn=t:kn=kn.next=t),Fl=!0,Ks||(Ks=!0,gv())}function Po(t,e){if(!es&&Fl){es=!0;do for(var n=!1,i=kl;i!==null;){if(!e)if(t!==0){var o=i.pendingLanes;if(o===0)var a=0;else{var u=i.suspendedLanes,r=i.pingedLanes;a=(1<<31-Ye(42|t)+1)-1,a&=o&~(u&~r),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,Uc(i,a))}else a=F,a=oa(i,i===j?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(a&3)||Ro(i,a)||(n=!0,Uc(i,a));i=i.next}while(n);es=!1}}function pv(){eg()}function eg(){Fl=Ks=!1;var t=0;Cn!==0&&(Av()&&(t=Cn),Cn=0);for(var e=pt(),n=null,i=kl;i!==null;){var o=i.next,a=tg(i,e);a===0?(i.next=null,n===null?kl=o:n.next=o,o===null&&(kn=n)):(n=i,(t!==0||a&3)&&(Fl=!0)),i=o}Po(t,!1)}function tg(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,o=t.expirationTimes,a=t.pendingLanes&-62914561;0<a;){var u=31-Ye(a),r=1<<u,c=o[u];c===-1?(!(r&n)||r&i)&&(o[u]=Hh(r,e)):c<=e&&(t.expiredLanes|=r),a&=~r}if(e=j,n=F,n=oa(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,n===0||t===e&&(Q===2||Q===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&Ma(i),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Ro(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(i!==null&&Ma(i),bu(n)){case 2:case 8:n=Yd;break;case 32:n=_l;break;case 268435456:n=Jd;break;default:n=_l}return i=ng.bind(null,t),n=Nu(n,i),t.callbackPriority=e,t.callbackNode=n,e}return i!==null&&i!==null&&Ma(i),t.callbackPriority=2,t.callbackNode=null,2}function ng(t,e){if(Me!==0&&Me!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(ha()&&t.callbackNode!==n)return null;var i=F;return i=oa(t,t===j?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(kp(t,i,e),tg(t,pt()),t.callbackNode!=null&&t.callbackNode===n?ng.bind(null,t):null)}function Uc(t,e){if(ha())return null;kp(t,e,!0)}function gv(){xv(function(){K&6?Nu(Od,pv):eg()})}function dr(){return Cn===0&&(Cn=Qd()),Cn}function Ic(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:al(""+t)}function qc(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function hv(t,e,n,i,o){if(e==="submit"&&n&&n.stateNode===o){var a=Ic((o[Pe]||null).action),u=i.submitter;u&&(e=(e=u[Pe]||null)?Ic(e.formAction):u.getAttribute("formAction"),e!==null&&(a=e,u=null));var r=new la("action","action",null,i,o);t.push({event:r,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Cn!==0){var c=u?qc(o,u):new FormData(o);Gs(n,{pending:!0,data:c,method:o.method,action:a},null,c)}}else typeof a=="function"&&(r.preventDefault(),c=u?qc(o,u):new FormData(o),Gs(n,{pending:!0,data:c,method:o.method,action:a},a,c))},currentTarget:o}]})}}for(var ts=0;ts<xs.length;ts++){var ns=xs[ts],yv=ns.toLowerCase(),vv=ns[0].toUpperCase()+ns.slice(1);rt(yv,"on"+vv)}rt(ym,"onAnimationEnd");rt(vm,"onAnimationIteration");rt(Tm,"onAnimationStart");rt("dblclick","onDoubleClick");rt("focusin","onFocus");rt("focusout","onBlur");rt(Ly,"onTransitionRun");rt(Vy,"onTransitionStart");rt(Gy,"onTransitionCancel");rt(Cm,"onTransitionEnd");mi("onMouseEnter",["mouseout","mouseover"]);mi("onMouseLeave",["mouseout","mouseover"]);mi("onPointerEnter",["pointerout","pointerover"]);mi("onPointerLeave",["pointerout","pointerover"]);Nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Nn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vo));function ig(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],o=i.event;i=i.listeners;e:{var a=void 0;if(e)for(var u=i.length-1;0<=u;u--){var r=i[u],c=r.instance,f=r.currentTarget;if(r=r.listener,c!==a&&o.isPropagationStopped())break e;a=r,o.currentTarget=f;try{a(o)}catch(d){Vl(d)}o.currentTarget=null,a=c}else for(u=0;u<i.length;u++){if(r=i[u],c=r.instance,f=r.currentTarget,r=r.listener,c!==a&&o.isPropagationStopped())break e;a=r,o.currentTarget=f;try{a(o)}catch(d){Vl(d)}o.currentTarget=null,a=c}}}}function B(t,e){var n=e[vs];n===void 0&&(n=e[vs]=new Set);var i=t+"__bubble";n.has(i)||(og(e,t,2,!1),n.add(i))}function is(t,e,n){var i=0;e&&(i|=4),og(n,t,i,e)}var jo="_reactListening"+Math.random().toString(36).slice(2);function mr(t){if(!t[jo]){t[jo]=!0,Wd.forEach(function(n){n!=="selectionchange"&&(Tv.has(n)||is(n,!1,t),is(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[jo]||(e[jo]=!0,is("selectionchange",!1,e))}}function og(t,e,n,i){switch(hg(e)){case 2:var o=Jv;break;case 8:o=Qv;break;default:o=yr}n=o.bind(null,e,n,t),o=void 0,!Es||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),i?o!==void 0?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):o!==void 0?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function os(t,e,n,i,o){var a=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var u=i.tag;if(u===3||u===4){var r=i.stateNode.containerInfo;if(r===o)break;if(u===4)for(u=i.return;u!==null;){var c=u.tag;if((c===3||c===4)&&u.stateNode.containerInfo===o)return;u=u.return}for(;r!==null;){if(u=Yn(r),u===null)return;if(c=u.tag,c===5||c===6||c===26||c===27){i=a=u;continue e}r=r.parentNode}}i=i.return}am(function(){var f=a,d=Iu(n),m=[];e:{var p=Sm.get(t);if(p!==void 0){var g=la,T=t;switch(t){case"keypress":if(ul(n)===0)break e;case"keydown":case"keyup":g=my;break;case"focusin":T="focus",g=qa;break;case"focusout":T="blur",g=qa;break;case"beforeblur":case"afterblur":g=qa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=zr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=ty;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=hy;break;case ym:case vm:case Tm:g=oy;break;case Cm:g=vy;break;case"scroll":case"scrollend":g=jh;break;case"wheel":g=Cy;break;case"copy":case"cut":case"paste":g=ay;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Fr;break;case"toggle":case"beforetoggle":g=Ey}var S=(e&4)!==0,_=!S&&(t==="scroll"||t==="scrollend"),y=S?p!==null?p+"Capture":null:p;S=[];for(var h=f,v;h!==null;){var C=h;if(v=C.stateNode,C=C.tag,C!==5&&C!==26&&C!==27||v===null||y===null||(C=fo(h,y),C!=null&&S.push(To(h,C,v))),_)break;h=h.return}0<S.length&&(p=new g(p,T,null,n,d),m.push({event:p,listeners:S}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==Ss&&(T=n.relatedTarget||n.fromElement)&&(Yn(T)||T[_i]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(T=n.relatedTarget||n.toElement,g=f,T=T?Yn(T):null,T!==null&&(_=xo(T),S=T.tag,T!==_||S!==5&&S!==27&&S!==6)&&(T=null)):(g=null,T=f),g!==T)){if(S=zr,C="onMouseLeave",y="onMouseEnter",h="mouse",(t==="pointerout"||t==="pointerover")&&(S=Fr,C="onPointerLeave",y="onPointerEnter",h="pointer"),_=g==null?p:Ji(g),v=T==null?p:Ji(T),p=new S(C,h+"leave",g,n,d),p.target=_,p.relatedTarget=v,C=null,Yn(d)===f&&(S=new S(y,h+"enter",T,n,d),S.target=v,S.relatedTarget=_,C=S),_=C,g&&T)t:{for(S=g,y=T,h=0,v=S;v;v=Pn(v))h++;for(v=0,C=y;C;C=Pn(C))v++;for(;0<h-v;)S=Pn(S),h--;for(;0<v-h;)y=Pn(y),v--;for(;h--;){if(S===y||y!==null&&S===y.alternate)break t;S=Pn(S),y=Pn(y)}S=null}else S=null;g!==null&&Lc(m,p,g,S,!1),T!==null&&_!==null&&Lc(m,_,T,S,!0)}}e:{if(p=f?Ji(f):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var A=Qr;else if(Jr(p))if(dm)A=Uy;else{A=by;var N=Dy}else g=p.nodeName,!g||g.toLowerCase()!=="input"||p.type!=="checkbox"&&p.type!=="radio"?f&&Uu(f.elementType)&&(A=Qr):A=wy;if(A&&(A=A(t,f))){fm(m,A,n,d);break e}N&&N(t,p,f),t==="focusout"&&f&&p.type==="number"&&f.memoizedProps.value!=null&&Cs(p,"number",p.value)}switch(N=f?Ji(f):window,t){case"focusin":(Jr(N)||N.contentEditable==="true")&&(Kn=N,As=f,Zi=null);break;case"focusout":Zi=As=Kn=null;break;case"mousedown":_s=!0;break;case"contextmenu":case"mouseup":case"dragend":_s=!1,Wr(m,n,d);break;case"selectionchange":if(qy)break;case"keydown":case"keyup":Wr(m,n,d)}var M;if(Vu)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Qn?rm(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(um&&n.locale!=="ko"&&(Qn||R!=="onCompositionStart"?R==="onCompositionEnd"&&Qn&&(M=sm()):(Jt=d,qu="value"in Jt?Jt.value:Jt.textContent,Qn=!0)),N=Ol(f,R),0<N.length&&(R=new kr(R,t,null,n,d),m.push({event:R,listeners:N}),M?R.data=M:(M=cm(n),M!==null&&(R.data=M)))),(M=_y?xy(t,n):My(t,n))&&(R=Ol(f,"onBeforeInput"),0<R.length&&(N=new kr("onBeforeInput","beforeinput",null,n,d),m.push({event:N,listeners:R}),N.data=M)),hv(m,t,f,n,d)}ig(m,e)})}function To(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ol(t,e){for(var n=e+"Capture",i=[];t!==null;){var o=t,a=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||a===null||(o=fo(t,n),o!=null&&i.unshift(To(t,o,a)),o=fo(t,e),o!=null&&i.push(To(t,o,a))),t.tag===3)return i;t=t.return}return[]}function Pn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Lc(t,e,n,i,o){for(var a=e._reactName,u=[];n!==null&&n!==i;){var r=n,c=r.alternate,f=r.stateNode;if(r=r.tag,c!==null&&c===i)break;r!==5&&r!==26&&r!==27||f===null||(c=f,o?(f=fo(n,a),f!=null&&u.unshift(To(n,f,c))):o||(f=fo(n,a),f!=null&&u.push(To(n,f,c)))),n=n.return}u.length!==0&&t.push({event:e,listeners:u})}var Cv=/\r\n?/g,Sv=/\u0000|\uFFFD/g;function Vc(t){return(typeof t=="string"?t:""+t).replace(Cv,`
`).replace(Sv,"")}function lg(t,e){return e=Vc(e),Vc(t)===e}function ya(){}function X(t,e,n,i,o,a){switch(n){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||pi(t,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&pi(t,""+i);break;case"className":Jo(t,"class",i);break;case"tabIndex":Jo(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Jo(t,n,i);break;case"style":lm(t,i,a);break;case"data":if(e!=="object"){Jo(t,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=al(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(e!=="input"&&X(t,e,"name",o.name,o,null),X(t,e,"formEncType",o.formEncType,o,null),X(t,e,"formMethod",o.formMethod,o,null),X(t,e,"formTarget",o.formTarget,o,null)):(X(t,e,"encType",o.encType,o,null),X(t,e,"method",o.method,o,null),X(t,e,"target",o.target,o,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=al(""+i),t.setAttribute(n,i);break;case"onClick":i!=null&&(t.onclick=ya);break;case"onScroll":i!=null&&B("scroll",t);break;case"onScrollEnd":i!=null&&B("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(x(61));if(n=i.__html,n!=null){if(o.children!=null)throw Error(x(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}n=al(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":i===!0?t.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":B("beforetoggle",t),B("toggle",t),ll(t,"popover",i);break;case"xlinkActuate":vt(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":vt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":vt(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":vt(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":vt(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":vt(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":vt(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":vt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":vt(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":ll(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Zh.get(n)||n,ll(t,n,i))}}function $s(t,e,n,i,o,a){switch(n){case"style":lm(t,i,a);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(x(61));if(n=i.__html,n!=null){if(o.children!=null)throw Error(x(60));t.innerHTML=n}}break;case"children":typeof i=="string"?pi(t,i):(typeof i=="number"||typeof i=="bigint")&&pi(t,""+i);break;case"onScroll":i!=null&&B("scroll",t);break;case"onScrollEnd":i!=null&&B("scrollend",t);break;case"onClick":i!=null&&(t.onclick=ya);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jd.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(o=n.endsWith("Capture"),e=n.slice(2,o?n.length-7:void 0),a=t[Pe]||null,a=a!=null?a[n]:null,typeof a=="function"&&t.removeEventListener(e,a,o),typeof i=="function")){typeof a!="function"&&a!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,o);break e}n in t?t[n]=i:i===!0?t.setAttribute(n,""):ll(t,n,i)}}}function Re(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":B("error",t),B("load",t);var i=!1,o=!1,a;for(a in n)if(n.hasOwnProperty(a)){var u=n[a];if(u!=null)switch(a){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(x(137,e));default:X(t,e,a,u,n,null)}}o&&X(t,e,"srcSet",n.srcSet,n,null),i&&X(t,e,"src",n.src,n,null);return;case"input":B("invalid",t);var r=a=u=o=null,c=null,f=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(d!=null)switch(i){case"name":o=d;break;case"type":u=d;break;case"checked":c=d;break;case"defaultChecked":f=d;break;case"value":a=d;break;case"defaultValue":r=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(x(137,e));break;default:X(t,e,i,d,n,null)}}nm(t,a,r,c,f,u,o,!1),xl(t);return;case"select":B("invalid",t),i=u=a=null;for(o in n)if(n.hasOwnProperty(o)&&(r=n[o],r!=null))switch(o){case"value":a=r;break;case"defaultValue":u=r;break;case"multiple":i=r;default:X(t,e,o,r,n,null)}e=a,n=u,t.multiple=!!i,e!=null?ii(t,!!i,e,!1):n!=null&&ii(t,!!i,n,!0);return;case"textarea":B("invalid",t),a=o=i=null;for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"value":i=r;break;case"defaultValue":o=r;break;case"children":a=r;break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(x(91));break;default:X(t,e,u,r,n,null)}om(t,i,o,a),xl(t);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:X(t,e,c,i,n,null)}return;case"dialog":B("beforetoggle",t),B("toggle",t),B("cancel",t),B("close",t);break;case"iframe":case"object":B("load",t);break;case"video":case"audio":for(i=0;i<vo.length;i++)B(vo[i],t);break;case"image":B("error",t),B("load",t);break;case"details":B("toggle",t);break;case"embed":case"source":case"link":B("error",t),B("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(f in n)if(n.hasOwnProperty(f)&&(i=n[f],i!=null))switch(f){case"children":case"dangerouslySetInnerHTML":throw Error(x(137,e));default:X(t,e,f,i,n,null)}return;default:if(Uu(e)){for(d in n)n.hasOwnProperty(d)&&(i=n[d],i!==void 0&&$s(t,e,d,i,n,void 0));return}}for(r in n)n.hasOwnProperty(r)&&(i=n[r],i!=null&&X(t,e,r,i,n,null))}function Ev(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,a=null,u=null,r=null,c=null,f=null,d=null;for(g in n){var m=n[g];if(n.hasOwnProperty(g)&&m!=null)switch(g){case"checked":break;case"value":break;case"defaultValue":c=m;default:i.hasOwnProperty(g)||X(t,e,g,null,i,m)}}for(var p in i){var g=i[p];if(m=n[p],i.hasOwnProperty(p)&&(g!=null||m!=null))switch(p){case"type":a=g;break;case"name":o=g;break;case"checked":f=g;break;case"defaultChecked":d=g;break;case"value":u=g;break;case"defaultValue":r=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(x(137,e));break;default:g!==m&&X(t,e,p,g,i,m)}}Ts(t,u,r,c,f,d,a,o);return;case"select":g=u=r=p=null;for(a in n)if(c=n[a],n.hasOwnProperty(a)&&c!=null)switch(a){case"value":break;case"multiple":g=c;default:i.hasOwnProperty(a)||X(t,e,a,null,i,c)}for(o in i)if(a=i[o],c=n[o],i.hasOwnProperty(o)&&(a!=null||c!=null))switch(o){case"value":p=a;break;case"defaultValue":r=a;break;case"multiple":u=a;default:a!==c&&X(t,e,o,a,i,c)}e=r,n=u,i=g,p!=null?ii(t,!!n,p,!1):!!i!=!!n&&(e!=null?ii(t,!!n,e,!0):ii(t,!!n,n?[]:"",!1));return;case"textarea":g=p=null;for(r in n)if(o=n[r],n.hasOwnProperty(r)&&o!=null&&!i.hasOwnProperty(r))switch(r){case"value":break;case"children":break;default:X(t,e,r,null,i,o)}for(u in i)if(o=i[u],a=n[u],i.hasOwnProperty(u)&&(o!=null||a!=null))switch(u){case"value":p=o;break;case"defaultValue":g=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(x(91));break;default:o!==a&&X(t,e,u,o,i,a)}im(t,p,g);return;case"option":for(var T in n)if(p=n[T],n.hasOwnProperty(T)&&p!=null&&!i.hasOwnProperty(T))switch(T){case"selected":t.selected=!1;break;default:X(t,e,T,null,i,p)}for(c in i)if(p=i[c],g=n[c],i.hasOwnProperty(c)&&p!==g&&(p!=null||g!=null))switch(c){case"selected":t.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:X(t,e,c,p,i,g)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var S in n)p=n[S],n.hasOwnProperty(S)&&p!=null&&!i.hasOwnProperty(S)&&X(t,e,S,null,i,p);for(f in i)if(p=i[f],g=n[f],i.hasOwnProperty(f)&&p!==g&&(p!=null||g!=null))switch(f){case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(x(137,e));break;default:X(t,e,f,p,i,g)}return;default:if(Uu(e)){for(var _ in n)p=n[_],n.hasOwnProperty(_)&&p!==void 0&&!i.hasOwnProperty(_)&&$s(t,e,_,void 0,i,p);for(d in i)p=i[d],g=n[d],!i.hasOwnProperty(d)||p===g||p===void 0&&g===void 0||$s(t,e,d,p,i,g);return}}for(var y in n)p=n[y],n.hasOwnProperty(y)&&p!=null&&!i.hasOwnProperty(y)&&X(t,e,y,null,i,p);for(m in i)p=i[m],g=n[m],!i.hasOwnProperty(m)||p===g||p==null&&g==null||X(t,e,m,p,i,g)}var Xs=null,Zs=null;function Yl(t){return t.nodeType===9?t:t.ownerDocument}function Gc(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ag(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Ws(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ls=null;function Av(){var t=window.event;return t&&t.type==="popstate"?t===ls?!1:(ls=t,!0):(ls=null,!1)}var sg=typeof setTimeout=="function"?setTimeout:void 0,_v=typeof clearTimeout=="function"?clearTimeout:void 0,Pc=typeof Promise=="function"?Promise:void 0,xv=typeof queueMicrotask=="function"?queueMicrotask:typeof Pc<"u"?function(t){return Pc.resolve(null).then(t).catch(Mv)}:sg;function Mv(t){setTimeout(function(){throw t})}function un(t){return t==="head"}function Bc(t,e){var n=e,i=0,o=0;do{var a=n.nextSibling;if(t.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(0<i&&8>i){n=i;var u=t.ownerDocument;if(n&1&&uo(u.documentElement),n&2&&uo(u.body),n&4)for(n=u.head,uo(n),u=n.firstChild;u;){var r=u.nextSibling,c=u.nodeName;u[Do]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&u.rel.toLowerCase()==="stylesheet"||n.removeChild(u),u=r}}if(o===0){t.removeChild(a),_o(e);return}o--}else n==="$"||n==="$?"||n==="$!"?o++:i=n.charCodeAt(0)-48;else i=0;n=a}while(n);_o(e)}function js(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":js(n),wu(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function Rv(t,e,n,i){for(;t.nodeType===1;){var o=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[Do])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(a=t.getAttribute("rel"),a==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(a!==o.rel||t.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||t.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||t.getAttribute("title")!==(o.title==null?null:o.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(a=t.getAttribute("src"),(a!==(o.src==null?null:o.src)||t.getAttribute("type")!==(o.type==null?null:o.type)||t.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&a&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var a=o.name==null?null:""+o.name;if(o.type==="hidden"&&t.getAttribute("name")===a)return t}else return t;if(t=ut(t.nextSibling),t===null)break}return null}function Nv(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ut(t.nextSibling),t===null))return null;return t}function eu(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Dv(t,e){var n=t.ownerDocument;if(t.data!=="$?"||n.readyState==="complete")e();else{var i=function(){e(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function ut(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var tu=null;function Hc(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}function ug(t,e,n){switch(e=Yl(n),t){case"html":if(t=e.documentElement,!t)throw Error(x(452));return t;case"head":if(t=e.head,!t)throw Error(x(453));return t;case"body":if(t=e.body,!t)throw Error(x(454));return t;default:throw Error(x(451))}}function uo(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);wu(t)}var lt=new Map,zc=new Set;function Jl(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var It=J.d;J.d={f:bv,r:wv,D:Uv,C:Iv,L:qv,m:Lv,X:Gv,S:Vv,M:Pv};function bv(){var t=It.f(),e=pa();return t||e}function wv(t){var e=xi(t);e!==null&&e.tag===5&&e.type==="form"?tp(e):It.r(t)}var Ni=typeof document>"u"?null:document;function rg(t,e,n){var i=Ni;if(i&&typeof e=="string"&&e){var o=et(e);o='link[rel="'+t+'"][href="'+o+'"]',typeof n=="string"&&(o+='[crossorigin="'+n+'"]'),zc.has(o)||(zc.add(o),t={rel:t,crossOrigin:n,href:e},i.querySelector(o)===null&&(e=i.createElement("link"),Re(e,"link",t),Ee(e),i.head.appendChild(e)))}}function Uv(t){It.D(t),rg("dns-prefetch",t,null)}function Iv(t,e){It.C(t,e),rg("preconnect",t,e)}function qv(t,e,n){It.L(t,e,n);var i=Ni;if(i&&t&&e){var o='link[rel="preload"][as="'+et(e)+'"]';e==="image"&&n&&n.imageSrcSet?(o+='[imagesrcset="'+et(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(o+='[imagesizes="'+et(n.imageSizes)+'"]')):o+='[href="'+et(t)+'"]';var a=o;switch(e){case"style":a=Ei(t);break;case"script":a=Di(t)}lt.has(a)||(t=te({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),lt.set(a,t),i.querySelector(o)!==null||e==="style"&&i.querySelector(Bo(a))||e==="script"&&i.querySelector(Ho(a))||(e=i.createElement("link"),Re(e,"link",t),Ee(e),i.head.appendChild(e)))}}function Lv(t,e){It.m(t,e);var n=Ni;if(n&&t){var i=e&&typeof e.as=="string"?e.as:"script",o='link[rel="modulepreload"][as="'+et(i)+'"][href="'+et(t)+'"]',a=o;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Di(t)}if(!lt.has(a)&&(t=te({rel:"modulepreload",href:t},e),lt.set(a,t),n.querySelector(o)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ho(a)))return}i=n.createElement("link"),Re(i,"link",t),Ee(i),n.head.appendChild(i)}}}function Vv(t,e,n){It.S(t,e,n);var i=Ni;if(i&&t){var o=ni(i).hoistableStyles,a=Ei(t);e=e||"default";var u=o.get(a);if(!u){var r={loading:0,preload:null};if(u=i.querySelector(Bo(a)))r.loading=5;else{t=te({rel:"stylesheet",href:t,"data-precedence":e},n),(n=lt.get(a))&&pr(t,n);var c=u=i.createElement("link");Ee(c),Re(c,"link",t),c._p=new Promise(function(f,d){c.onload=f,c.onerror=d}),c.addEventListener("load",function(){r.loading|=1}),c.addEventListener("error",function(){r.loading|=2}),r.loading|=4,gl(u,e,i)}u={type:"stylesheet",instance:u,count:1,state:r},o.set(a,u)}}}function Gv(t,e){It.X(t,e);var n=Ni;if(n&&t){var i=ni(n).hoistableScripts,o=Di(t),a=i.get(o);a||(a=n.querySelector(Ho(o)),a||(t=te({src:t,async:!0},e),(e=lt.get(o))&&gr(t,e),a=n.createElement("script"),Ee(a),Re(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(o,a))}}function Pv(t,e){It.M(t,e);var n=Ni;if(n&&t){var i=ni(n).hoistableScripts,o=Di(t),a=i.get(o);a||(a=n.querySelector(Ho(o)),a||(t=te({src:t,async:!0,type:"module"},e),(e=lt.get(o))&&gr(t,e),a=n.createElement("script"),Ee(a),Re(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(o,a))}}function kc(t,e,n,i){var o=(o=$t.current)?Jl(o):null;if(!o)throw Error(x(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Ei(n.href),n=ni(o).hoistableStyles,i=n.get(e),i||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Ei(n.href);var a=ni(o).hoistableStyles,u=a.get(t);if(u||(o=o.ownerDocument||o,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(t,u),(a=o.querySelector(Bo(t)))&&!a._p&&(u.instance=a,u.state.loading=5),lt.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},lt.set(t,n),a||Bv(o,t,n,u.state))),e&&i===null)throw Error(x(528,""));return u}if(e&&i!==null)throw Error(x(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Di(n),n=ni(o).hoistableScripts,i=n.get(e),i||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(x(444,t))}}function Ei(t){return'href="'+et(t)+'"'}function Bo(t){return'link[rel="stylesheet"]['+t+"]"}function cg(t){return te({},t,{"data-precedence":t.precedence,precedence:null})}function Bv(t,e,n,i){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=t.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),Re(e,"link",n),Ee(e),t.head.appendChild(e))}function Di(t){return'[src="'+et(t)+'"]'}function Ho(t){return"script[async]"+t}function Fc(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+et(n.href)+'"]');if(i)return e.instance=i,Ee(i),i;var o=te({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),Ee(i),Re(i,"style",o),gl(i,n.precedence,t),e.instance=i;case"stylesheet":o=Ei(n.href);var a=t.querySelector(Bo(o));if(a)return e.state.loading|=4,e.instance=a,Ee(a),a;i=cg(n),(o=lt.get(o))&&pr(i,o),a=(t.ownerDocument||t).createElement("link"),Ee(a);var u=a;return u._p=new Promise(function(r,c){u.onload=r,u.onerror=c}),Re(a,"link",i),e.state.loading|=4,gl(a,n.precedence,t),e.instance=a;case"script":return a=Di(n.src),(o=t.querySelector(Ho(a)))?(e.instance=o,Ee(o),o):(i=n,(o=lt.get(a))&&(i=te({},n),gr(i,o)),t=t.ownerDocument||t,o=t.createElement("script"),Ee(o),Re(o,"link",i),t.head.appendChild(o),e.instance=o);case"void":return null;default:throw Error(x(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(i=e.instance,e.state.loading|=4,gl(i,n.precedence,t));return e.instance}function gl(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=i.length?i[i.length-1]:null,a=o,u=0;u<i.length;u++){var r=i[u];if(r.dataset.precedence===e)a=r;else if(a!==o)break}a?a.parentNode.insertBefore(t,a.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function pr(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function gr(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var hl=null;function Oc(t,e,n){if(hl===null){var i=new Map,o=hl=new Map;o.set(n,i)}else o=hl,i=o.get(n),i||(i=new Map,o.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),o=0;o<n.length;o++){var a=n[o];if(!(a[Do]||a[De]||t==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var u=a.getAttribute(e)||"";u=t+u;var r=i.get(u);r?r.push(a):i.set(u,[a])}}return i}function Yc(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function Hv(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function fg(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var Co=null;function zv(){}function kv(t,e,n){if(Co===null)throw Error(x(475));var i=Co;if(e.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var o=Ei(n.href),a=t.querySelector(Bo(o));if(a){t=a._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(i.count++,i=Ql.bind(i),t.then(i,i)),e.state.loading|=4,e.instance=a,Ee(a);return}a=t.ownerDocument||t,n=cg(n),(o=lt.get(o))&&pr(n,o),a=a.createElement("link"),Ee(a);var u=a;u._p=new Promise(function(r,c){u.onload=r,u.onerror=c}),Re(a,"link",n),e.instance=a}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(i.count++,e=Ql.bind(i),t.addEventListener("load",e),t.addEventListener("error",e))}}function Fv(){if(Co===null)throw Error(x(475));var t=Co;return t.stylesheets&&t.count===0&&nu(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&nu(t,t.stylesheets),t.unsuspend){var i=t.unsuspend;t.unsuspend=null,i()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}function Ql(){if(this.count--,this.count===0){if(this.stylesheets)nu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Kl=null;function nu(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Kl=new Map,e.forEach(Ov,t),Kl=null,Ql.call(t))}function Ov(t,e){if(!(e.state.loading&4)){var n=Kl.get(t);if(n)var i=n.get(null);else{n=new Map,Kl.set(t,n);for(var o=t.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<o.length;a++){var u=o[a];(u.nodeName==="LINK"||u.getAttribute("media")!=="not all")&&(n.set(u.dataset.precedence,u),i=u)}i&&n.set(null,i)}o=e.instance,u=o.getAttribute("data-precedence"),a=n.get(u)||i,a===i&&n.set(null,o),n.set(u,o),this.count++,i=Ql.bind(this),o.addEventListener("load",i),o.addEventListener("error",i),a?a.parentNode.insertBefore(o,a.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(o,t.firstChild)),e.state.loading|=4}}var So={$$typeof:Et,Provider:null,Consumer:null,_currentValue:pn,_currentValue2:pn,_threadCount:0};function Yv(t,e,n,i,o,a,u,r){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ra(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ra(0),this.hiddenUpdates=Ra(null),this.identifierPrefix=i,this.onUncaughtError=o,this.onCaughtError=a,this.onRecoverableError=u,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=r,this.incompleteTransitions=new Map}function dg(t,e,n,i,o,a,u,r,c,f,d,m){return t=new Yv(t,e,n,u,r,c,f,m),e=1,a===!0&&(e|=24),a=Fe(3,null,null,e),t.current=a,a.stateNode=t,e=Fu(),e.refCount++,t.pooledCache=e,e.refCount++,a.memoizedState={element:i,isDehydrated:n,cache:e},Yu(a),t}function mg(t){return t?(t=Zn,t):Zn}function pg(t,e,n,i,o,a){o=mg(o),i.context===null?i.context=o:i.pendingContext=o,i=Xt(e),i.payload={element:n},a=a===void 0?null:a,a!==null&&(i.callback=a),n=Zt(t,i,e),n!==null&&(Qe(n,t,e),eo(n,t,e))}function Jc(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function hr(t,e){Jc(t,e),(t=t.alternate)&&Jc(t,e)}function gg(t){if(t.tag===13){var e=Mi(t,67108864);e!==null&&Qe(e,t,67108864),hr(t,67108864)}}var $l=!0;function Jv(t,e,n,i){var o=q.T;q.T=null;var a=J.p;try{J.p=2,yr(t,e,n,i)}finally{J.p=a,q.T=o}}function Qv(t,e,n,i){var o=q.T;q.T=null;var a=J.p;try{J.p=8,yr(t,e,n,i)}finally{J.p=a,q.T=o}}function yr(t,e,n,i){if($l){var o=iu(i);if(o===null)os(t,e,i,Xl,n),Qc(t,i);else if($v(o,t,e,n,i))i.stopPropagation();else if(Qc(t,i),e&4&&-1<Kv.indexOf(t)){for(;o!==null;){var a=xi(o);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var u=fn(a.pendingLanes);if(u!==0){var r=a;for(r.pendingLanes|=2,r.entangledLanes|=2;u;){var c=1<<31-Ye(u);r.entanglements[1]|=c,u&=~c}yt(a),!(K&6)&&(Hl=pt()+500,Po(0,!1))}}break;case 13:r=Mi(a,2),r!==null&&Qe(r,a,2),pa(),hr(a,2)}if(a=iu(i),a===null&&os(t,e,i,Xl,n),a===o)break;o=a}o!==null&&i.stopPropagation()}else os(t,e,i,null,n)}}function iu(t){return t=Iu(t),vr(t)}var Xl=null;function vr(t){if(Xl=null,t=Yn(t),t!==null){var e=xo(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=Hd(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Xl=t,null}function hg(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ih()){case Od:return 2;case Yd:return 8;case _l:case qh:return 32;case Jd:return 268435456;default:return 32}default:return 32}}var ou=!1,en=null,tn=null,nn=null,Eo=new Map,Ao=new Map,Ot=[],Kv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Qc(t,e){switch(t){case"focusin":case"focusout":en=null;break;case"dragenter":case"dragleave":tn=null;break;case"mouseover":case"mouseout":nn=null;break;case"pointerover":case"pointerout":Eo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ao.delete(e.pointerId)}}function ki(t,e,n,i,o,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[o]},e!==null&&(e=xi(e),e!==null&&gg(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function $v(t,e,n,i,o){switch(e){case"focusin":return en=ki(en,t,e,n,i,o),!0;case"dragenter":return tn=ki(tn,t,e,n,i,o),!0;case"mouseover":return nn=ki(nn,t,e,n,i,o),!0;case"pointerover":var a=o.pointerId;return Eo.set(a,ki(Eo.get(a)||null,t,e,n,i,o)),!0;case"gotpointercapture":return a=o.pointerId,Ao.set(a,ki(Ao.get(a)||null,t,e,n,i,o)),!0}return!1}function yg(t){var e=Yn(t.target);if(e!==null){var n=xo(e);if(n!==null){if(e=n.tag,e===13){if(e=Hd(n),e!==null){t.blockedOn=e,kh(t.priority,function(){if(n.tag===13){var i=Je();i=Du(i);var o=Mi(n,i);o!==null&&Qe(o,n,i),hr(n,i)}});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=iu(t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Ss=i,n.target.dispatchEvent(i),Ss=null}else return e=xi(n),e!==null&&gg(e),t.blockedOn=n,!1;e.shift()}return!0}function Kc(t,e,n){yl(t)&&n.delete(e)}function Xv(){ou=!1,en!==null&&yl(en)&&(en=null),tn!==null&&yl(tn)&&(tn=null),nn!==null&&yl(nn)&&(nn=null),Eo.forEach(Kc),Ao.forEach(Kc)}function el(t,e){t.blockedOn===e&&(t.blockedOn=null,ou||(ou=!0,Ce.unstable_scheduleCallback(Ce.unstable_NormalPriority,Xv)))}var tl=null;function $c(t){tl!==t&&(tl=t,Ce.unstable_scheduleCallback(Ce.unstable_NormalPriority,function(){tl===t&&(tl=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],o=t[e+2];if(typeof i!="function"){if(vr(i||n)===null)continue;break}var a=xi(n);a!==null&&(t.splice(e,3),e-=3,Gs(a,{pending:!0,data:o,method:n.method,action:i},i,o))}}))}function _o(t){function e(c){return el(c,t)}en!==null&&el(en,t),tn!==null&&el(tn,t),nn!==null&&el(nn,t),Eo.forEach(e),Ao.forEach(e);for(var n=0;n<Ot.length;n++){var i=Ot[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<Ot.length&&(n=Ot[0],n.blockedOn===null);)yg(n),n.blockedOn===null&&Ot.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var o=n[i],a=n[i+1],u=o[Pe]||null;if(typeof a=="function")u||$c(n);else if(u){var r=null;if(a&&a.hasAttribute("formAction")){if(o=a,u=a[Pe]||null)r=u.formAction;else if(vr(o)!==null)continue}else r=u.action;typeof r=="function"?n[i+1]=r:(n.splice(i,3),i-=3),$c(n)}}}function Tr(t){this._internalRoot=t}va.prototype.render=Tr.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(x(409));var n=e.current,i=Je();pg(n,i,t,e,null,null)};va.prototype.unmount=Tr.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;pg(t.current,2,null,t,null,null),pa(),e[_i]=null}};function va(t){this._internalRoot=t}va.prototype.unstable_scheduleHydration=function(t){if(t){var e=Zd();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ot.length&&e!==0&&e<Ot[n].priority;n++);Ot.splice(n,0,t),n===0&&yg(t)}};var Xc=Pd.version;if(Xc!=="19.1.0")throw Error(x(527,Xc,"19.1.0"));J.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(x(188)):(t=Object.keys(t).join(","),Error(x(268,t)));return t=Mh(e),t=t!==null?zd(t):null,t=t===null?null:t.stateNode,t};var Zv={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nl.isDisabled&&nl.supportsFiber)try{Mo=nl.inject(Zv),Oe=nl}catch{}}na.createRoot=function(t,e){if(!Bd(t))throw Error(x(299));var n=!1,i="",o=dp,a=mp,u=pp,r=null;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(o=e.onUncaughtError),e.onCaughtError!==void 0&&(a=e.onCaughtError),e.onRecoverableError!==void 0&&(u=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(r=e.unstable_transitionCallbacks)),e=dg(t,1,!1,null,null,n,i,o,a,u,r,null),t[_i]=e.current,mr(t),new Tr(e)};na.hydrateRoot=function(t,e,n){if(!Bd(t))throw Error(x(299));var i=!1,o="",a=dp,u=mp,r=pp,c=null,f=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(u=n.onCaughtError),n.onRecoverableError!==void 0&&(r=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(c=n.unstable_transitionCallbacks),n.formState!==void 0&&(f=n.formState)),e=dg(t,1,!0,e,n??null,i,o,a,u,r,c,f),e.context=mg(null),n=e.current,i=Je(),i=Du(i),o=Xt(i),o.callback=null,Zt(n,o,i),n=i,e.current.lanes=n,No(e,n),yt(e),t[_i]=e.current,mr(t),new va(e)};na.version="19.1.0";function vg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vg)}catch(t){console.error(t)}}vg(),Ud.exports=na;var Wv=Ud.exports;const jv=Ed(Wv);var Ne=(t=>(t.IDLE="IDLE",t.PROCESSING_PDF="PROCESSING_PDF",t.GENERATING="GENERATING",t.DONE_GENERATING="DONE_GENERATING",t.ERROR="ERROR",t))(Ne||{}),ue=(t=>(t.PENDING="pending",t.ACTIVE="active",t.DONE="done",t.ERROR="error",t))(ue||{});const Zc=[{id:"p0",text:"البروتوكول 0: تجهيز البيانات المصدر",status:ue.PENDING},{id:"p1",text:"البروتوكول 1: توليد المحتوى الطبي",status:ue.PENDING},{id:"p2",text:"البروتوكول 2: تصحيح توزيع الإجابات",status:ue.PENDING},{id:"p2.8",text:"البروتوكول 2.8: التدقيق النقدي والتصحيح الآلي",status:ue.PENDING},{id:"p2.7",text:"البروتوكول 2.7: تدقيق وتحسين التفسيرات",status:ue.PENDING},{id:"p3",text:"البروتوكول 3: توليد صفحة الاختبار النهائية",status:ue.PENDING},{id:"p4",text:"البروتوكول 4: المراجعة النهائية والختام",status:ue.PENDING}],eT=["زوجك الله بأربع نساء يا فتي... وإن كنتِ فتاة، ربنا يرزقك بثري خليجي!","إيه العظمة دي! أنت دكتور كبير أوي.","عاش يا وحش! شكلك كنت مركز أوي."],tT=["ماذا نحن بفاعلون؟ 😡 نأخذ من كل رجل قبيلة، يا ساقط.","شكلك كنت بتفتح فيسبوك وأنت بتمتحن!","لا تقلق، أول خطوة في طريق المليون ميل تبدأ بكَعبَلة."],nT=async t=>{const e=new FileReader;return new Promise((n,i)=>{e.onload=async o=>{var a;if(!((a=o.target)!=null&&a.result))return i(new Error("Failed to read file."));try{const u=new Uint8Array(o.target.result),r=await pdfjsLib.getDocument({data:u}).promise;let c="";for(let f=1;f<=r.numPages;f++){const p=(await(await r.getPage(f)).getTextContent()).items.map(g=>g.str).join(" ");c+=p+`

`}n({text:c.trim()})}catch(u){console.error("Error processing PDF:",u),i(new Error("Could not parse the PDF file. It might be corrupted or in an unsupported format."))}},e.onerror=()=>{i(new Error("Error reading file."))},e.readAsArrayBuffer(t)})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let iT,oT;function lT(){return{geminiUrl:iT,vertexUrl:oT}}function aT(t,e,n){var i,o,a;if(!(!((i=t.httpOptions)===null||i===void 0)&&i.baseUrl)){const u=lT();return t.vertexai?(o=u.vertexUrl)!==null&&o!==void 0?o:e:(a=u.geminiUrl)!==null&&a!==void 0?a:n}return t.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Un{}function U(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(i,o)=>{if(Object.prototype.hasOwnProperty.call(e,o)){const a=e[o];return a!=null?String(a):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function s(t,e,n){for(let a=0;a<e.length-1;a++){const u=e[a];if(u.endsWith("[]")){const r=u.slice(0,-2);if(!(r in t))if(Array.isArray(n))t[r]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${u}`);if(Array.isArray(t[r])){const c=t[r];if(Array.isArray(n))for(let f=0;f<c.length;f++){const d=c[f];s(d,e.slice(a+1),n[f])}else for(const f of c)s(f,e.slice(a+1),n)}return}else if(u.endsWith("[0]")){const r=u.slice(0,-3);r in t||(t[r]=[{}]);const c=t[r];s(c[0],e.slice(a+1),n);return}(!t[u]||typeof t[u]!="object")&&(t[u]={}),t=t[u]}const i=e[e.length-1],o=t[i];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else t[i]=n}function l(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const i=e[n];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const a=t[o];return Array.isArray(a)?a.map(u=>l(u,e.slice(n+1))):void 0}else return}else t=t[i]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Wc;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Wc||(Wc={}));var jc;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(jc||(jc={}));var k;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(k||(k={}));var ef;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(ef||(ef={}));var tf;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(tf||(tf={}));var nf;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(nf||(nf={}));var of;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(of||(of={}));var lf;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(lf||(lf={}));var af;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(af||(af={}));var sf;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(sf||(sf={}));var uf;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(uf||(uf={}));var rf;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(rf||(rf={}));var cf;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(cf||(cf={}));var ff;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(ff||(ff={}));var df;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(df||(df={}));var mf;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(mf||(mf={}));var Zl;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Zl||(Zl={}));var pf;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(pf||(pf={}));var lu;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(lu||(lu={}));var gf;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(gf||(gf={}));var hf;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(hf||(hf={}));var yf;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(yf||(yf={}));var vf;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(vf||(vf={}));var Tf;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(Tf||(Tf={}));var Cf;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Cf||(Cf={}));var Sf;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Sf||(Sf={}));var Ef;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(Ef||(Ef={}));var Af;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Af||(Af={}));var _f;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(_f||(_f={}));var xf;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(xf||(xf={}));var Mf;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Mf||(Mf={}));var Rf;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Rf||(Rf={}));var Nf;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Nf||(Nf={}));var Df;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(Df||(Df={}));var bf;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(bf||(bf={}));var wf;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(wf||(wf={}));var Uf;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Uf||(Uf={}));var If;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(If||(If={}));var qf;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(qf||(qf={}));var Lf;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Lf||(Lf={}));var Vf;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Vf||(Vf={}));var ti;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(ti||(ti={}));class au{constructor(e){const n={};for(const i of e.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Fi{get text(){var e,n,i,o,a,u,r,c;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",d=!1;const m=[];for(const p of(c=(r=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||r===void 0?void 0:r.parts)!==null&&c!==void 0?c:[]){for(const[g,T]of Object.entries(p))g!=="text"&&g!=="thought"&&(T!==null||T!==void 0)&&m.push(g);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;d=!0,f+=p.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?f:void 0}get data(){var e,n,i,o,a,u,r,c;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const d=[];for(const m of(c=(r=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||r===void 0?void 0:r.parts)!==null&&c!==void 0?c:[]){for(const[p,g]of Object.entries(m))p!=="inlineData"&&(g!==null||g!==void 0)&&d.push(p);m.inlineData&&typeof m.inlineData.data=="string"&&(f+=atob(m.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,n,i,o,a,u,r,c;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(c=(r=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||r===void 0?void 0:r.parts)===null||c===void 0?void 0:c.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,n,i,o,a,u,r,c,f;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(c=(r=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||r===void 0?void 0:r.parts)===null||c===void 0?void 0:c.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((d==null?void 0:d.length)!==0)return(f=d==null?void 0:d[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,n,i,o,a,u,r,c,f;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(c=(r=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||r===void 0?void 0:r.parts)===null||c===void 0?void 0:c.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((d==null?void 0:d.length)!==0)return(f=d==null?void 0:d[0])===null||f===void 0?void 0:f.output}}class Gf{}class Pf{}class sT{}class uT{}class Bf{}class Hf{}class zf{}class rT{}class kf{}class Ff{}class Of{}class cT{}class fT{}class dT{}class Yf{}class mT{get text(){var e,n,i;let o="",a=!1;const u=[];for(const r of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[c,f]of Object.entries(r))c!=="text"&&c!=="thought"&&f!==null&&u.push(c);if(typeof r.text=="string"){if(typeof r.thought=="boolean"&&r.thought)continue;a=!0,o+=r.text}}return u.length>0&&console.warn(`there are non-text parts ${u} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?o:void 0}get data(){var e,n,i;let o="";const a=[];for(const u of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[r,c]of Object.entries(u))r!=="inlineData"&&c!==null&&a.push(r);u.inlineData&&typeof u.inlineData.data=="string"&&(o+=atob(u.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class pT{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Tg(t,e){const n=$(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function Cg(t){return Array.isArray(t)?t.map(e=>Wl(e)):[Wl(t)]}function Wl(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Sg(t){const e=Wl(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Eg(t){const e=Wl(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Jf(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Ag(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Jf(e)):[Jf(t)]}function su(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Qf(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Kf(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function we(t){if(t==null)throw new Error("ContentUnion is required");return su(t)?t:{role:"user",parts:Ag(t)}}function _g(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const i=we(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const n=we(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>we(n)):[we(e)]}function it(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Qf(t)||Kf(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[we(t)]}const e=[],n=[],i=su(t[0]);for(const o of t){const a=su(o);if(a!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(o);else{if(Qf(o)||Kf(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return i||e.push({role:"user",parts:Ag(n)}),e}function gT(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(i=>i!=="null");if(n.length===1)e.type=Object.values(k).includes(n[0].toUpperCase())?n[0].toUpperCase():k.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of n)e.anyOf.push({type:Object.values(k).includes(i.toUpperCase())?i.toUpperCase():k.TYPE_UNSPECIFIED})}}function ci(t){const e={},n=["items"],i=["anyOf"],o=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&gT(t.type,e);for(const[u,r]of Object.entries(t))if(r!=null)if(u=="type"){if(r==="null")throw new Error("type: null can not be the only possible type for the field.");if(r instanceof Array)continue;e.type=Object.values(k).includes(r.toUpperCase())?r.toUpperCase():k.TYPE_UNSPECIFIED}else if(n.includes(u))e[u]=ci(r);else if(i.includes(u)){const c=[];for(const f of r){if(f.type=="null"){e.nullable=!0;continue}c.push(ci(f))}e[u]=c}else if(o.includes(u)){const c={};for(const[f,d]of Object.entries(r))c[f]=ci(d);e[u]=c}else{if(u==="additionalProperties")continue;e[u]=r}return e}function Cr(t){return ci(t)}function Sr(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Er(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function bi(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=ci(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=ci(e.response));return t}function wi(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function hT(t,e,n,i=1){const o=!e.startsWith(`${n}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:o?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:o?`${n}/${e}`:e}function qt(t,e){if(typeof e!="string")throw new Error("name must be a string");return hT(t,e,"cachedContents")}function xg(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Lt(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function yT(t){return t!=null&&typeof t=="object"&&"name"in t}function vT(t){return t!=null&&typeof t=="object"&&"video"in t}function TT(t){return t!=null&&typeof t=="object"&&"uri"in t}function Mg(t){var e;let n;if(yT(t)&&(n=t.name),!(TT(t)&&(n=t.uri,n===void 0))&&!(vT(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const o=n.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${n}`);n=o[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Rg(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function Ng(t){for(const e of["models","tunedModels","publisherModels"])if(CT(t,e))return t[e];return[]}function CT(t,e){return t!==null&&typeof t=="object"&&e in t}function ST(t,e={}){const n=t,i={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function ET(t,e={}){const n=[],i=new Set;for(const o of t){const a=o.name;if(i.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);i.add(a);const u=ST(o,e);u.functionDeclarations&&n.push(...u.functionDeclarations)}return{functionDeclarations:n}}function Dg(t,e){if(typeof e!="string"&&!Array.isArray(e)){if(t&&t.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function AT(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Ui(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function bg(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _T(t){const e={},n=l(t,["fps"]);n!=null&&s(e,["fps"],n);const i=l(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const o=l(t,["startOffset"]);return o!=null&&s(e,["startOffset"],o),e}function xT(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["data"]);n!=null&&s(e,["data"],n);const i=l(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function MT(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const i=l(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function RT(t){const e={},n=l(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],_T(n));const i=l(t,["thought"]);i!=null&&s(e,["thought"],i);const o=l(t,["inlineData"]);o!=null&&s(e,["inlineData"],xT(o));const a=l(t,["fileData"]);a!=null&&s(e,["fileData"],MT(a));const u=l(t,["thoughtSignature"]);u!=null&&s(e,["thoughtSignature"],u);const r=l(t,["codeExecutionResult"]);r!=null&&s(e,["codeExecutionResult"],r);const c=l(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=l(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=l(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=l(t,["text"]);return m!=null&&s(e,["text"],m),e}function wg(t){const e={},n=l(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>RT(a))),s(e,["parts"],o)}const i=l(t,["role"]);return i!=null&&s(e,["role"],i),e}function NT(t){const e={},n=l(t,["anyOf"]);n!=null&&s(e,["anyOf"],n);const i=l(t,["default"]);i!=null&&s(e,["default"],i);const o=l(t,["description"]);o!=null&&s(e,["description"],o);const a=l(t,["enum"]);a!=null&&s(e,["enum"],a);const u=l(t,["example"]);u!=null&&s(e,["example"],u);const r=l(t,["format"]);r!=null&&s(e,["format"],r);const c=l(t,["items"]);c!=null&&s(e,["items"],c);const f=l(t,["maxItems"]);f!=null&&s(e,["maxItems"],f);const d=l(t,["maxLength"]);d!=null&&s(e,["maxLength"],d);const m=l(t,["maxProperties"]);m!=null&&s(e,["maxProperties"],m);const p=l(t,["maximum"]);p!=null&&s(e,["maximum"],p);const g=l(t,["minItems"]);g!=null&&s(e,["minItems"],g);const T=l(t,["minLength"]);T!=null&&s(e,["minLength"],T);const S=l(t,["minProperties"]);S!=null&&s(e,["minProperties"],S);const _=l(t,["minimum"]);_!=null&&s(e,["minimum"],_);const y=l(t,["nullable"]);y!=null&&s(e,["nullable"],y);const h=l(t,["pattern"]);h!=null&&s(e,["pattern"],h);const v=l(t,["properties"]);v!=null&&s(e,["properties"],v);const C=l(t,["propertyOrdering"]);C!=null&&s(e,["propertyOrdering"],C);const A=l(t,["required"]);A!=null&&s(e,["required"],A);const N=l(t,["title"]);N!=null&&s(e,["title"],N);const M=l(t,["type"]);return M!=null&&s(e,["type"],M),e}function DT(t){const e={};if(l(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=l(t,["category"]);n!=null&&s(e,["category"],n);const i=l(t,["threshold"]);return i!=null&&s(e,["threshold"],i),e}function bT(t){const e={},n=l(t,["behavior"]);n!=null&&s(e,["behavior"],n);const i=l(t,["description"]);i!=null&&s(e,["description"],i);const o=l(t,["name"]);o!=null&&s(e,["name"],o);const a=l(t,["parameters"]);a!=null&&s(e,["parameters"],a);const u=l(t,["parametersJsonSchema"]);u!=null&&s(e,["parametersJsonSchema"],u);const r=l(t,["response"]);r!=null&&s(e,["response"],r);const c=l(t,["responseJsonSchema"]);return c!=null&&s(e,["responseJsonSchema"],c),e}function wT(t){const e={},n=l(t,["startTime"]);n!=null&&s(e,["startTime"],n);const i=l(t,["endTime"]);return i!=null&&s(e,["endTime"],i),e}function UT(t){const e={},n=l(t,["timeRangeFilter"]);return n!=null&&s(e,["timeRangeFilter"],wT(n)),e}function IT(t){const e={},n=l(t,["mode"]);n!=null&&s(e,["mode"],n);const i=l(t,["dynamicThreshold"]);return i!=null&&s(e,["dynamicThreshold"],i),e}function qT(t){const e={},n=l(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],IT(n)),e}function LT(){return{}}function VT(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>bT(f))),s(e,["functionDeclarations"],c)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=l(t,["googleSearch"]);i!=null&&s(e,["googleSearch"],UT(i));const o=l(t,["googleSearchRetrieval"]);if(o!=null&&s(e,["googleSearchRetrieval"],qT(o)),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(t,["urlContext"])!=null&&s(e,["urlContext"],LT());const u=l(t,["codeExecution"]);u!=null&&s(e,["codeExecution"],u);const r=l(t,["computerUse"]);return r!=null&&s(e,["computerUse"],r),e}function GT(t){const e={},n=l(t,["mode"]);n!=null&&s(e,["mode"],n);const i=l(t,["allowedFunctionNames"]);return i!=null&&s(e,["allowedFunctionNames"],i),e}function PT(t){const e={},n=l(t,["latitude"]);n!=null&&s(e,["latitude"],n);const i=l(t,["longitude"]);return i!=null&&s(e,["longitude"],i),e}function BT(t){const e={},n=l(t,["latLng"]);n!=null&&s(e,["latLng"],PT(n));const i=l(t,["languageCode"]);return i!=null&&s(e,["languageCode"],i),e}function HT(t){const e={},n=l(t,["functionCallingConfig"]);n!=null&&s(e,["functionCallingConfig"],GT(n));const i=l(t,["retrievalConfig"]);return i!=null&&s(e,["retrievalConfig"],BT(i)),e}function zT(t){const e={},n=l(t,["voiceName"]);return n!=null&&s(e,["voiceName"],n),e}function Ug(t){const e={},n=l(t,["prebuiltVoiceConfig"]);return n!=null&&s(e,["prebuiltVoiceConfig"],zT(n)),e}function kT(t){const e={},n=l(t,["speaker"]);n!=null&&s(e,["speaker"],n);const i=l(t,["voiceConfig"]);return i!=null&&s(e,["voiceConfig"],Ug(i)),e}function FT(t){const e={},n=l(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>kT(o))),s(e,["speakerVoiceConfigs"],i)}return e}function OT(t){const e={},n=l(t,["voiceConfig"]);n!=null&&s(e,["voiceConfig"],Ug(n));const i=l(t,["multiSpeakerVoiceConfig"]);i!=null&&s(e,["multiSpeakerVoiceConfig"],FT(i));const o=l(t,["languageCode"]);return o!=null&&s(e,["languageCode"],o),e}function YT(t){const e={},n=l(t,["includeThoughts"]);n!=null&&s(e,["includeThoughts"],n);const i=l(t,["thinkingBudget"]);return i!=null&&s(e,["thinkingBudget"],i),e}function JT(t,e,n){const i={},o=l(e,["systemInstruction"]);n!==void 0&&o!=null&&s(n,["systemInstruction"],wg(we(o)));const a=l(e,["temperature"]);a!=null&&s(i,["temperature"],a);const u=l(e,["topP"]);u!=null&&s(i,["topP"],u);const r=l(e,["topK"]);r!=null&&s(i,["topK"],r);const c=l(e,["candidateCount"]);c!=null&&s(i,["candidateCount"],c);const f=l(e,["maxOutputTokens"]);f!=null&&s(i,["maxOutputTokens"],f);const d=l(e,["stopSequences"]);d!=null&&s(i,["stopSequences"],d);const m=l(e,["responseLogprobs"]);m!=null&&s(i,["responseLogprobs"],m);const p=l(e,["logprobs"]);p!=null&&s(i,["logprobs"],p);const g=l(e,["presencePenalty"]);g!=null&&s(i,["presencePenalty"],g);const T=l(e,["frequencyPenalty"]);T!=null&&s(i,["frequencyPenalty"],T);const S=l(e,["seed"]);S!=null&&s(i,["seed"],S);const _=l(e,["responseMimeType"]);_!=null&&s(i,["responseMimeType"],_);const y=l(e,["responseSchema"]);y!=null&&s(i,["responseSchema"],NT(Cr(y)));const h=l(e,["responseJsonSchema"]);if(h!=null&&s(i,["responseJsonSchema"],h),l(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const v=l(e,["safetySettings"]);if(n!==void 0&&v!=null){let L=v;Array.isArray(L)&&(L=L.map(fe=>DT(fe))),s(n,["safetySettings"],L)}const C=l(e,["tools"]);if(n!==void 0&&C!=null){let L=wi(C);Array.isArray(L)&&(L=L.map(fe=>VT(bi(fe)))),s(n,["tools"],L)}const A=l(e,["toolConfig"]);if(n!==void 0&&A!=null&&s(n,["toolConfig"],HT(A)),l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const N=l(e,["cachedContent"]);n!==void 0&&N!=null&&s(n,["cachedContent"],qt(t,N));const M=l(e,["responseModalities"]);M!=null&&s(i,["responseModalities"],M);const R=l(e,["mediaResolution"]);R!=null&&s(i,["mediaResolution"],R);const D=l(e,["speechConfig"]);if(D!=null&&s(i,["speechConfig"],OT(Sr(D))),l(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const w=l(e,["thinkingConfig"]);return w!=null&&s(i,["thinkingConfig"],YT(w)),i}function QT(t,e){const n={},i=l(e,["model"]);i!=null&&s(n,["request","model"],$(t,i));const o=l(e,["contents"]);if(o!=null){let u=it(o);Array.isArray(u)&&(u=u.map(r=>wg(r))),s(n,["request","contents"],u)}const a=l(e,["config"]);return a!=null&&s(n,["request","generationConfig"],JT(t,a,n)),n}function KT(t,e){const n={};if(l(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(l(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=l(e,["fileName"]);i!=null&&s(n,["fileName"],i);const o=l(e,["inlinedRequests"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>QT(t,u))),s(n,["requests","requests"],a)}return n}function $T(t,e){const n={},i=l(t,["displayName"]);if(e!==void 0&&i!=null&&s(e,["batch","displayName"],i),l(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function XT(t,e){const n={},i=l(e,["model"]);i!=null&&s(n,["_url","model"],$(t,i));const o=l(e,["src"]);o!=null&&s(n,["batch","inputConfig"],KT(t,Dg(t,o)));const a=l(e,["config"]);return a!=null&&s(n,["config"],$T(a,n)),n}function ZT(t,e){const n={},i=l(e,["name"]);i!=null&&s(n,["_url","name"],Ui(t,i));const o=l(e,["config"]);return o!=null&&s(n,["config"],o),n}function WT(t,e){const n={},i=l(e,["name"]);i!=null&&s(n,["_url","name"],Ui(t,i));const o=l(e,["config"]);return o!=null&&s(n,["config"],o),n}function jT(t,e){const n={},i=l(t,["pageSize"]);e!==void 0&&i!=null&&s(e,["_query","pageSize"],i);const o=l(t,["pageToken"]);if(e!==void 0&&o!=null&&s(e,["_query","pageToken"],o),l(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function e0(t){const e={},n=l(t,["config"]);return n!=null&&s(e,["config"],jT(n,e)),e}function t0(t,e){const n={},i=l(e,["name"]);i!=null&&s(n,["_url","name"],Ui(t,i));const o=l(e,["config"]);return o!=null&&s(n,["config"],o),n}function n0(t){const e={},n=l(t,["format"]);n!=null&&s(e,["instancesFormat"],n);const i=l(t,["gcsUri"]);i!=null&&s(e,["gcsSource","uris"],i);const o=l(t,["bigqueryUri"]);if(o!=null&&s(e,["bigquerySource","inputUri"],o),l(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function i0(t){const e={},n=l(t,["format"]);n!=null&&s(e,["predictionsFormat"],n);const i=l(t,["gcsUri"]);i!=null&&s(e,["gcsDestination","outputUriPrefix"],i);const o=l(t,["bigqueryUri"]);if(o!=null&&s(e,["bigqueryDestination","outputUri"],o),l(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function o0(t,e){const n={},i=l(t,["displayName"]);e!==void 0&&i!=null&&s(e,["displayName"],i);const o=l(t,["dest"]);return e!==void 0&&o!=null&&s(e,["outputConfig"],i0(AT(o))),n}function l0(t,e){const n={},i=l(e,["model"]);i!=null&&s(n,["model"],$(t,i));const o=l(e,["src"]);o!=null&&s(n,["inputConfig"],n0(Dg(t,o)));const a=l(e,["config"]);return a!=null&&s(n,["config"],o0(a,n)),n}function a0(t,e){const n={},i=l(e,["name"]);i!=null&&s(n,["_url","name"],Ui(t,i));const o=l(e,["config"]);return o!=null&&s(n,["config"],o),n}function s0(t,e){const n={},i=l(e,["name"]);i!=null&&s(n,["_url","name"],Ui(t,i));const o=l(e,["config"]);return o!=null&&s(n,["config"],o),n}function u0(t,e){const n={},i=l(t,["pageSize"]);e!==void 0&&i!=null&&s(e,["_query","pageSize"],i);const o=l(t,["pageToken"]);e!==void 0&&o!=null&&s(e,["_query","pageToken"],o);const a=l(t,["filter"]);return e!==void 0&&a!=null&&s(e,["_query","filter"],a),n}function r0(t){const e={},n=l(t,["config"]);return n!=null&&s(e,["config"],u0(n,e)),e}function c0(t,e){const n={},i=l(e,["name"]);i!=null&&s(n,["_url","name"],Ui(t,i));const o=l(e,["config"]);return o!=null&&s(n,["config"],o),n}function f0(t){const e={},n=l(t,["fps"]);n!=null&&s(e,["fps"],n);const i=l(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const o=l(t,["startOffset"]);return o!=null&&s(e,["startOffset"],o),e}function d0(t){const e={},n=l(t,["data"]);n!=null&&s(e,["data"],n);const i=l(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function m0(t){const e={},n=l(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const i=l(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function p0(t){const e={},n=l(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],f0(n));const i=l(t,["thought"]);i!=null&&s(e,["thought"],i);const o=l(t,["inlineData"]);o!=null&&s(e,["inlineData"],d0(o));const a=l(t,["fileData"]);a!=null&&s(e,["fileData"],m0(a));const u=l(t,["thoughtSignature"]);u!=null&&s(e,["thoughtSignature"],u);const r=l(t,["codeExecutionResult"]);r!=null&&s(e,["codeExecutionResult"],r);const c=l(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=l(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=l(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=l(t,["text"]);return m!=null&&s(e,["text"],m),e}function g0(t){const e={},n=l(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>p0(a))),s(e,["parts"],o)}const i=l(t,["role"]);return i!=null&&s(e,["role"],i),e}function h0(t){const e={},n=l(t,["citationSources"]);return n!=null&&s(e,["citations"],n),e}function y0(t){const e={},n=l(t,["retrievedUrl"]);n!=null&&s(e,["retrievedUrl"],n);const i=l(t,["urlRetrievalStatus"]);return i!=null&&s(e,["urlRetrievalStatus"],i),e}function v0(t){const e={},n=l(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>y0(o))),s(e,["urlMetadata"],i)}return e}function T0(t){const e={},n=l(t,["content"]);n!=null&&s(e,["content"],g0(n));const i=l(t,["citationMetadata"]);i!=null&&s(e,["citationMetadata"],h0(i));const o=l(t,["tokenCount"]);o!=null&&s(e,["tokenCount"],o);const a=l(t,["finishReason"]);a!=null&&s(e,["finishReason"],a);const u=l(t,["urlContextMetadata"]);u!=null&&s(e,["urlContextMetadata"],v0(u));const r=l(t,["avgLogprobs"]);r!=null&&s(e,["avgLogprobs"],r);const c=l(t,["groundingMetadata"]);c!=null&&s(e,["groundingMetadata"],c);const f=l(t,["index"]);f!=null&&s(e,["index"],f);const d=l(t,["logprobsResult"]);d!=null&&s(e,["logprobsResult"],d);const m=l(t,["safetyRatings"]);return m!=null&&s(e,["safetyRatings"],m),e}function C0(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&s(e,["sdkHttpResponse"],n);const i=l(t,["candidates"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(c=>T0(c))),s(e,["candidates"],r)}const o=l(t,["modelVersion"]);o!=null&&s(e,["modelVersion"],o);const a=l(t,["promptFeedback"]);a!=null&&s(e,["promptFeedback"],a);const u=l(t,["usageMetadata"]);return u!=null&&s(e,["usageMetadata"],u),e}function Ig(t){const e={},n=l(t,["details"]);n!=null&&s(e,["details"],n);const i=l(t,["code"]);i!=null&&s(e,["code"],i);const o=l(t,["message"]);return o!=null&&s(e,["message"],o),e}function S0(t){const e={},n=l(t,["response"]);n!=null&&s(e,["response"],C0(n));const i=l(t,["error"]);return i!=null&&s(e,["error"],Ig(i)),e}function E0(t){const e={},n=l(t,["responsesFile"]);n!=null&&s(e,["fileName"],n);const i=l(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>S0(a))),s(e,["inlinedResponses"],o)}return e}function uu(t){const e={},n=l(t,["name"]);n!=null&&s(e,["name"],n);const i=l(t,["metadata","displayName"]);i!=null&&s(e,["displayName"],i);const o=l(t,["metadata","state"]);o!=null&&s(e,["state"],bg(o));const a=l(t,["metadata","createTime"]);a!=null&&s(e,["createTime"],a);const u=l(t,["metadata","endTime"]);u!=null&&s(e,["endTime"],u);const r=l(t,["metadata","updateTime"]);r!=null&&s(e,["updateTime"],r);const c=l(t,["metadata","model"]);c!=null&&s(e,["model"],c);const f=l(t,["metadata","output"]);return f!=null&&s(e,["dest"],E0(f)),e}function A0(t){const e={},n=l(t,["nextPageToken"]);n!=null&&s(e,["nextPageToken"],n);const i=l(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>uu(a))),s(e,["batchJobs"],o)}return e}function _0(t){const e={},n=l(t,["name"]);n!=null&&s(e,["name"],n);const i=l(t,["done"]);i!=null&&s(e,["done"],i);const o=l(t,["error"]);return o!=null&&s(e,["error"],Ig(o)),e}function qg(t){const e={},n=l(t,["details"]);n!=null&&s(e,["details"],n);const i=l(t,["code"]);i!=null&&s(e,["code"],i);const o=l(t,["message"]);return o!=null&&s(e,["message"],o),e}function x0(t){const e={},n=l(t,["instancesFormat"]);n!=null&&s(e,["format"],n);const i=l(t,["gcsSource","uris"]);i!=null&&s(e,["gcsUri"],i);const o=l(t,["bigquerySource","inputUri"]);return o!=null&&s(e,["bigqueryUri"],o),e}function M0(t){const e={},n=l(t,["predictionsFormat"]);n!=null&&s(e,["format"],n);const i=l(t,["gcsDestination","outputUriPrefix"]);i!=null&&s(e,["gcsUri"],i);const o=l(t,["bigqueryDestination","outputUri"]);return o!=null&&s(e,["bigqueryUri"],o),e}function ru(t){const e={},n=l(t,["name"]);n!=null&&s(e,["name"],n);const i=l(t,["displayName"]);i!=null&&s(e,["displayName"],i);const o=l(t,["state"]);o!=null&&s(e,["state"],bg(o));const a=l(t,["error"]);a!=null&&s(e,["error"],qg(a));const u=l(t,["createTime"]);u!=null&&s(e,["createTime"],u);const r=l(t,["startTime"]);r!=null&&s(e,["startTime"],r);const c=l(t,["endTime"]);c!=null&&s(e,["endTime"],c);const f=l(t,["updateTime"]);f!=null&&s(e,["updateTime"],f);const d=l(t,["model"]);d!=null&&s(e,["model"],d);const m=l(t,["inputConfig"]);m!=null&&s(e,["src"],x0(m));const p=l(t,["outputConfig"]);return p!=null&&s(e,["dest"],M0(p)),e}function R0(t){const e={},n=l(t,["nextPageToken"]);n!=null&&s(e,["nextPageToken"],n);const i=l(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>ru(a))),s(e,["batchJobs"],o)}return e}function N0(t){const e={},n=l(t,["name"]);n!=null&&s(e,["name"],n);const i=l(t,["done"]);i!=null&&s(e,["done"],i);const o=l(t,["error"]);return o!=null&&s(e,["error"],qg(o)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Rn;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Rn||(Rn={}));class zo{constructor(e,n,i,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,i,o)}init(e,n,i){var o,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let u={config:{}};i?typeof i=="object"?u=Object.assign({},i):u=i:u={config:{}},u.config&&(u.config.pageToken=n.nextPageToken),this.paramsInternal=u,this.pageInternalSize=(a=(o=u.config)===null||o===void 0?void 0:o.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class D0 extends Un{constructor(e){super(),this.apiClient=e,this.create=async n=>{if(this.apiClient.isVertexAI()){const o=Date.now().toString();if(Array.isArray(n.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(n.config=n.config||{},n.config.displayName===void 0&&(n.config.displayName="genaiBatchJob_${timestampStr}"),n.config.dest===void 0&&typeof n.src=="string")if(n.src.startsWith("gs://")&&n.src.endsWith(".jsonl"))n.config.dest=`${n.src.slice(0,-6)}/dest`;else if(n.src.startsWith("bq://"))n.config.dest=`${n.src}_dest_${o}`;else throw new Error("Unsupported source:"+n.src)}return await this.createInternal(n)},this.list=async(n={})=>new zo(Rn.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n)}async createInternal(e){var n,i,o,a;let u,r="",c={};if(this.apiClient.isVertexAI()){const f=l0(this.apiClient,e);return r=U("batchPredictionJobs",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),u.then(d=>ru(d))}else{const f=XT(this.apiClient,e);return r=U("{model}:batchGenerateContent",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),u.then(d=>uu(d))}}async get(e){var n,i,o,a;let u,r="",c={};if(this.apiClient.isVertexAI()){const f=a0(this.apiClient,e);return r=U("batchPredictionJobs/{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),u.then(d=>ru(d))}else{const f=ZT(this.apiClient,e);return r=U("batches/{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),u.then(d=>uu(d))}}async cancel(e){var n,i,o,a;let u="",r={};if(this.apiClient.isVertexAI()){const c=s0(this.apiClient,e);u=U("batchPredictionJobs/{name}:cancel",c._url),r=c._query,delete c.config,delete c._url,delete c._query,await this.apiClient.request({path:u,queryParams:r,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const c=WT(this.apiClient,e);u=U("batches/{name}:cancel",c._url),r=c._query,delete c.config,delete c._url,delete c._query,await this.apiClient.request({path:u,queryParams:r,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,i,o,a;let u,r="",c={};if(this.apiClient.isVertexAI()){const f=r0(e);return r=U("batchPredictionJobs",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),u.then(d=>{const m=R0(d),p=new Yf;return Object.assign(p,m),p})}else{const f=e0(e);return r=U("batches",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),u.then(d=>{const m=A0(d),p=new Yf;return Object.assign(p,m),p})}}async delete(e){var n,i,o,a;let u,r="",c={};if(this.apiClient.isVertexAI()){const f=c0(this.apiClient,e);return r=U("batchPredictionJobs/{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),u.then(d=>N0(d))}else{const f=t0(this.apiClient,e);return r=U("batches/{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),u.then(d=>_0(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function b0(t){const e={},n=l(t,["fps"]);n!=null&&s(e,["fps"],n);const i=l(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const o=l(t,["startOffset"]);return o!=null&&s(e,["startOffset"],o),e}function w0(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["data"]);n!=null&&s(e,["data"],n);const i=l(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function U0(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const i=l(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function I0(t){const e={},n=l(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],b0(n));const i=l(t,["thought"]);i!=null&&s(e,["thought"],i);const o=l(t,["inlineData"]);o!=null&&s(e,["inlineData"],w0(o));const a=l(t,["fileData"]);a!=null&&s(e,["fileData"],U0(a));const u=l(t,["thoughtSignature"]);u!=null&&s(e,["thoughtSignature"],u);const r=l(t,["codeExecutionResult"]);r!=null&&s(e,["codeExecutionResult"],r);const c=l(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=l(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=l(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=l(t,["text"]);return m!=null&&s(e,["text"],m),e}function $f(t){const e={},n=l(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>I0(a))),s(e,["parts"],o)}const i=l(t,["role"]);return i!=null&&s(e,["role"],i),e}function q0(t){const e={},n=l(t,["behavior"]);n!=null&&s(e,["behavior"],n);const i=l(t,["description"]);i!=null&&s(e,["description"],i);const o=l(t,["name"]);o!=null&&s(e,["name"],o);const a=l(t,["parameters"]);a!=null&&s(e,["parameters"],a);const u=l(t,["parametersJsonSchema"]);u!=null&&s(e,["parametersJsonSchema"],u);const r=l(t,["response"]);r!=null&&s(e,["response"],r);const c=l(t,["responseJsonSchema"]);return c!=null&&s(e,["responseJsonSchema"],c),e}function L0(t){const e={},n=l(t,["startTime"]);n!=null&&s(e,["startTime"],n);const i=l(t,["endTime"]);return i!=null&&s(e,["endTime"],i),e}function V0(t){const e={},n=l(t,["timeRangeFilter"]);return n!=null&&s(e,["timeRangeFilter"],L0(n)),e}function G0(t){const e={},n=l(t,["mode"]);n!=null&&s(e,["mode"],n);const i=l(t,["dynamicThreshold"]);return i!=null&&s(e,["dynamicThreshold"],i),e}function P0(t){const e={},n=l(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],G0(n)),e}function B0(){return{}}function H0(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>q0(f))),s(e,["functionDeclarations"],c)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=l(t,["googleSearch"]);i!=null&&s(e,["googleSearch"],V0(i));const o=l(t,["googleSearchRetrieval"]);if(o!=null&&s(e,["googleSearchRetrieval"],P0(o)),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(t,["urlContext"])!=null&&s(e,["urlContext"],B0());const u=l(t,["codeExecution"]);u!=null&&s(e,["codeExecution"],u);const r=l(t,["computerUse"]);return r!=null&&s(e,["computerUse"],r),e}function z0(t){const e={},n=l(t,["mode"]);n!=null&&s(e,["mode"],n);const i=l(t,["allowedFunctionNames"]);return i!=null&&s(e,["allowedFunctionNames"],i),e}function k0(t){const e={},n=l(t,["latitude"]);n!=null&&s(e,["latitude"],n);const i=l(t,["longitude"]);return i!=null&&s(e,["longitude"],i),e}function F0(t){const e={},n=l(t,["latLng"]);n!=null&&s(e,["latLng"],k0(n));const i=l(t,["languageCode"]);return i!=null&&s(e,["languageCode"],i),e}function O0(t){const e={},n=l(t,["functionCallingConfig"]);n!=null&&s(e,["functionCallingConfig"],z0(n));const i=l(t,["retrievalConfig"]);return i!=null&&s(e,["retrievalConfig"],F0(i)),e}function Y0(t,e){const n={},i=l(t,["ttl"]);e!==void 0&&i!=null&&s(e,["ttl"],i);const o=l(t,["expireTime"]);e!==void 0&&o!=null&&s(e,["expireTime"],o);const a=l(t,["displayName"]);e!==void 0&&a!=null&&s(e,["displayName"],a);const u=l(t,["contents"]);if(e!==void 0&&u!=null){let d=it(u);Array.isArray(d)&&(d=d.map(m=>$f(m))),s(e,["contents"],d)}const r=l(t,["systemInstruction"]);e!==void 0&&r!=null&&s(e,["systemInstruction"],$f(we(r)));const c=l(t,["tools"]);if(e!==void 0&&c!=null){let d=c;Array.isArray(d)&&(d=d.map(m=>H0(m))),s(e,["tools"],d)}const f=l(t,["toolConfig"]);if(e!==void 0&&f!=null&&s(e,["toolConfig"],O0(f)),l(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function J0(t,e){const n={},i=l(e,["model"]);i!=null&&s(n,["model"],Tg(t,i));const o=l(e,["config"]);return o!=null&&s(n,["config"],Y0(o,n)),n}function Q0(t,e){const n={},i=l(e,["name"]);i!=null&&s(n,["_url","name"],qt(t,i));const o=l(e,["config"]);return o!=null&&s(n,["config"],o),n}function K0(t,e){const n={},i=l(e,["name"]);i!=null&&s(n,["_url","name"],qt(t,i));const o=l(e,["config"]);return o!=null&&s(n,["config"],o),n}function $0(t,e){const n={},i=l(t,["ttl"]);e!==void 0&&i!=null&&s(e,["ttl"],i);const o=l(t,["expireTime"]);return e!==void 0&&o!=null&&s(e,["expireTime"],o),n}function X0(t,e){const n={},i=l(e,["name"]);i!=null&&s(n,["_url","name"],qt(t,i));const o=l(e,["config"]);return o!=null&&s(n,["config"],$0(o,n)),n}function Z0(t,e){const n={},i=l(t,["pageSize"]);e!==void 0&&i!=null&&s(e,["_query","pageSize"],i);const o=l(t,["pageToken"]);return e!==void 0&&o!=null&&s(e,["_query","pageToken"],o),n}function W0(t){const e={},n=l(t,["config"]);return n!=null&&s(e,["config"],Z0(n,e)),e}function j0(t){const e={},n=l(t,["fps"]);n!=null&&s(e,["fps"],n);const i=l(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const o=l(t,["startOffset"]);return o!=null&&s(e,["startOffset"],o),e}function eC(t){const e={},n=l(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=l(t,["data"]);i!=null&&s(e,["data"],i);const o=l(t,["mimeType"]);return o!=null&&s(e,["mimeType"],o),e}function tC(t){const e={},n=l(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=l(t,["fileUri"]);i!=null&&s(e,["fileUri"],i);const o=l(t,["mimeType"]);return o!=null&&s(e,["mimeType"],o),e}function nC(t){const e={},n=l(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],j0(n));const i=l(t,["thought"]);i!=null&&s(e,["thought"],i);const o=l(t,["inlineData"]);o!=null&&s(e,["inlineData"],eC(o));const a=l(t,["fileData"]);a!=null&&s(e,["fileData"],tC(a));const u=l(t,["thoughtSignature"]);u!=null&&s(e,["thoughtSignature"],u);const r=l(t,["codeExecutionResult"]);r!=null&&s(e,["codeExecutionResult"],r);const c=l(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=l(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=l(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=l(t,["text"]);return m!=null&&s(e,["text"],m),e}function Xf(t){const e={},n=l(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>nC(a))),s(e,["parts"],o)}const i=l(t,["role"]);return i!=null&&s(e,["role"],i),e}function iC(t){const e={};if(l(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=l(t,["description"]);n!=null&&s(e,["description"],n);const i=l(t,["name"]);i!=null&&s(e,["name"],i);const o=l(t,["parameters"]);o!=null&&s(e,["parameters"],o);const a=l(t,["parametersJsonSchema"]);a!=null&&s(e,["parametersJsonSchema"],a);const u=l(t,["response"]);u!=null&&s(e,["response"],u);const r=l(t,["responseJsonSchema"]);return r!=null&&s(e,["responseJsonSchema"],r),e}function oC(t){const e={},n=l(t,["startTime"]);n!=null&&s(e,["startTime"],n);const i=l(t,["endTime"]);return i!=null&&s(e,["endTime"],i),e}function lC(t){const e={},n=l(t,["timeRangeFilter"]);return n!=null&&s(e,["timeRangeFilter"],oC(n)),e}function aC(t){const e={},n=l(t,["mode"]);n!=null&&s(e,["mode"],n);const i=l(t,["dynamicThreshold"]);return i!=null&&s(e,["dynamicThreshold"],i),e}function sC(t){const e={},n=l(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],aC(n)),e}function uC(){return{}}function rC(t){const e={},n=l(t,["apiKeyString"]);return n!=null&&s(e,["apiKeyString"],n),e}function cC(t){const e={},n=l(t,["apiKeyConfig"]);n!=null&&s(e,["apiKeyConfig"],rC(n));const i=l(t,["authType"]);i!=null&&s(e,["authType"],i);const o=l(t,["googleServiceAccountConfig"]);o!=null&&s(e,["googleServiceAccountConfig"],o);const a=l(t,["httpBasicAuthConfig"]);a!=null&&s(e,["httpBasicAuthConfig"],a);const u=l(t,["oauthConfig"]);u!=null&&s(e,["oauthConfig"],u);const r=l(t,["oidcConfig"]);return r!=null&&s(e,["oidcConfig"],r),e}function fC(t){const e={},n=l(t,["authConfig"]);return n!=null&&s(e,["authConfig"],cC(n)),e}function dC(){return{}}function mC(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(p=>iC(p))),s(e,["functionDeclarations"],m)}const i=l(t,["retrieval"]);i!=null&&s(e,["retrieval"],i);const o=l(t,["googleSearch"]);o!=null&&s(e,["googleSearch"],lC(o));const a=l(t,["googleSearchRetrieval"]);a!=null&&s(e,["googleSearchRetrieval"],sC(a)),l(t,["enterpriseWebSearch"])!=null&&s(e,["enterpriseWebSearch"],uC());const r=l(t,["googleMaps"]);r!=null&&s(e,["googleMaps"],fC(r)),l(t,["urlContext"])!=null&&s(e,["urlContext"],dC());const f=l(t,["codeExecution"]);f!=null&&s(e,["codeExecution"],f);const d=l(t,["computerUse"]);return d!=null&&s(e,["computerUse"],d),e}function pC(t){const e={},n=l(t,["mode"]);n!=null&&s(e,["mode"],n);const i=l(t,["allowedFunctionNames"]);return i!=null&&s(e,["allowedFunctionNames"],i),e}function gC(t){const e={},n=l(t,["latitude"]);n!=null&&s(e,["latitude"],n);const i=l(t,["longitude"]);return i!=null&&s(e,["longitude"],i),e}function hC(t){const e={},n=l(t,["latLng"]);n!=null&&s(e,["latLng"],gC(n));const i=l(t,["languageCode"]);return i!=null&&s(e,["languageCode"],i),e}function yC(t){const e={},n=l(t,["functionCallingConfig"]);n!=null&&s(e,["functionCallingConfig"],pC(n));const i=l(t,["retrievalConfig"]);return i!=null&&s(e,["retrievalConfig"],hC(i)),e}function vC(t,e){const n={},i=l(t,["ttl"]);e!==void 0&&i!=null&&s(e,["ttl"],i);const o=l(t,["expireTime"]);e!==void 0&&o!=null&&s(e,["expireTime"],o);const a=l(t,["displayName"]);e!==void 0&&a!=null&&s(e,["displayName"],a);const u=l(t,["contents"]);if(e!==void 0&&u!=null){let m=it(u);Array.isArray(m)&&(m=m.map(p=>Xf(p))),s(e,["contents"],m)}const r=l(t,["systemInstruction"]);e!==void 0&&r!=null&&s(e,["systemInstruction"],Xf(we(r)));const c=l(t,["tools"]);if(e!==void 0&&c!=null){let m=c;Array.isArray(m)&&(m=m.map(p=>mC(p))),s(e,["tools"],m)}const f=l(t,["toolConfig"]);e!==void 0&&f!=null&&s(e,["toolConfig"],yC(f));const d=l(t,["kmsKeyName"]);return e!==void 0&&d!=null&&s(e,["encryption_spec","kmsKeyName"],d),n}function TC(t,e){const n={},i=l(e,["model"]);i!=null&&s(n,["model"],Tg(t,i));const o=l(e,["config"]);return o!=null&&s(n,["config"],vC(o,n)),n}function CC(t,e){const n={},i=l(e,["name"]);i!=null&&s(n,["_url","name"],qt(t,i));const o=l(e,["config"]);return o!=null&&s(n,["config"],o),n}function SC(t,e){const n={},i=l(e,["name"]);i!=null&&s(n,["_url","name"],qt(t,i));const o=l(e,["config"]);return o!=null&&s(n,["config"],o),n}function EC(t,e){const n={},i=l(t,["ttl"]);e!==void 0&&i!=null&&s(e,["ttl"],i);const o=l(t,["expireTime"]);return e!==void 0&&o!=null&&s(e,["expireTime"],o),n}function AC(t,e){const n={},i=l(e,["name"]);i!=null&&s(n,["_url","name"],qt(t,i));const o=l(e,["config"]);return o!=null&&s(n,["config"],EC(o,n)),n}function _C(t,e){const n={},i=l(t,["pageSize"]);e!==void 0&&i!=null&&s(e,["_query","pageSize"],i);const o=l(t,["pageToken"]);return e!==void 0&&o!=null&&s(e,["_query","pageToken"],o),n}function xC(t){const e={},n=l(t,["config"]);return n!=null&&s(e,["config"],_C(n,e)),e}function vl(t){const e={},n=l(t,["name"]);n!=null&&s(e,["name"],n);const i=l(t,["displayName"]);i!=null&&s(e,["displayName"],i);const o=l(t,["model"]);o!=null&&s(e,["model"],o);const a=l(t,["createTime"]);a!=null&&s(e,["createTime"],a);const u=l(t,["updateTime"]);u!=null&&s(e,["updateTime"],u);const r=l(t,["expireTime"]);r!=null&&s(e,["expireTime"],r);const c=l(t,["usageMetadata"]);return c!=null&&s(e,["usageMetadata"],c),e}function MC(){return{}}function RC(t){const e={},n=l(t,["nextPageToken"]);n!=null&&s(e,["nextPageToken"],n);const i=l(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>vl(a))),s(e,["cachedContents"],o)}return e}function Tl(t){const e={},n=l(t,["name"]);n!=null&&s(e,["name"],n);const i=l(t,["displayName"]);i!=null&&s(e,["displayName"],i);const o=l(t,["model"]);o!=null&&s(e,["model"],o);const a=l(t,["createTime"]);a!=null&&s(e,["createTime"],a);const u=l(t,["updateTime"]);u!=null&&s(e,["updateTime"],u);const r=l(t,["expireTime"]);r!=null&&s(e,["expireTime"],r);const c=l(t,["usageMetadata"]);return c!=null&&s(e,["usageMetadata"],c),e}function NC(){return{}}function DC(t){const e={},n=l(t,["nextPageToken"]);n!=null&&s(e,["nextPageToken"],n);const i=l(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Tl(a))),s(e,["cachedContents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bC extends Un{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new zo(Rn.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(e){var n,i,o,a;let u,r="",c={};if(this.apiClient.isVertexAI()){const f=TC(this.apiClient,e);return r=U("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),u.then(d=>Tl(d))}else{const f=J0(this.apiClient,e);return r=U("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),u.then(d=>vl(d))}}async get(e){var n,i,o,a;let u,r="",c={};if(this.apiClient.isVertexAI()){const f=CC(this.apiClient,e);return r=U("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),u.then(d=>Tl(d))}else{const f=Q0(this.apiClient,e);return r=U("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),u.then(d=>vl(d))}}async delete(e){var n,i,o,a;let u,r="",c={};if(this.apiClient.isVertexAI()){const f=SC(this.apiClient,e);return r=U("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),u.then(()=>{const d=NC(),m=new Ff;return Object.assign(m,d),m})}else{const f=K0(this.apiClient,e);return r=U("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),u.then(()=>{const d=MC(),m=new Ff;return Object.assign(m,d),m})}}async update(e){var n,i,o,a;let u,r="",c={};if(this.apiClient.isVertexAI()){const f=AC(this.apiClient,e);return r=U("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),u.then(d=>Tl(d))}else{const f=X0(this.apiClient,e);return r=U("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),u.then(d=>vl(d))}}async listInternal(e){var n,i,o,a;let u,r="",c={};if(this.apiClient.isVertexAI()){const f=xC(e);return r=U("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),u.then(d=>{const m=DC(d),p=new Of;return Object.assign(p,m),p})}else{const f=W0(e);return r=U("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),u.then(d=>{const m=RC(d),p=new Of;return Object.assign(p,m),p})}}}function Zf(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ee(t){return this instanceof ee?(this.v=t,this):new ee(t)}function fi(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),o,a=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),r("next"),r("throw"),r("return",u),o[Symbol.asyncIterator]=function(){return this},o;function u(g){return function(T){return Promise.resolve(T).then(g,m)}}function r(g,T){i[g]&&(o[g]=function(S){return new Promise(function(_,y){a.push([g,S,_,y])>1||c(g,S)})},T&&(o[g]=T(o[g])))}function c(g,T){try{f(i[g](T))}catch(S){p(a[0][3],S)}}function f(g){g.value instanceof ee?Promise.resolve(g.value.v).then(d,m):p(a[0][2],g)}function d(g){c("next",g)}function m(g){c("throw",g)}function p(g,T){g(T),a.shift(),a.length&&c(a[0][0],a[0][1])}}function ro(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Zf=="function"?Zf(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(a){n[a]=t[a]&&function(u){return new Promise(function(r,c){u=t[a](u),o(r,c,u.done,u.value)})}}function o(a,u,r,c){Promise.resolve(c).then(function(f){a({value:f,done:r})},u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wC(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:Lg(n)}function Lg(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function UC(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Wf(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let i=0;for(;i<n;)if(t[i].role==="user")e.push(t[i]),i++;else{const o=[];let a=!0;for(;i<n&&t[i].role==="model";)o.push(t[i]),a&&!Lg(t[i])&&(a=!1),i++;a?e.push(...o):e.pop()}return e}class IC{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new qC(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class qC{constructor(e,n,i,o={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=i,this.config=o,this.history=a,this.sendPromise=Promise.resolve(),UC(a)}async sendMessage(e){var n;await this.sendPromise;const i=we(e.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,u,r;const c=await o,f=(u=(a=c.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content,d=c.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let p=[];d!=null&&(p=(r=d.slice(m))!==null&&r!==void 0?r:[]);const g=f?[f]:[];this.recordHistory(i,g,p)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(e){var n;await this.sendPromise;const i=we(e.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const a=await o;return this.processStreamResponse(a,i)}getHistory(e=!1){const n=e?Wf(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var i,o;return fi(this,arguments,function*(){var u,r,c,f;const d=[];try{for(var m=!0,p=ro(e),g;g=yield ee(p.next()),u=g.done,!u;m=!0){f=g.value,m=!1;const T=f;if(wC(T)){const S=(o=(i=T.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content;S!==void 0&&d.push(S)}yield yield ee(T)}}catch(T){r={error:T}}finally{try{!m&&!u&&(c=p.return)&&(yield ee(c.call(p)))}finally{if(r)throw r.error}}this.recordHistory(n,d)})}recordHistory(e,n,i){let o=[];n.length>0&&n.every(a=>a.role!==void 0)?o=n:o.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...Wf(i)):this.history.push(e),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ta extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Ta.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function LC(t,e){const n={},i=l(t,["pageSize"]);e!==void 0&&i!=null&&s(e,["_query","pageSize"],i);const o=l(t,["pageToken"]);return e!==void 0&&o!=null&&s(e,["_query","pageToken"],o),n}function VC(t){const e={},n=l(t,["config"]);return n!=null&&s(e,["config"],LC(n,e)),e}function GC(t){const e={},n=l(t,["details"]);n!=null&&s(e,["details"],n);const i=l(t,["message"]);i!=null&&s(e,["message"],i);const o=l(t,["code"]);return o!=null&&s(e,["code"],o),e}function PC(t){const e={},n=l(t,["name"]);n!=null&&s(e,["name"],n);const i=l(t,["displayName"]);i!=null&&s(e,["displayName"],i);const o=l(t,["mimeType"]);o!=null&&s(e,["mimeType"],o);const a=l(t,["sizeBytes"]);a!=null&&s(e,["sizeBytes"],a);const u=l(t,["createTime"]);u!=null&&s(e,["createTime"],u);const r=l(t,["expirationTime"]);r!=null&&s(e,["expirationTime"],r);const c=l(t,["updateTime"]);c!=null&&s(e,["updateTime"],c);const f=l(t,["sha256Hash"]);f!=null&&s(e,["sha256Hash"],f);const d=l(t,["uri"]);d!=null&&s(e,["uri"],d);const m=l(t,["downloadUri"]);m!=null&&s(e,["downloadUri"],m);const p=l(t,["state"]);p!=null&&s(e,["state"],p);const g=l(t,["source"]);g!=null&&s(e,["source"],g);const T=l(t,["videoMetadata"]);T!=null&&s(e,["videoMetadata"],T);const S=l(t,["error"]);return S!=null&&s(e,["error"],GC(S)),e}function BC(t){const e={},n=l(t,["file"]);n!=null&&s(e,["file"],PC(n));const i=l(t,["config"]);return i!=null&&s(e,["config"],i),e}function HC(t){const e={},n=l(t,["name"]);n!=null&&s(e,["_url","file"],Mg(n));const i=l(t,["config"]);return i!=null&&s(e,["config"],i),e}function zC(t){const e={},n=l(t,["name"]);n!=null&&s(e,["_url","file"],Mg(n));const i=l(t,["config"]);return i!=null&&s(e,["config"],i),e}function kC(t){const e={},n=l(t,["details"]);n!=null&&s(e,["details"],n);const i=l(t,["message"]);i!=null&&s(e,["message"],i);const o=l(t,["code"]);return o!=null&&s(e,["code"],o),e}function cu(t){const e={},n=l(t,["name"]);n!=null&&s(e,["name"],n);const i=l(t,["displayName"]);i!=null&&s(e,["displayName"],i);const o=l(t,["mimeType"]);o!=null&&s(e,["mimeType"],o);const a=l(t,["sizeBytes"]);a!=null&&s(e,["sizeBytes"],a);const u=l(t,["createTime"]);u!=null&&s(e,["createTime"],u);const r=l(t,["expirationTime"]);r!=null&&s(e,["expirationTime"],r);const c=l(t,["updateTime"]);c!=null&&s(e,["updateTime"],c);const f=l(t,["sha256Hash"]);f!=null&&s(e,["sha256Hash"],f);const d=l(t,["uri"]);d!=null&&s(e,["uri"],d);const m=l(t,["downloadUri"]);m!=null&&s(e,["downloadUri"],m);const p=l(t,["state"]);p!=null&&s(e,["state"],p);const g=l(t,["source"]);g!=null&&s(e,["source"],g);const T=l(t,["videoMetadata"]);T!=null&&s(e,["videoMetadata"],T);const S=l(t,["error"]);return S!=null&&s(e,["error"],kC(S)),e}function FC(t){const e={},n=l(t,["nextPageToken"]);n!=null&&s(e,["nextPageToken"],n);const i=l(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>cu(a))),s(e,["files"],o)}return e}function OC(t){const e={},n=l(t,["sdkHttpResponse"]);return n!=null&&s(e,["sdkHttpResponse"],n),e}function YC(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class JC extends Un{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new zo(Rn.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>cu(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,i;let o,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=VC(e);return a=U("files",r._url),u=r._query,delete r.config,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(r),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{const f=FC(c),d=new cT;return Object.assign(d,f),d})}}async createInternal(e){var n,i;let o,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=BC(e);return a=U("upload/v1beta/files",r._url),u=r._query,delete r.config,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{const f=OC(c),d=new fT;return Object.assign(d,f),d})}}async get(e){var n,i;let o,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=HC(e);return a=U("files/{file}",r._url),u=r._query,delete r.config,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(r),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>cu(c))}}async delete(e){var n,i;let o,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=zC(e);return a=U("files/{file}",r._url),u=r._query,delete r.config,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(r),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(()=>{const c=YC(),f=new dT;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function QC(t){const e={},n=l(t,["voiceName"]);return n!=null&&s(e,["voiceName"],n),e}function Vg(t){const e={},n=l(t,["prebuiltVoiceConfig"]);return n!=null&&s(e,["prebuiltVoiceConfig"],QC(n)),e}function KC(t){const e={},n=l(t,["speaker"]);n!=null&&s(e,["speaker"],n);const i=l(t,["voiceConfig"]);return i!=null&&s(e,["voiceConfig"],Vg(i)),e}function $C(t){const e={},n=l(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>KC(o))),s(e,["speakerVoiceConfigs"],i)}return e}function XC(t){const e={},n=l(t,["voiceConfig"]);n!=null&&s(e,["voiceConfig"],Vg(n));const i=l(t,["multiSpeakerVoiceConfig"]);i!=null&&s(e,["multiSpeakerVoiceConfig"],$C(i));const o=l(t,["languageCode"]);return o!=null&&s(e,["languageCode"],o),e}function ZC(t){const e={},n=l(t,["fps"]);n!=null&&s(e,["fps"],n);const i=l(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const o=l(t,["startOffset"]);return o!=null&&s(e,["startOffset"],o),e}function WC(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["data"]);n!=null&&s(e,["data"],n);const i=l(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function jC(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const i=l(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function eS(t){const e={},n=l(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],ZC(n));const i=l(t,["thought"]);i!=null&&s(e,["thought"],i);const o=l(t,["inlineData"]);o!=null&&s(e,["inlineData"],WC(o));const a=l(t,["fileData"]);a!=null&&s(e,["fileData"],jC(a));const u=l(t,["thoughtSignature"]);u!=null&&s(e,["thoughtSignature"],u);const r=l(t,["codeExecutionResult"]);r!=null&&s(e,["codeExecutionResult"],r);const c=l(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=l(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=l(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=l(t,["text"]);return m!=null&&s(e,["text"],m),e}function tS(t){const e={},n=l(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>eS(a))),s(e,["parts"],o)}const i=l(t,["role"]);return i!=null&&s(e,["role"],i),e}function nS(t){const e={},n=l(t,["behavior"]);n!=null&&s(e,["behavior"],n);const i=l(t,["description"]);i!=null&&s(e,["description"],i);const o=l(t,["name"]);o!=null&&s(e,["name"],o);const a=l(t,["parameters"]);a!=null&&s(e,["parameters"],a);const u=l(t,["parametersJsonSchema"]);u!=null&&s(e,["parametersJsonSchema"],u);const r=l(t,["response"]);r!=null&&s(e,["response"],r);const c=l(t,["responseJsonSchema"]);return c!=null&&s(e,["responseJsonSchema"],c),e}function iS(t){const e={},n=l(t,["startTime"]);n!=null&&s(e,["startTime"],n);const i=l(t,["endTime"]);return i!=null&&s(e,["endTime"],i),e}function oS(t){const e={},n=l(t,["timeRangeFilter"]);return n!=null&&s(e,["timeRangeFilter"],iS(n)),e}function lS(t){const e={},n=l(t,["mode"]);n!=null&&s(e,["mode"],n);const i=l(t,["dynamicThreshold"]);return i!=null&&s(e,["dynamicThreshold"],i),e}function aS(t){const e={},n=l(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],lS(n)),e}function sS(){return{}}function uS(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>nS(f))),s(e,["functionDeclarations"],c)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=l(t,["googleSearch"]);i!=null&&s(e,["googleSearch"],oS(i));const o=l(t,["googleSearchRetrieval"]);if(o!=null&&s(e,["googleSearchRetrieval"],aS(o)),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(t,["urlContext"])!=null&&s(e,["urlContext"],sS());const u=l(t,["codeExecution"]);u!=null&&s(e,["codeExecution"],u);const r=l(t,["computerUse"]);return r!=null&&s(e,["computerUse"],r),e}function rS(t){const e={},n=l(t,["handle"]);if(n!=null&&s(e,["handle"],n),l(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function jf(){return{}}function cS(t){const e={},n=l(t,["disabled"]);n!=null&&s(e,["disabled"],n);const i=l(t,["startOfSpeechSensitivity"]);i!=null&&s(e,["startOfSpeechSensitivity"],i);const o=l(t,["endOfSpeechSensitivity"]);o!=null&&s(e,["endOfSpeechSensitivity"],o);const a=l(t,["prefixPaddingMs"]);a!=null&&s(e,["prefixPaddingMs"],a);const u=l(t,["silenceDurationMs"]);return u!=null&&s(e,["silenceDurationMs"],u),e}function fS(t){const e={},n=l(t,["automaticActivityDetection"]);n!=null&&s(e,["automaticActivityDetection"],cS(n));const i=l(t,["activityHandling"]);i!=null&&s(e,["activityHandling"],i);const o=l(t,["turnCoverage"]);return o!=null&&s(e,["turnCoverage"],o),e}function dS(t){const e={},n=l(t,["targetTokens"]);return n!=null&&s(e,["targetTokens"],n),e}function mS(t){const e={},n=l(t,["triggerTokens"]);n!=null&&s(e,["triggerTokens"],n);const i=l(t,["slidingWindow"]);return i!=null&&s(e,["slidingWindow"],dS(i)),e}function pS(t){const e={},n=l(t,["proactiveAudio"]);return n!=null&&s(e,["proactiveAudio"],n),e}function gS(t,e){const n={},i=l(t,["generationConfig"]);e!==void 0&&i!=null&&s(e,["setup","generationConfig"],i);const o=l(t,["responseModalities"]);e!==void 0&&o!=null&&s(e,["setup","generationConfig","responseModalities"],o);const a=l(t,["temperature"]);e!==void 0&&a!=null&&s(e,["setup","generationConfig","temperature"],a);const u=l(t,["topP"]);e!==void 0&&u!=null&&s(e,["setup","generationConfig","topP"],u);const r=l(t,["topK"]);e!==void 0&&r!=null&&s(e,["setup","generationConfig","topK"],r);const c=l(t,["maxOutputTokens"]);e!==void 0&&c!=null&&s(e,["setup","generationConfig","maxOutputTokens"],c);const f=l(t,["mediaResolution"]);e!==void 0&&f!=null&&s(e,["setup","generationConfig","mediaResolution"],f);const d=l(t,["seed"]);e!==void 0&&d!=null&&s(e,["setup","generationConfig","seed"],d);const m=l(t,["speechConfig"]);e!==void 0&&m!=null&&s(e,["setup","generationConfig","speechConfig"],XC(Er(m)));const p=l(t,["enableAffectiveDialog"]);e!==void 0&&p!=null&&s(e,["setup","generationConfig","enableAffectiveDialog"],p);const g=l(t,["systemInstruction"]);e!==void 0&&g!=null&&s(e,["setup","systemInstruction"],tS(we(g)));const T=l(t,["tools"]);if(e!==void 0&&T!=null){let A=wi(T);Array.isArray(A)&&(A=A.map(N=>uS(bi(N)))),s(e,["setup","tools"],A)}const S=l(t,["sessionResumption"]);e!==void 0&&S!=null&&s(e,["setup","sessionResumption"],rS(S));const _=l(t,["inputAudioTranscription"]);e!==void 0&&_!=null&&s(e,["setup","inputAudioTranscription"],jf());const y=l(t,["outputAudioTranscription"]);e!==void 0&&y!=null&&s(e,["setup","outputAudioTranscription"],jf());const h=l(t,["realtimeInputConfig"]);e!==void 0&&h!=null&&s(e,["setup","realtimeInputConfig"],fS(h));const v=l(t,["contextWindowCompression"]);e!==void 0&&v!=null&&s(e,["setup","contextWindowCompression"],mS(v));const C=l(t,["proactivity"]);return e!==void 0&&C!=null&&s(e,["setup","proactivity"],pS(C)),n}function hS(t,e){const n={},i=l(e,["model"]);i!=null&&s(n,["setup","model"],$(t,i));const o=l(e,["config"]);return o!=null&&s(n,["config"],gS(o,n)),n}function yS(){return{}}function vS(){return{}}function TS(t){const e={},n=l(t,["media"]);n!=null&&s(e,["mediaChunks"],Cg(n));const i=l(t,["audio"]);i!=null&&s(e,["audio"],Eg(i));const o=l(t,["audioStreamEnd"]);o!=null&&s(e,["audioStreamEnd"],o);const a=l(t,["video"]);a!=null&&s(e,["video"],Sg(a));const u=l(t,["text"]);return u!=null&&s(e,["text"],u),l(t,["activityStart"])!=null&&s(e,["activityStart"],yS()),l(t,["activityEnd"])!=null&&s(e,["activityEnd"],vS()),e}function Gg(t){const e={},n=l(t,["text"]);n!=null&&s(e,["text"],n);const i=l(t,["weight"]);return i!=null&&s(e,["weight"],i),e}function CS(t){const e={},n=l(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Gg(o))),s(e,["weightedPrompts"],i)}return e}function Pg(t){const e={},n=l(t,["temperature"]);n!=null&&s(e,["temperature"],n);const i=l(t,["topK"]);i!=null&&s(e,["topK"],i);const o=l(t,["seed"]);o!=null&&s(e,["seed"],o);const a=l(t,["guidance"]);a!=null&&s(e,["guidance"],a);const u=l(t,["bpm"]);u!=null&&s(e,["bpm"],u);const r=l(t,["density"]);r!=null&&s(e,["density"],r);const c=l(t,["brightness"]);c!=null&&s(e,["brightness"],c);const f=l(t,["scale"]);f!=null&&s(e,["scale"],f);const d=l(t,["muteBass"]);d!=null&&s(e,["muteBass"],d);const m=l(t,["muteDrums"]);m!=null&&s(e,["muteDrums"],m);const p=l(t,["onlyBassAndDrums"]);return p!=null&&s(e,["onlyBassAndDrums"],p),e}function SS(t){const e={},n=l(t,["musicGenerationConfig"]);return n!=null&&s(e,["musicGenerationConfig"],Pg(n)),e}function Bg(t){const e={},n=l(t,["model"]);return n!=null&&s(e,["model"],n),e}function Hg(t){const e={},n=l(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Gg(o))),s(e,["weightedPrompts"],i)}return e}function fu(t){const e={},n=l(t,["setup"]);n!=null&&s(e,["setup"],Bg(n));const i=l(t,["clientContent"]);i!=null&&s(e,["clientContent"],Hg(i));const o=l(t,["musicGenerationConfig"]);o!=null&&s(e,["musicGenerationConfig"],Pg(o));const a=l(t,["playbackControl"]);return a!=null&&s(e,["playbackControl"],a),e}function ES(t){const e={},n=l(t,["voiceName"]);return n!=null&&s(e,["voiceName"],n),e}function AS(t){const e={},n=l(t,["prebuiltVoiceConfig"]);return n!=null&&s(e,["prebuiltVoiceConfig"],ES(n)),e}function _S(t){const e={},n=l(t,["voiceConfig"]);if(n!=null&&s(e,["voiceConfig"],AS(n)),l(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=l(t,["languageCode"]);return i!=null&&s(e,["languageCode"],i),e}function xS(t){const e={},n=l(t,["fps"]);n!=null&&s(e,["fps"],n);const i=l(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const o=l(t,["startOffset"]);return o!=null&&s(e,["startOffset"],o),e}function MS(t){const e={},n=l(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=l(t,["data"]);i!=null&&s(e,["data"],i);const o=l(t,["mimeType"]);return o!=null&&s(e,["mimeType"],o),e}function RS(t){const e={},n=l(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=l(t,["fileUri"]);i!=null&&s(e,["fileUri"],i);const o=l(t,["mimeType"]);return o!=null&&s(e,["mimeType"],o),e}function NS(t){const e={},n=l(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],xS(n));const i=l(t,["thought"]);i!=null&&s(e,["thought"],i);const o=l(t,["inlineData"]);o!=null&&s(e,["inlineData"],MS(o));const a=l(t,["fileData"]);a!=null&&s(e,["fileData"],RS(a));const u=l(t,["thoughtSignature"]);u!=null&&s(e,["thoughtSignature"],u);const r=l(t,["codeExecutionResult"]);r!=null&&s(e,["codeExecutionResult"],r);const c=l(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=l(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=l(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=l(t,["text"]);return m!=null&&s(e,["text"],m),e}function DS(t){const e={},n=l(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>NS(a))),s(e,["parts"],o)}const i=l(t,["role"]);return i!=null&&s(e,["role"],i),e}function bS(t){const e={};if(l(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=l(t,["description"]);n!=null&&s(e,["description"],n);const i=l(t,["name"]);i!=null&&s(e,["name"],i);const o=l(t,["parameters"]);o!=null&&s(e,["parameters"],o);const a=l(t,["parametersJsonSchema"]);a!=null&&s(e,["parametersJsonSchema"],a);const u=l(t,["response"]);u!=null&&s(e,["response"],u);const r=l(t,["responseJsonSchema"]);return r!=null&&s(e,["responseJsonSchema"],r),e}function wS(t){const e={},n=l(t,["startTime"]);n!=null&&s(e,["startTime"],n);const i=l(t,["endTime"]);return i!=null&&s(e,["endTime"],i),e}function US(t){const e={},n=l(t,["timeRangeFilter"]);return n!=null&&s(e,["timeRangeFilter"],wS(n)),e}function IS(t){const e={},n=l(t,["mode"]);n!=null&&s(e,["mode"],n);const i=l(t,["dynamicThreshold"]);return i!=null&&s(e,["dynamicThreshold"],i),e}function qS(t){const e={},n=l(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],IS(n)),e}function LS(){return{}}function VS(t){const e={},n=l(t,["apiKeyString"]);return n!=null&&s(e,["apiKeyString"],n),e}function GS(t){const e={},n=l(t,["apiKeyConfig"]);n!=null&&s(e,["apiKeyConfig"],VS(n));const i=l(t,["authType"]);i!=null&&s(e,["authType"],i);const o=l(t,["googleServiceAccountConfig"]);o!=null&&s(e,["googleServiceAccountConfig"],o);const a=l(t,["httpBasicAuthConfig"]);a!=null&&s(e,["httpBasicAuthConfig"],a);const u=l(t,["oauthConfig"]);u!=null&&s(e,["oauthConfig"],u);const r=l(t,["oidcConfig"]);return r!=null&&s(e,["oidcConfig"],r),e}function PS(t){const e={},n=l(t,["authConfig"]);return n!=null&&s(e,["authConfig"],GS(n)),e}function BS(){return{}}function HS(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(p=>bS(p))),s(e,["functionDeclarations"],m)}const i=l(t,["retrieval"]);i!=null&&s(e,["retrieval"],i);const o=l(t,["googleSearch"]);o!=null&&s(e,["googleSearch"],US(o));const a=l(t,["googleSearchRetrieval"]);a!=null&&s(e,["googleSearchRetrieval"],qS(a)),l(t,["enterpriseWebSearch"])!=null&&s(e,["enterpriseWebSearch"],LS());const r=l(t,["googleMaps"]);r!=null&&s(e,["googleMaps"],PS(r)),l(t,["urlContext"])!=null&&s(e,["urlContext"],BS());const f=l(t,["codeExecution"]);f!=null&&s(e,["codeExecution"],f);const d=l(t,["computerUse"]);return d!=null&&s(e,["computerUse"],d),e}function zS(t){const e={},n=l(t,["handle"]);n!=null&&s(e,["handle"],n);const i=l(t,["transparent"]);return i!=null&&s(e,["transparent"],i),e}function ed(){return{}}function kS(t){const e={},n=l(t,["disabled"]);n!=null&&s(e,["disabled"],n);const i=l(t,["startOfSpeechSensitivity"]);i!=null&&s(e,["startOfSpeechSensitivity"],i);const o=l(t,["endOfSpeechSensitivity"]);o!=null&&s(e,["endOfSpeechSensitivity"],o);const a=l(t,["prefixPaddingMs"]);a!=null&&s(e,["prefixPaddingMs"],a);const u=l(t,["silenceDurationMs"]);return u!=null&&s(e,["silenceDurationMs"],u),e}function FS(t){const e={},n=l(t,["automaticActivityDetection"]);n!=null&&s(e,["automaticActivityDetection"],kS(n));const i=l(t,["activityHandling"]);i!=null&&s(e,["activityHandling"],i);const o=l(t,["turnCoverage"]);return o!=null&&s(e,["turnCoverage"],o),e}function OS(t){const e={},n=l(t,["targetTokens"]);return n!=null&&s(e,["targetTokens"],n),e}function YS(t){const e={},n=l(t,["triggerTokens"]);n!=null&&s(e,["triggerTokens"],n);const i=l(t,["slidingWindow"]);return i!=null&&s(e,["slidingWindow"],OS(i)),e}function JS(t){const e={},n=l(t,["proactiveAudio"]);return n!=null&&s(e,["proactiveAudio"],n),e}function QS(t,e){const n={},i=l(t,["generationConfig"]);e!==void 0&&i!=null&&s(e,["setup","generationConfig"],i);const o=l(t,["responseModalities"]);e!==void 0&&o!=null&&s(e,["setup","generationConfig","responseModalities"],o);const a=l(t,["temperature"]);e!==void 0&&a!=null&&s(e,["setup","generationConfig","temperature"],a);const u=l(t,["topP"]);e!==void 0&&u!=null&&s(e,["setup","generationConfig","topP"],u);const r=l(t,["topK"]);e!==void 0&&r!=null&&s(e,["setup","generationConfig","topK"],r);const c=l(t,["maxOutputTokens"]);e!==void 0&&c!=null&&s(e,["setup","generationConfig","maxOutputTokens"],c);const f=l(t,["mediaResolution"]);e!==void 0&&f!=null&&s(e,["setup","generationConfig","mediaResolution"],f);const d=l(t,["seed"]);e!==void 0&&d!=null&&s(e,["setup","generationConfig","seed"],d);const m=l(t,["speechConfig"]);e!==void 0&&m!=null&&s(e,["setup","generationConfig","speechConfig"],_S(Er(m)));const p=l(t,["enableAffectiveDialog"]);e!==void 0&&p!=null&&s(e,["setup","generationConfig","enableAffectiveDialog"],p);const g=l(t,["systemInstruction"]);e!==void 0&&g!=null&&s(e,["setup","systemInstruction"],DS(we(g)));const T=l(t,["tools"]);if(e!==void 0&&T!=null){let A=wi(T);Array.isArray(A)&&(A=A.map(N=>HS(bi(N)))),s(e,["setup","tools"],A)}const S=l(t,["sessionResumption"]);e!==void 0&&S!=null&&s(e,["setup","sessionResumption"],zS(S));const _=l(t,["inputAudioTranscription"]);e!==void 0&&_!=null&&s(e,["setup","inputAudioTranscription"],ed());const y=l(t,["outputAudioTranscription"]);e!==void 0&&y!=null&&s(e,["setup","outputAudioTranscription"],ed());const h=l(t,["realtimeInputConfig"]);e!==void 0&&h!=null&&s(e,["setup","realtimeInputConfig"],FS(h));const v=l(t,["contextWindowCompression"]);e!==void 0&&v!=null&&s(e,["setup","contextWindowCompression"],YS(v));const C=l(t,["proactivity"]);return e!==void 0&&C!=null&&s(e,["setup","proactivity"],JS(C)),n}function KS(t,e){const n={},i=l(e,["model"]);i!=null&&s(n,["setup","model"],$(t,i));const o=l(e,["config"]);return o!=null&&s(n,["config"],QS(o,n)),n}function $S(){return{}}function XS(){return{}}function ZS(t){const e={},n=l(t,["media"]);n!=null&&s(e,["mediaChunks"],Cg(n));const i=l(t,["audio"]);i!=null&&s(e,["audio"],Eg(i));const o=l(t,["audioStreamEnd"]);o!=null&&s(e,["audioStreamEnd"],o);const a=l(t,["video"]);a!=null&&s(e,["video"],Sg(a));const u=l(t,["text"]);return u!=null&&s(e,["text"],u),l(t,["activityStart"])!=null&&s(e,["activityStart"],$S()),l(t,["activityEnd"])!=null&&s(e,["activityEnd"],XS()),e}function WS(){return{}}function jS(t){const e={},n=l(t,["fps"]);n!=null&&s(e,["fps"],n);const i=l(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const o=l(t,["startOffset"]);return o!=null&&s(e,["startOffset"],o),e}function eE(t){const e={},n=l(t,["data"]);n!=null&&s(e,["data"],n);const i=l(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function tE(t){const e={},n=l(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const i=l(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function nE(t){const e={},n=l(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],jS(n));const i=l(t,["thought"]);i!=null&&s(e,["thought"],i);const o=l(t,["inlineData"]);o!=null&&s(e,["inlineData"],eE(o));const a=l(t,["fileData"]);a!=null&&s(e,["fileData"],tE(a));const u=l(t,["thoughtSignature"]);u!=null&&s(e,["thoughtSignature"],u);const r=l(t,["codeExecutionResult"]);r!=null&&s(e,["codeExecutionResult"],r);const c=l(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=l(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=l(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=l(t,["text"]);return m!=null&&s(e,["text"],m),e}function iE(t){const e={},n=l(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>nE(a))),s(e,["parts"],o)}const i=l(t,["role"]);return i!=null&&s(e,["role"],i),e}function td(t){const e={},n=l(t,["text"]);n!=null&&s(e,["text"],n);const i=l(t,["finished"]);return i!=null&&s(e,["finished"],i),e}function oE(t){const e={},n=l(t,["retrievedUrl"]);n!=null&&s(e,["retrievedUrl"],n);const i=l(t,["urlRetrievalStatus"]);return i!=null&&s(e,["urlRetrievalStatus"],i),e}function lE(t){const e={},n=l(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>oE(o))),s(e,["urlMetadata"],i)}return e}function aE(t){const e={},n=l(t,["modelTurn"]);n!=null&&s(e,["modelTurn"],iE(n));const i=l(t,["turnComplete"]);i!=null&&s(e,["turnComplete"],i);const o=l(t,["interrupted"]);o!=null&&s(e,["interrupted"],o);const a=l(t,["groundingMetadata"]);a!=null&&s(e,["groundingMetadata"],a);const u=l(t,["generationComplete"]);u!=null&&s(e,["generationComplete"],u);const r=l(t,["inputTranscription"]);r!=null&&s(e,["inputTranscription"],td(r));const c=l(t,["outputTranscription"]);c!=null&&s(e,["outputTranscription"],td(c));const f=l(t,["urlContextMetadata"]);return f!=null&&s(e,["urlContextMetadata"],lE(f)),e}function sE(t){const e={},n=l(t,["id"]);n!=null&&s(e,["id"],n);const i=l(t,["args"]);i!=null&&s(e,["args"],i);const o=l(t,["name"]);return o!=null&&s(e,["name"],o),e}function uE(t){const e={},n=l(t,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>sE(o))),s(e,["functionCalls"],i)}return e}function rE(t){const e={},n=l(t,["ids"]);return n!=null&&s(e,["ids"],n),e}function il(t){const e={},n=l(t,["modality"]);n!=null&&s(e,["modality"],n);const i=l(t,["tokenCount"]);return i!=null&&s(e,["tokenCount"],i),e}function cE(t){const e={},n=l(t,["promptTokenCount"]);n!=null&&s(e,["promptTokenCount"],n);const i=l(t,["cachedContentTokenCount"]);i!=null&&s(e,["cachedContentTokenCount"],i);const o=l(t,["responseTokenCount"]);o!=null&&s(e,["responseTokenCount"],o);const a=l(t,["toolUsePromptTokenCount"]);a!=null&&s(e,["toolUsePromptTokenCount"],a);const u=l(t,["thoughtsTokenCount"]);u!=null&&s(e,["thoughtsTokenCount"],u);const r=l(t,["totalTokenCount"]);r!=null&&s(e,["totalTokenCount"],r);const c=l(t,["promptTokensDetails"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(g=>il(g))),s(e,["promptTokensDetails"],p)}const f=l(t,["cacheTokensDetails"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>il(g))),s(e,["cacheTokensDetails"],p)}const d=l(t,["responseTokensDetails"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(g=>il(g))),s(e,["responseTokensDetails"],p)}const m=l(t,["toolUsePromptTokensDetails"]);if(m!=null){let p=m;Array.isArray(p)&&(p=p.map(g=>il(g))),s(e,["toolUsePromptTokensDetails"],p)}return e}function fE(t){const e={},n=l(t,["timeLeft"]);return n!=null&&s(e,["timeLeft"],n),e}function dE(t){const e={},n=l(t,["newHandle"]);n!=null&&s(e,["newHandle"],n);const i=l(t,["resumable"]);i!=null&&s(e,["resumable"],i);const o=l(t,["lastConsumedClientMessageIndex"]);return o!=null&&s(e,["lastConsumedClientMessageIndex"],o),e}function mE(t){const e={};l(t,["setupComplete"])!=null&&s(e,["setupComplete"],WS());const i=l(t,["serverContent"]);i!=null&&s(e,["serverContent"],aE(i));const o=l(t,["toolCall"]);o!=null&&s(e,["toolCall"],uE(o));const a=l(t,["toolCallCancellation"]);a!=null&&s(e,["toolCallCancellation"],rE(a));const u=l(t,["usageMetadata"]);u!=null&&s(e,["usageMetadata"],cE(u));const r=l(t,["goAway"]);r!=null&&s(e,["goAway"],fE(r));const c=l(t,["sessionResumptionUpdate"]);return c!=null&&s(e,["sessionResumptionUpdate"],dE(c)),e}function pE(){return{}}function gE(t){const e={},n=l(t,["text"]);n!=null&&s(e,["text"],n);const i=l(t,["weight"]);return i!=null&&s(e,["weight"],i),e}function hE(t){const e={},n=l(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>gE(o))),s(e,["weightedPrompts"],i)}return e}function yE(t){const e={},n=l(t,["temperature"]);n!=null&&s(e,["temperature"],n);const i=l(t,["topK"]);i!=null&&s(e,["topK"],i);const o=l(t,["seed"]);o!=null&&s(e,["seed"],o);const a=l(t,["guidance"]);a!=null&&s(e,["guidance"],a);const u=l(t,["bpm"]);u!=null&&s(e,["bpm"],u);const r=l(t,["density"]);r!=null&&s(e,["density"],r);const c=l(t,["brightness"]);c!=null&&s(e,["brightness"],c);const f=l(t,["scale"]);f!=null&&s(e,["scale"],f);const d=l(t,["muteBass"]);d!=null&&s(e,["muteBass"],d);const m=l(t,["muteDrums"]);m!=null&&s(e,["muteDrums"],m);const p=l(t,["onlyBassAndDrums"]);return p!=null&&s(e,["onlyBassAndDrums"],p),e}function vE(t){const e={},n=l(t,["clientContent"]);n!=null&&s(e,["clientContent"],hE(n));const i=l(t,["musicGenerationConfig"]);return i!=null&&s(e,["musicGenerationConfig"],yE(i)),e}function TE(t){const e={},n=l(t,["data"]);n!=null&&s(e,["data"],n);const i=l(t,["mimeType"]);i!=null&&s(e,["mimeType"],i);const o=l(t,["sourceMetadata"]);return o!=null&&s(e,["sourceMetadata"],vE(o)),e}function CE(t){const e={},n=l(t,["audioChunks"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>TE(o))),s(e,["audioChunks"],i)}return e}function SE(t){const e={},n=l(t,["text"]);n!=null&&s(e,["text"],n);const i=l(t,["filteredReason"]);return i!=null&&s(e,["filteredReason"],i),e}function EE(t){const e={};l(t,["setupComplete"])!=null&&s(e,["setupComplete"],pE());const i=l(t,["serverContent"]);i!=null&&s(e,["serverContent"],CE(i));const o=l(t,["filteredPrompt"]);return o!=null&&s(e,["filteredPrompt"],SE(o)),e}function AE(t){const e={},n=l(t,["sessionId"]);return n!=null&&s(e,["sessionId"],n),e}function _E(t){const e={},n=l(t,["fps"]);n!=null&&s(e,["fps"],n);const i=l(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const o=l(t,["startOffset"]);return o!=null&&s(e,["startOffset"],o),e}function xE(t){const e={},n=l(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=l(t,["data"]);i!=null&&s(e,["data"],i);const o=l(t,["mimeType"]);return o!=null&&s(e,["mimeType"],o),e}function ME(t){const e={},n=l(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=l(t,["fileUri"]);i!=null&&s(e,["fileUri"],i);const o=l(t,["mimeType"]);return o!=null&&s(e,["mimeType"],o),e}function RE(t){const e={},n=l(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],_E(n));const i=l(t,["thought"]);i!=null&&s(e,["thought"],i);const o=l(t,["inlineData"]);o!=null&&s(e,["inlineData"],xE(o));const a=l(t,["fileData"]);a!=null&&s(e,["fileData"],ME(a));const u=l(t,["thoughtSignature"]);u!=null&&s(e,["thoughtSignature"],u);const r=l(t,["codeExecutionResult"]);r!=null&&s(e,["codeExecutionResult"],r);const c=l(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=l(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=l(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=l(t,["text"]);return m!=null&&s(e,["text"],m),e}function NE(t){const e={},n=l(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>RE(a))),s(e,["parts"],o)}const i=l(t,["role"]);return i!=null&&s(e,["role"],i),e}function nd(t){const e={},n=l(t,["text"]);n!=null&&s(e,["text"],n);const i=l(t,["finished"]);return i!=null&&s(e,["finished"],i),e}function DE(t){const e={},n=l(t,["modelTurn"]);n!=null&&s(e,["modelTurn"],NE(n));const i=l(t,["turnComplete"]);i!=null&&s(e,["turnComplete"],i);const o=l(t,["interrupted"]);o!=null&&s(e,["interrupted"],o);const a=l(t,["groundingMetadata"]);a!=null&&s(e,["groundingMetadata"],a);const u=l(t,["generationComplete"]);u!=null&&s(e,["generationComplete"],u);const r=l(t,["inputTranscription"]);r!=null&&s(e,["inputTranscription"],nd(r));const c=l(t,["outputTranscription"]);return c!=null&&s(e,["outputTranscription"],nd(c)),e}function bE(t){const e={},n=l(t,["args"]);n!=null&&s(e,["args"],n);const i=l(t,["name"]);return i!=null&&s(e,["name"],i),e}function wE(t){const e={},n=l(t,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>bE(o))),s(e,["functionCalls"],i)}return e}function UE(t){const e={},n=l(t,["ids"]);return n!=null&&s(e,["ids"],n),e}function ol(t){const e={},n=l(t,["modality"]);n!=null&&s(e,["modality"],n);const i=l(t,["tokenCount"]);return i!=null&&s(e,["tokenCount"],i),e}function IE(t){const e={},n=l(t,["promptTokenCount"]);n!=null&&s(e,["promptTokenCount"],n);const i=l(t,["cachedContentTokenCount"]);i!=null&&s(e,["cachedContentTokenCount"],i);const o=l(t,["candidatesTokenCount"]);o!=null&&s(e,["responseTokenCount"],o);const a=l(t,["toolUsePromptTokenCount"]);a!=null&&s(e,["toolUsePromptTokenCount"],a);const u=l(t,["thoughtsTokenCount"]);u!=null&&s(e,["thoughtsTokenCount"],u);const r=l(t,["totalTokenCount"]);r!=null&&s(e,["totalTokenCount"],r);const c=l(t,["promptTokensDetails"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(T=>ol(T))),s(e,["promptTokensDetails"],g)}const f=l(t,["cacheTokensDetails"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(T=>ol(T))),s(e,["cacheTokensDetails"],g)}const d=l(t,["candidatesTokensDetails"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(T=>ol(T))),s(e,["responseTokensDetails"],g)}const m=l(t,["toolUsePromptTokensDetails"]);if(m!=null){let g=m;Array.isArray(g)&&(g=g.map(T=>ol(T))),s(e,["toolUsePromptTokensDetails"],g)}const p=l(t,["trafficType"]);return p!=null&&s(e,["trafficType"],p),e}function qE(t){const e={},n=l(t,["timeLeft"]);return n!=null&&s(e,["timeLeft"],n),e}function LE(t){const e={},n=l(t,["newHandle"]);n!=null&&s(e,["newHandle"],n);const i=l(t,["resumable"]);i!=null&&s(e,["resumable"],i);const o=l(t,["lastConsumedClientMessageIndex"]);return o!=null&&s(e,["lastConsumedClientMessageIndex"],o),e}function VE(t){const e={},n=l(t,["setupComplete"]);n!=null&&s(e,["setupComplete"],AE(n));const i=l(t,["serverContent"]);i!=null&&s(e,["serverContent"],DE(i));const o=l(t,["toolCall"]);o!=null&&s(e,["toolCall"],wE(o));const a=l(t,["toolCallCancellation"]);a!=null&&s(e,["toolCallCancellation"],UE(a));const u=l(t,["usageMetadata"]);u!=null&&s(e,["usageMetadata"],IE(u));const r=l(t,["goAway"]);r!=null&&s(e,["goAway"],qE(r));const c=l(t,["sessionResumptionUpdate"]);return c!=null&&s(e,["sessionResumptionUpdate"],LE(c)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GE(t){const e={},n=l(t,["fps"]);n!=null&&s(e,["fps"],n);const i=l(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const o=l(t,["startOffset"]);return o!=null&&s(e,["startOffset"],o),e}function PE(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["data"]);n!=null&&s(e,["data"],n);const i=l(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function BE(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const i=l(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function HE(t){const e={},n=l(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],GE(n));const i=l(t,["thought"]);i!=null&&s(e,["thought"],i);const o=l(t,["inlineData"]);o!=null&&s(e,["inlineData"],PE(o));const a=l(t,["fileData"]);a!=null&&s(e,["fileData"],BE(a));const u=l(t,["thoughtSignature"]);u!=null&&s(e,["thoughtSignature"],u);const r=l(t,["codeExecutionResult"]);r!=null&&s(e,["codeExecutionResult"],r);const c=l(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=l(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=l(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=l(t,["text"]);return m!=null&&s(e,["text"],m),e}function Ca(t){const e={},n=l(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>HE(a))),s(e,["parts"],o)}const i=l(t,["role"]);return i!=null&&s(e,["role"],i),e}function zE(t){const e={},n=l(t,["anyOf"]);n!=null&&s(e,["anyOf"],n);const i=l(t,["default"]);i!=null&&s(e,["default"],i);const o=l(t,["description"]);o!=null&&s(e,["description"],o);const a=l(t,["enum"]);a!=null&&s(e,["enum"],a);const u=l(t,["example"]);u!=null&&s(e,["example"],u);const r=l(t,["format"]);r!=null&&s(e,["format"],r);const c=l(t,["items"]);c!=null&&s(e,["items"],c);const f=l(t,["maxItems"]);f!=null&&s(e,["maxItems"],f);const d=l(t,["maxLength"]);d!=null&&s(e,["maxLength"],d);const m=l(t,["maxProperties"]);m!=null&&s(e,["maxProperties"],m);const p=l(t,["maximum"]);p!=null&&s(e,["maximum"],p);const g=l(t,["minItems"]);g!=null&&s(e,["minItems"],g);const T=l(t,["minLength"]);T!=null&&s(e,["minLength"],T);const S=l(t,["minProperties"]);S!=null&&s(e,["minProperties"],S);const _=l(t,["minimum"]);_!=null&&s(e,["minimum"],_);const y=l(t,["nullable"]);y!=null&&s(e,["nullable"],y);const h=l(t,["pattern"]);h!=null&&s(e,["pattern"],h);const v=l(t,["properties"]);v!=null&&s(e,["properties"],v);const C=l(t,["propertyOrdering"]);C!=null&&s(e,["propertyOrdering"],C);const A=l(t,["required"]);A!=null&&s(e,["required"],A);const N=l(t,["title"]);N!=null&&s(e,["title"],N);const M=l(t,["type"]);return M!=null&&s(e,["type"],M),e}function kE(t){const e={};if(l(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=l(t,["category"]);n!=null&&s(e,["category"],n);const i=l(t,["threshold"]);return i!=null&&s(e,["threshold"],i),e}function FE(t){const e={},n=l(t,["behavior"]);n!=null&&s(e,["behavior"],n);const i=l(t,["description"]);i!=null&&s(e,["description"],i);const o=l(t,["name"]);o!=null&&s(e,["name"],o);const a=l(t,["parameters"]);a!=null&&s(e,["parameters"],a);const u=l(t,["parametersJsonSchema"]);u!=null&&s(e,["parametersJsonSchema"],u);const r=l(t,["response"]);r!=null&&s(e,["response"],r);const c=l(t,["responseJsonSchema"]);return c!=null&&s(e,["responseJsonSchema"],c),e}function OE(t){const e={},n=l(t,["startTime"]);n!=null&&s(e,["startTime"],n);const i=l(t,["endTime"]);return i!=null&&s(e,["endTime"],i),e}function YE(t){const e={},n=l(t,["timeRangeFilter"]);return n!=null&&s(e,["timeRangeFilter"],OE(n)),e}function JE(t){const e={},n=l(t,["mode"]);n!=null&&s(e,["mode"],n);const i=l(t,["dynamicThreshold"]);return i!=null&&s(e,["dynamicThreshold"],i),e}function QE(t){const e={},n=l(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],JE(n)),e}function KE(){return{}}function $E(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>FE(f))),s(e,["functionDeclarations"],c)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=l(t,["googleSearch"]);i!=null&&s(e,["googleSearch"],YE(i));const o=l(t,["googleSearchRetrieval"]);if(o!=null&&s(e,["googleSearchRetrieval"],QE(o)),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(t,["urlContext"])!=null&&s(e,["urlContext"],KE());const u=l(t,["codeExecution"]);u!=null&&s(e,["codeExecution"],u);const r=l(t,["computerUse"]);return r!=null&&s(e,["computerUse"],r),e}function XE(t){const e={},n=l(t,["mode"]);n!=null&&s(e,["mode"],n);const i=l(t,["allowedFunctionNames"]);return i!=null&&s(e,["allowedFunctionNames"],i),e}function ZE(t){const e={},n=l(t,["latitude"]);n!=null&&s(e,["latitude"],n);const i=l(t,["longitude"]);return i!=null&&s(e,["longitude"],i),e}function WE(t){const e={},n=l(t,["latLng"]);n!=null&&s(e,["latLng"],ZE(n));const i=l(t,["languageCode"]);return i!=null&&s(e,["languageCode"],i),e}function jE(t){const e={},n=l(t,["functionCallingConfig"]);n!=null&&s(e,["functionCallingConfig"],XE(n));const i=l(t,["retrievalConfig"]);return i!=null&&s(e,["retrievalConfig"],WE(i)),e}function eA(t){const e={},n=l(t,["voiceName"]);return n!=null&&s(e,["voiceName"],n),e}function zg(t){const e={},n=l(t,["prebuiltVoiceConfig"]);return n!=null&&s(e,["prebuiltVoiceConfig"],eA(n)),e}function tA(t){const e={},n=l(t,["speaker"]);n!=null&&s(e,["speaker"],n);const i=l(t,["voiceConfig"]);return i!=null&&s(e,["voiceConfig"],zg(i)),e}function nA(t){const e={},n=l(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>tA(o))),s(e,["speakerVoiceConfigs"],i)}return e}function iA(t){const e={},n=l(t,["voiceConfig"]);n!=null&&s(e,["voiceConfig"],zg(n));const i=l(t,["multiSpeakerVoiceConfig"]);i!=null&&s(e,["multiSpeakerVoiceConfig"],nA(i));const o=l(t,["languageCode"]);return o!=null&&s(e,["languageCode"],o),e}function oA(t){const e={},n=l(t,["includeThoughts"]);n!=null&&s(e,["includeThoughts"],n);const i=l(t,["thinkingBudget"]);return i!=null&&s(e,["thinkingBudget"],i),e}function lA(t,e,n){const i={},o=l(e,["systemInstruction"]);n!==void 0&&o!=null&&s(n,["systemInstruction"],Ca(we(o)));const a=l(e,["temperature"]);a!=null&&s(i,["temperature"],a);const u=l(e,["topP"]);u!=null&&s(i,["topP"],u);const r=l(e,["topK"]);r!=null&&s(i,["topK"],r);const c=l(e,["candidateCount"]);c!=null&&s(i,["candidateCount"],c);const f=l(e,["maxOutputTokens"]);f!=null&&s(i,["maxOutputTokens"],f);const d=l(e,["stopSequences"]);d!=null&&s(i,["stopSequences"],d);const m=l(e,["responseLogprobs"]);m!=null&&s(i,["responseLogprobs"],m);const p=l(e,["logprobs"]);p!=null&&s(i,["logprobs"],p);const g=l(e,["presencePenalty"]);g!=null&&s(i,["presencePenalty"],g);const T=l(e,["frequencyPenalty"]);T!=null&&s(i,["frequencyPenalty"],T);const S=l(e,["seed"]);S!=null&&s(i,["seed"],S);const _=l(e,["responseMimeType"]);_!=null&&s(i,["responseMimeType"],_);const y=l(e,["responseSchema"]);y!=null&&s(i,["responseSchema"],zE(Cr(y)));const h=l(e,["responseJsonSchema"]);if(h!=null&&s(i,["responseJsonSchema"],h),l(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const v=l(e,["safetySettings"]);if(n!==void 0&&v!=null){let L=v;Array.isArray(L)&&(L=L.map(fe=>kE(fe))),s(n,["safetySettings"],L)}const C=l(e,["tools"]);if(n!==void 0&&C!=null){let L=wi(C);Array.isArray(L)&&(L=L.map(fe=>$E(bi(fe)))),s(n,["tools"],L)}const A=l(e,["toolConfig"]);if(n!==void 0&&A!=null&&s(n,["toolConfig"],jE(A)),l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const N=l(e,["cachedContent"]);n!==void 0&&N!=null&&s(n,["cachedContent"],qt(t,N));const M=l(e,["responseModalities"]);M!=null&&s(i,["responseModalities"],M);const R=l(e,["mediaResolution"]);R!=null&&s(i,["mediaResolution"],R);const D=l(e,["speechConfig"]);if(D!=null&&s(i,["speechConfig"],iA(Sr(D))),l(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const w=l(e,["thinkingConfig"]);return w!=null&&s(i,["thinkingConfig"],oA(w)),i}function id(t,e){const n={},i=l(e,["model"]);i!=null&&s(n,["_url","model"],$(t,i));const o=l(e,["contents"]);if(o!=null){let u=it(o);Array.isArray(u)&&(u=u.map(r=>Ca(r))),s(n,["contents"],u)}const a=l(e,["config"]);return a!=null&&s(n,["generationConfig"],lA(t,a,n)),n}function aA(t,e){const n={},i=l(t,["taskType"]);e!==void 0&&i!=null&&s(e,["requests[]","taskType"],i);const o=l(t,["title"]);e!==void 0&&o!=null&&s(e,["requests[]","title"],o);const a=l(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&s(e,["requests[]","outputDimensionality"],a),l(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(l(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function sA(t,e){const n={},i=l(e,["model"]);i!=null&&s(n,["_url","model"],$(t,i));const o=l(e,["contents"]);o!=null&&s(n,["requests[]","content"],_g(t,o));const a=l(e,["config"]);a!=null&&s(n,["config"],aA(a,n));const u=l(e,["model"]);return u!==void 0&&s(n,["requests[]","model"],$(t,u)),n}function uA(t,e){const n={};if(l(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=l(t,["numberOfImages"]);e!==void 0&&i!=null&&s(e,["parameters","sampleCount"],i);const o=l(t,["aspectRatio"]);e!==void 0&&o!=null&&s(e,["parameters","aspectRatio"],o);const a=l(t,["guidanceScale"]);if(e!==void 0&&a!=null&&s(e,["parameters","guidanceScale"],a),l(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=l(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&s(e,["parameters","safetySetting"],u);const r=l(t,["personGeneration"]);e!==void 0&&r!=null&&s(e,["parameters","personGeneration"],r);const c=l(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&s(e,["parameters","includeSafetyAttributes"],c);const f=l(t,["includeRaiReason"]);e!==void 0&&f!=null&&s(e,["parameters","includeRaiReason"],f);const d=l(t,["language"]);e!==void 0&&d!=null&&s(e,["parameters","language"],d);const m=l(t,["outputMimeType"]);e!==void 0&&m!=null&&s(e,["parameters","outputOptions","mimeType"],m);const p=l(t,["outputCompressionQuality"]);if(e!==void 0&&p!=null&&s(e,["parameters","outputOptions","compressionQuality"],p),l(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(l(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function rA(t,e){const n={},i=l(e,["model"]);i!=null&&s(n,["_url","model"],$(t,i));const o=l(e,["prompt"]);o!=null&&s(n,["instances[0]","prompt"],o);const a=l(e,["config"]);return a!=null&&s(n,["config"],uA(a,n)),n}function cA(t,e){const n={},i=l(e,["model"]);i!=null&&s(n,["_url","name"],$(t,i));const o=l(e,["config"]);return o!=null&&s(n,["config"],o),n}function fA(t,e,n){const i={},o=l(e,["pageSize"]);n!==void 0&&o!=null&&s(n,["_query","pageSize"],o);const a=l(e,["pageToken"]);n!==void 0&&a!=null&&s(n,["_query","pageToken"],a);const u=l(e,["filter"]);n!==void 0&&u!=null&&s(n,["_query","filter"],u);const r=l(e,["queryBase"]);return n!==void 0&&r!=null&&s(n,["_url","models_url"],Rg(t,r)),i}function dA(t,e){const n={},i=l(e,["config"]);return i!=null&&s(n,["config"],fA(t,i,n)),n}function mA(t,e){const n={},i=l(t,["displayName"]);e!==void 0&&i!=null&&s(e,["displayName"],i);const o=l(t,["description"]);e!==void 0&&o!=null&&s(e,["description"],o);const a=l(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&s(e,["defaultCheckpointId"],a),n}function pA(t,e){const n={},i=l(e,["model"]);i!=null&&s(n,["_url","name"],$(t,i));const o=l(e,["config"]);return o!=null&&s(n,["config"],mA(o,n)),n}function gA(t,e){const n={},i=l(e,["model"]);i!=null&&s(n,["_url","name"],$(t,i));const o=l(e,["config"]);return o!=null&&s(n,["config"],o),n}function hA(t){const e={};if(l(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(l(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(l(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function yA(t,e){const n={},i=l(e,["model"]);i!=null&&s(n,["_url","model"],$(t,i));const o=l(e,["contents"]);if(o!=null){let u=it(o);Array.isArray(u)&&(u=u.map(r=>Ca(r))),s(n,["contents"],u)}const a=l(e,["config"]);return a!=null&&s(n,["config"],hA(a)),n}function vA(t){const e={};if(l(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=l(t,["imageBytes"]);n!=null&&s(e,["bytesBase64Encoded"],Lt(n));const i=l(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function TA(t,e){const n={},i=l(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&s(e,["parameters","sampleCount"],i),l(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=l(t,["durationSeconds"]);if(e!==void 0&&o!=null&&s(e,["parameters","durationSeconds"],o),l(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=l(t,["aspectRatio"]);if(e!==void 0&&a!=null&&s(e,["parameters","aspectRatio"],a),l(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const u=l(t,["personGeneration"]);if(e!==void 0&&u!=null&&s(e,["parameters","personGeneration"],u),l(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const r=l(t,["negativePrompt"]);e!==void 0&&r!=null&&s(e,["parameters","negativePrompt"],r);const c=l(t,["enhancePrompt"]);if(e!==void 0&&c!=null&&s(e,["parameters","enhancePrompt"],c),l(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(l(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(l(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function CA(t,e){const n={},i=l(e,["model"]);i!=null&&s(n,["_url","model"],$(t,i));const o=l(e,["prompt"]);o!=null&&s(n,["instances[0]","prompt"],o);const a=l(e,["image"]);if(a!=null&&s(n,["instances[0]","image"],vA(a)),l(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const u=l(e,["config"]);return u!=null&&s(n,["config"],TA(u,n)),n}function SA(t){const e={},n=l(t,["fps"]);n!=null&&s(e,["fps"],n);const i=l(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const o=l(t,["startOffset"]);return o!=null&&s(e,["startOffset"],o),e}function EA(t){const e={},n=l(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=l(t,["data"]);i!=null&&s(e,["data"],i);const o=l(t,["mimeType"]);return o!=null&&s(e,["mimeType"],o),e}function AA(t){const e={},n=l(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=l(t,["fileUri"]);i!=null&&s(e,["fileUri"],i);const o=l(t,["mimeType"]);return o!=null&&s(e,["mimeType"],o),e}function _A(t){const e={},n=l(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],SA(n));const i=l(t,["thought"]);i!=null&&s(e,["thought"],i);const o=l(t,["inlineData"]);o!=null&&s(e,["inlineData"],EA(o));const a=l(t,["fileData"]);a!=null&&s(e,["fileData"],AA(a));const u=l(t,["thoughtSignature"]);u!=null&&s(e,["thoughtSignature"],u);const r=l(t,["codeExecutionResult"]);r!=null&&s(e,["codeExecutionResult"],r);const c=l(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=l(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=l(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=l(t,["text"]);return m!=null&&s(e,["text"],m),e}function Ii(t){const e={},n=l(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>_A(a))),s(e,["parts"],o)}const i=l(t,["role"]);return i!=null&&s(e,["role"],i),e}function xA(t){const e={},n=l(t,["anyOf"]);n!=null&&s(e,["anyOf"],n);const i=l(t,["default"]);i!=null&&s(e,["default"],i);const o=l(t,["description"]);o!=null&&s(e,["description"],o);const a=l(t,["enum"]);a!=null&&s(e,["enum"],a);const u=l(t,["example"]);u!=null&&s(e,["example"],u);const r=l(t,["format"]);r!=null&&s(e,["format"],r);const c=l(t,["items"]);c!=null&&s(e,["items"],c);const f=l(t,["maxItems"]);f!=null&&s(e,["maxItems"],f);const d=l(t,["maxLength"]);d!=null&&s(e,["maxLength"],d);const m=l(t,["maxProperties"]);m!=null&&s(e,["maxProperties"],m);const p=l(t,["maximum"]);p!=null&&s(e,["maximum"],p);const g=l(t,["minItems"]);g!=null&&s(e,["minItems"],g);const T=l(t,["minLength"]);T!=null&&s(e,["minLength"],T);const S=l(t,["minProperties"]);S!=null&&s(e,["minProperties"],S);const _=l(t,["minimum"]);_!=null&&s(e,["minimum"],_);const y=l(t,["nullable"]);y!=null&&s(e,["nullable"],y);const h=l(t,["pattern"]);h!=null&&s(e,["pattern"],h);const v=l(t,["properties"]);v!=null&&s(e,["properties"],v);const C=l(t,["propertyOrdering"]);C!=null&&s(e,["propertyOrdering"],C);const A=l(t,["required"]);A!=null&&s(e,["required"],A);const N=l(t,["title"]);N!=null&&s(e,["title"],N);const M=l(t,["type"]);return M!=null&&s(e,["type"],M),e}function MA(t){const e={},n=l(t,["featureSelectionPreference"]);return n!=null&&s(e,["featureSelectionPreference"],n),e}function RA(t){const e={},n=l(t,["method"]);n!=null&&s(e,["method"],n);const i=l(t,["category"]);i!=null&&s(e,["category"],i);const o=l(t,["threshold"]);return o!=null&&s(e,["threshold"],o),e}function NA(t){const e={};if(l(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=l(t,["description"]);n!=null&&s(e,["description"],n);const i=l(t,["name"]);i!=null&&s(e,["name"],i);const o=l(t,["parameters"]);o!=null&&s(e,["parameters"],o);const a=l(t,["parametersJsonSchema"]);a!=null&&s(e,["parametersJsonSchema"],a);const u=l(t,["response"]);u!=null&&s(e,["response"],u);const r=l(t,["responseJsonSchema"]);return r!=null&&s(e,["responseJsonSchema"],r),e}function DA(t){const e={},n=l(t,["startTime"]);n!=null&&s(e,["startTime"],n);const i=l(t,["endTime"]);return i!=null&&s(e,["endTime"],i),e}function bA(t){const e={},n=l(t,["timeRangeFilter"]);return n!=null&&s(e,["timeRangeFilter"],DA(n)),e}function wA(t){const e={},n=l(t,["mode"]);n!=null&&s(e,["mode"],n);const i=l(t,["dynamicThreshold"]);return i!=null&&s(e,["dynamicThreshold"],i),e}function UA(t){const e={},n=l(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],wA(n)),e}function IA(){return{}}function qA(t){const e={},n=l(t,["apiKeyString"]);return n!=null&&s(e,["apiKeyString"],n),e}function LA(t){const e={},n=l(t,["apiKeyConfig"]);n!=null&&s(e,["apiKeyConfig"],qA(n));const i=l(t,["authType"]);i!=null&&s(e,["authType"],i);const o=l(t,["googleServiceAccountConfig"]);o!=null&&s(e,["googleServiceAccountConfig"],o);const a=l(t,["httpBasicAuthConfig"]);a!=null&&s(e,["httpBasicAuthConfig"],a);const u=l(t,["oauthConfig"]);u!=null&&s(e,["oauthConfig"],u);const r=l(t,["oidcConfig"]);return r!=null&&s(e,["oidcConfig"],r),e}function VA(t){const e={},n=l(t,["authConfig"]);return n!=null&&s(e,["authConfig"],LA(n)),e}function GA(){return{}}function kg(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(p=>NA(p))),s(e,["functionDeclarations"],m)}const i=l(t,["retrieval"]);i!=null&&s(e,["retrieval"],i);const o=l(t,["googleSearch"]);o!=null&&s(e,["googleSearch"],bA(o));const a=l(t,["googleSearchRetrieval"]);a!=null&&s(e,["googleSearchRetrieval"],UA(a)),l(t,["enterpriseWebSearch"])!=null&&s(e,["enterpriseWebSearch"],IA());const r=l(t,["googleMaps"]);r!=null&&s(e,["googleMaps"],VA(r)),l(t,["urlContext"])!=null&&s(e,["urlContext"],GA());const f=l(t,["codeExecution"]);f!=null&&s(e,["codeExecution"],f);const d=l(t,["computerUse"]);return d!=null&&s(e,["computerUse"],d),e}function PA(t){const e={},n=l(t,["mode"]);n!=null&&s(e,["mode"],n);const i=l(t,["allowedFunctionNames"]);return i!=null&&s(e,["allowedFunctionNames"],i),e}function BA(t){const e={},n=l(t,["latitude"]);n!=null&&s(e,["latitude"],n);const i=l(t,["longitude"]);return i!=null&&s(e,["longitude"],i),e}function HA(t){const e={},n=l(t,["latLng"]);n!=null&&s(e,["latLng"],BA(n));const i=l(t,["languageCode"]);return i!=null&&s(e,["languageCode"],i),e}function zA(t){const e={},n=l(t,["functionCallingConfig"]);n!=null&&s(e,["functionCallingConfig"],PA(n));const i=l(t,["retrievalConfig"]);return i!=null&&s(e,["retrievalConfig"],HA(i)),e}function kA(t){const e={},n=l(t,["voiceName"]);return n!=null&&s(e,["voiceName"],n),e}function FA(t){const e={},n=l(t,["prebuiltVoiceConfig"]);return n!=null&&s(e,["prebuiltVoiceConfig"],kA(n)),e}function OA(t){const e={},n=l(t,["voiceConfig"]);if(n!=null&&s(e,["voiceConfig"],FA(n)),l(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=l(t,["languageCode"]);return i!=null&&s(e,["languageCode"],i),e}function YA(t){const e={},n=l(t,["includeThoughts"]);n!=null&&s(e,["includeThoughts"],n);const i=l(t,["thinkingBudget"]);return i!=null&&s(e,["thinkingBudget"],i),e}function JA(t,e,n){const i={},o=l(e,["systemInstruction"]);n!==void 0&&o!=null&&s(n,["systemInstruction"],Ii(we(o)));const a=l(e,["temperature"]);a!=null&&s(i,["temperature"],a);const u=l(e,["topP"]);u!=null&&s(i,["topP"],u);const r=l(e,["topK"]);r!=null&&s(i,["topK"],r);const c=l(e,["candidateCount"]);c!=null&&s(i,["candidateCount"],c);const f=l(e,["maxOutputTokens"]);f!=null&&s(i,["maxOutputTokens"],f);const d=l(e,["stopSequences"]);d!=null&&s(i,["stopSequences"],d);const m=l(e,["responseLogprobs"]);m!=null&&s(i,["responseLogprobs"],m);const p=l(e,["logprobs"]);p!=null&&s(i,["logprobs"],p);const g=l(e,["presencePenalty"]);g!=null&&s(i,["presencePenalty"],g);const T=l(e,["frequencyPenalty"]);T!=null&&s(i,["frequencyPenalty"],T);const S=l(e,["seed"]);S!=null&&s(i,["seed"],S);const _=l(e,["responseMimeType"]);_!=null&&s(i,["responseMimeType"],_);const y=l(e,["responseSchema"]);y!=null&&s(i,["responseSchema"],xA(Cr(y)));const h=l(e,["responseJsonSchema"]);h!=null&&s(i,["responseJsonSchema"],h);const v=l(e,["routingConfig"]);v!=null&&s(i,["routingConfig"],v);const C=l(e,["modelSelectionConfig"]);C!=null&&s(i,["modelConfig"],MA(C));const A=l(e,["safetySettings"]);if(n!==void 0&&A!=null){let ye=A;Array.isArray(ye)&&(ye=ye.map(b=>RA(b))),s(n,["safetySettings"],ye)}const N=l(e,["tools"]);if(n!==void 0&&N!=null){let ye=wi(N);Array.isArray(ye)&&(ye=ye.map(b=>kg(bi(b)))),s(n,["tools"],ye)}const M=l(e,["toolConfig"]);n!==void 0&&M!=null&&s(n,["toolConfig"],zA(M));const R=l(e,["labels"]);n!==void 0&&R!=null&&s(n,["labels"],R);const D=l(e,["cachedContent"]);n!==void 0&&D!=null&&s(n,["cachedContent"],qt(t,D));const w=l(e,["responseModalities"]);w!=null&&s(i,["responseModalities"],w);const L=l(e,["mediaResolution"]);L!=null&&s(i,["mediaResolution"],L);const fe=l(e,["speechConfig"]);fe!=null&&s(i,["speechConfig"],OA(Sr(fe)));const rn=l(e,["audioTimestamp"]);rn!=null&&s(i,["audioTimestamp"],rn);const In=l(e,["thinkingConfig"]);return In!=null&&s(i,["thinkingConfig"],YA(In)),i}function od(t,e){const n={},i=l(e,["model"]);i!=null&&s(n,["_url","model"],$(t,i));const o=l(e,["contents"]);if(o!=null){let u=it(o);Array.isArray(u)&&(u=u.map(r=>Ii(r))),s(n,["contents"],u)}const a=l(e,["config"]);return a!=null&&s(n,["generationConfig"],JA(t,a,n)),n}function QA(t,e){const n={},i=l(t,["taskType"]);e!==void 0&&i!=null&&s(e,["instances[]","task_type"],i);const o=l(t,["title"]);e!==void 0&&o!=null&&s(e,["instances[]","title"],o);const a=l(t,["outputDimensionality"]);e!==void 0&&a!=null&&s(e,["parameters","outputDimensionality"],a);const u=l(t,["mimeType"]);e!==void 0&&u!=null&&s(e,["instances[]","mimeType"],u);const r=l(t,["autoTruncate"]);return e!==void 0&&r!=null&&s(e,["parameters","autoTruncate"],r),n}function KA(t,e){const n={},i=l(e,["model"]);i!=null&&s(n,["_url","model"],$(t,i));const o=l(e,["contents"]);o!=null&&s(n,["instances[]","content"],_g(t,o));const a=l(e,["config"]);return a!=null&&s(n,["config"],QA(a,n)),n}function $A(t,e){const n={},i=l(t,["outputGcsUri"]);e!==void 0&&i!=null&&s(e,["parameters","storageUri"],i);const o=l(t,["negativePrompt"]);e!==void 0&&o!=null&&s(e,["parameters","negativePrompt"],o);const a=l(t,["numberOfImages"]);e!==void 0&&a!=null&&s(e,["parameters","sampleCount"],a);const u=l(t,["aspectRatio"]);e!==void 0&&u!=null&&s(e,["parameters","aspectRatio"],u);const r=l(t,["guidanceScale"]);e!==void 0&&r!=null&&s(e,["parameters","guidanceScale"],r);const c=l(t,["seed"]);e!==void 0&&c!=null&&s(e,["parameters","seed"],c);const f=l(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&s(e,["parameters","safetySetting"],f);const d=l(t,["personGeneration"]);e!==void 0&&d!=null&&s(e,["parameters","personGeneration"],d);const m=l(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&s(e,["parameters","includeSafetyAttributes"],m);const p=l(t,["includeRaiReason"]);e!==void 0&&p!=null&&s(e,["parameters","includeRaiReason"],p);const g=l(t,["language"]);e!==void 0&&g!=null&&s(e,["parameters","language"],g);const T=l(t,["outputMimeType"]);e!==void 0&&T!=null&&s(e,["parameters","outputOptions","mimeType"],T);const S=l(t,["outputCompressionQuality"]);e!==void 0&&S!=null&&s(e,["parameters","outputOptions","compressionQuality"],S);const _=l(t,["addWatermark"]);e!==void 0&&_!=null&&s(e,["parameters","addWatermark"],_);const y=l(t,["enhancePrompt"]);return e!==void 0&&y!=null&&s(e,["parameters","enhancePrompt"],y),n}function XA(t,e){const n={},i=l(e,["model"]);i!=null&&s(n,["_url","model"],$(t,i));const o=l(e,["prompt"]);o!=null&&s(n,["instances[0]","prompt"],o);const a=l(e,["config"]);return a!=null&&s(n,["config"],$A(a,n)),n}function Sa(t){const e={},n=l(t,["gcsUri"]);n!=null&&s(e,["gcsUri"],n);const i=l(t,["imageBytes"]);i!=null&&s(e,["bytesBase64Encoded"],Lt(i));const o=l(t,["mimeType"]);return o!=null&&s(e,["mimeType"],o),e}function ZA(t){const e={},n=l(t,["maskMode"]);n!=null&&s(e,["maskMode"],n);const i=l(t,["segmentationClasses"]);i!=null&&s(e,["maskClasses"],i);const o=l(t,["maskDilation"]);return o!=null&&s(e,["dilation"],o),e}function WA(t){const e={},n=l(t,["controlType"]);n!=null&&s(e,["controlType"],n);const i=l(t,["enableControlImageComputation"]);return i!=null&&s(e,["computeControl"],i),e}function jA(t){const e={},n=l(t,["styleDescription"]);return n!=null&&s(e,["styleDescription"],n),e}function e_(t){const e={},n=l(t,["subjectType"]);n!=null&&s(e,["subjectType"],n);const i=l(t,["subjectDescription"]);return i!=null&&s(e,["subjectDescription"],i),e}function t_(t){const e={},n=l(t,["referenceImage"]);n!=null&&s(e,["referenceImage"],Sa(n));const i=l(t,["referenceId"]);i!=null&&s(e,["referenceId"],i);const o=l(t,["referenceType"]);o!=null&&s(e,["referenceType"],o);const a=l(t,["maskImageConfig"]);a!=null&&s(e,["maskImageConfig"],ZA(a));const u=l(t,["controlImageConfig"]);u!=null&&s(e,["controlImageConfig"],WA(u));const r=l(t,["styleImageConfig"]);r!=null&&s(e,["styleImageConfig"],jA(r));const c=l(t,["subjectImageConfig"]);return c!=null&&s(e,["subjectImageConfig"],e_(c)),e}function n_(t,e){const n={},i=l(t,["outputGcsUri"]);e!==void 0&&i!=null&&s(e,["parameters","storageUri"],i);const o=l(t,["negativePrompt"]);e!==void 0&&o!=null&&s(e,["parameters","negativePrompt"],o);const a=l(t,["numberOfImages"]);e!==void 0&&a!=null&&s(e,["parameters","sampleCount"],a);const u=l(t,["aspectRatio"]);e!==void 0&&u!=null&&s(e,["parameters","aspectRatio"],u);const r=l(t,["guidanceScale"]);e!==void 0&&r!=null&&s(e,["parameters","guidanceScale"],r);const c=l(t,["seed"]);e!==void 0&&c!=null&&s(e,["parameters","seed"],c);const f=l(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&s(e,["parameters","safetySetting"],f);const d=l(t,["personGeneration"]);e!==void 0&&d!=null&&s(e,["parameters","personGeneration"],d);const m=l(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&s(e,["parameters","includeSafetyAttributes"],m);const p=l(t,["includeRaiReason"]);e!==void 0&&p!=null&&s(e,["parameters","includeRaiReason"],p);const g=l(t,["language"]);e!==void 0&&g!=null&&s(e,["parameters","language"],g);const T=l(t,["outputMimeType"]);e!==void 0&&T!=null&&s(e,["parameters","outputOptions","mimeType"],T);const S=l(t,["outputCompressionQuality"]);e!==void 0&&S!=null&&s(e,["parameters","outputOptions","compressionQuality"],S);const _=l(t,["addWatermark"]);e!==void 0&&_!=null&&s(e,["parameters","addWatermark"],_);const y=l(t,["editMode"]);e!==void 0&&y!=null&&s(e,["parameters","editMode"],y);const h=l(t,["baseSteps"]);return e!==void 0&&h!=null&&s(e,["parameters","editConfig","baseSteps"],h),n}function i_(t,e){const n={},i=l(e,["model"]);i!=null&&s(n,["_url","model"],$(t,i));const o=l(e,["prompt"]);o!=null&&s(n,["instances[0]","prompt"],o);const a=l(e,["referenceImages"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>t_(c))),s(n,["instances[0]","referenceImages"],r)}const u=l(e,["config"]);return u!=null&&s(n,["config"],n_(u,n)),n}function o_(t,e){const n={},i=l(t,["includeRaiReason"]);e!==void 0&&i!=null&&s(e,["parameters","includeRaiReason"],i);const o=l(t,["outputMimeType"]);e!==void 0&&o!=null&&s(e,["parameters","outputOptions","mimeType"],o);const a=l(t,["outputCompressionQuality"]);e!==void 0&&a!=null&&s(e,["parameters","outputOptions","compressionQuality"],a);const u=l(t,["enhanceInputImage"]);e!==void 0&&u!=null&&s(e,["parameters","upscaleConfig","enhanceInputImage"],u);const r=l(t,["imagePreservationFactor"]);e!==void 0&&r!=null&&s(e,["parameters","upscaleConfig","imagePreservationFactor"],r);const c=l(t,["numberOfImages"]);e!==void 0&&c!=null&&s(e,["parameters","sampleCount"],c);const f=l(t,["mode"]);return e!==void 0&&f!=null&&s(e,["parameters","mode"],f),n}function l_(t,e){const n={},i=l(e,["model"]);i!=null&&s(n,["_url","model"],$(t,i));const o=l(e,["image"]);o!=null&&s(n,["instances[0]","image"],Sa(o));const a=l(e,["upscaleFactor"]);a!=null&&s(n,["parameters","upscaleConfig","upscaleFactor"],a);const u=l(e,["config"]);return u!=null&&s(n,["config"],o_(u,n)),n}function a_(t,e){const n={},i=l(e,["model"]);i!=null&&s(n,["_url","name"],$(t,i));const o=l(e,["config"]);return o!=null&&s(n,["config"],o),n}function s_(t,e,n){const i={},o=l(e,["pageSize"]);n!==void 0&&o!=null&&s(n,["_query","pageSize"],o);const a=l(e,["pageToken"]);n!==void 0&&a!=null&&s(n,["_query","pageToken"],a);const u=l(e,["filter"]);n!==void 0&&u!=null&&s(n,["_query","filter"],u);const r=l(e,["queryBase"]);return n!==void 0&&r!=null&&s(n,["_url","models_url"],Rg(t,r)),i}function u_(t,e){const n={},i=l(e,["config"]);return i!=null&&s(n,["config"],s_(t,i,n)),n}function r_(t,e){const n={},i=l(t,["displayName"]);e!==void 0&&i!=null&&s(e,["displayName"],i);const o=l(t,["description"]);e!==void 0&&o!=null&&s(e,["description"],o);const a=l(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&s(e,["defaultCheckpointId"],a),n}function c_(t,e){const n={},i=l(e,["model"]);i!=null&&s(n,["_url","model"],$(t,i));const o=l(e,["config"]);return o!=null&&s(n,["config"],r_(o,n)),n}function f_(t,e){const n={},i=l(e,["model"]);i!=null&&s(n,["_url","name"],$(t,i));const o=l(e,["config"]);return o!=null&&s(n,["config"],o),n}function d_(t,e){const n={},i=l(t,["systemInstruction"]);e!==void 0&&i!=null&&s(e,["systemInstruction"],Ii(we(i)));const o=l(t,["tools"]);if(e!==void 0&&o!=null){let u=o;Array.isArray(u)&&(u=u.map(r=>kg(r))),s(e,["tools"],u)}const a=l(t,["generationConfig"]);return e!==void 0&&a!=null&&s(e,["generationConfig"],a),n}function m_(t,e){const n={},i=l(e,["model"]);i!=null&&s(n,["_url","model"],$(t,i));const o=l(e,["contents"]);if(o!=null){let u=it(o);Array.isArray(u)&&(u=u.map(r=>Ii(r))),s(n,["contents"],u)}const a=l(e,["config"]);return a!=null&&s(n,["config"],d_(a,n)),n}function p_(t,e){const n={},i=l(e,["model"]);i!=null&&s(n,["_url","model"],$(t,i));const o=l(e,["contents"]);if(o!=null){let u=it(o);Array.isArray(u)&&(u=u.map(r=>Ii(r))),s(n,["contents"],u)}const a=l(e,["config"]);return a!=null&&s(n,["config"],a),n}function g_(t){const e={},n=l(t,["uri"]);n!=null&&s(e,["gcsUri"],n);const i=l(t,["videoBytes"]);i!=null&&s(e,["bytesBase64Encoded"],Lt(i));const o=l(t,["mimeType"]);return o!=null&&s(e,["mimeType"],o),e}function h_(t,e){const n={},i=l(t,["numberOfVideos"]);e!==void 0&&i!=null&&s(e,["parameters","sampleCount"],i);const o=l(t,["outputGcsUri"]);e!==void 0&&o!=null&&s(e,["parameters","storageUri"],o);const a=l(t,["fps"]);e!==void 0&&a!=null&&s(e,["parameters","fps"],a);const u=l(t,["durationSeconds"]);e!==void 0&&u!=null&&s(e,["parameters","durationSeconds"],u);const r=l(t,["seed"]);e!==void 0&&r!=null&&s(e,["parameters","seed"],r);const c=l(t,["aspectRatio"]);e!==void 0&&c!=null&&s(e,["parameters","aspectRatio"],c);const f=l(t,["resolution"]);e!==void 0&&f!=null&&s(e,["parameters","resolution"],f);const d=l(t,["personGeneration"]);e!==void 0&&d!=null&&s(e,["parameters","personGeneration"],d);const m=l(t,["pubsubTopic"]);e!==void 0&&m!=null&&s(e,["parameters","pubsubTopic"],m);const p=l(t,["negativePrompt"]);e!==void 0&&p!=null&&s(e,["parameters","negativePrompt"],p);const g=l(t,["enhancePrompt"]);e!==void 0&&g!=null&&s(e,["parameters","enhancePrompt"],g);const T=l(t,["generateAudio"]);e!==void 0&&T!=null&&s(e,["parameters","generateAudio"],T);const S=l(t,["lastFrame"]);e!==void 0&&S!=null&&s(e,["instances[0]","lastFrame"],Sa(S));const _=l(t,["compressionQuality"]);return e!==void 0&&_!=null&&s(e,["parameters","compressionQuality"],_),n}function y_(t,e){const n={},i=l(e,["model"]);i!=null&&s(n,["_url","model"],$(t,i));const o=l(e,["prompt"]);o!=null&&s(n,["instances[0]","prompt"],o);const a=l(e,["image"]);a!=null&&s(n,["instances[0]","image"],Sa(a));const u=l(e,["video"]);u!=null&&s(n,["instances[0]","video"],g_(u));const r=l(e,["config"]);return r!=null&&s(n,["config"],h_(r,n)),n}function v_(t){const e={},n=l(t,["fps"]);n!=null&&s(e,["fps"],n);const i=l(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const o=l(t,["startOffset"]);return o!=null&&s(e,["startOffset"],o),e}function T_(t){const e={},n=l(t,["data"]);n!=null&&s(e,["data"],n);const i=l(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function C_(t){const e={},n=l(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const i=l(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function S_(t){const e={},n=l(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],v_(n));const i=l(t,["thought"]);i!=null&&s(e,["thought"],i);const o=l(t,["inlineData"]);o!=null&&s(e,["inlineData"],T_(o));const a=l(t,["fileData"]);a!=null&&s(e,["fileData"],C_(a));const u=l(t,["thoughtSignature"]);u!=null&&s(e,["thoughtSignature"],u);const r=l(t,["codeExecutionResult"]);r!=null&&s(e,["codeExecutionResult"],r);const c=l(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=l(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=l(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=l(t,["text"]);return m!=null&&s(e,["text"],m),e}function E_(t){const e={},n=l(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>S_(a))),s(e,["parts"],o)}const i=l(t,["role"]);return i!=null&&s(e,["role"],i),e}function A_(t){const e={},n=l(t,["citationSources"]);return n!=null&&s(e,["citations"],n),e}function __(t){const e={},n=l(t,["retrievedUrl"]);n!=null&&s(e,["retrievedUrl"],n);const i=l(t,["urlRetrievalStatus"]);return i!=null&&s(e,["urlRetrievalStatus"],i),e}function x_(t){const e={},n=l(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>__(o))),s(e,["urlMetadata"],i)}return e}function M_(t){const e={},n=l(t,["content"]);n!=null&&s(e,["content"],E_(n));const i=l(t,["citationMetadata"]);i!=null&&s(e,["citationMetadata"],A_(i));const o=l(t,["tokenCount"]);o!=null&&s(e,["tokenCount"],o);const a=l(t,["finishReason"]);a!=null&&s(e,["finishReason"],a);const u=l(t,["urlContextMetadata"]);u!=null&&s(e,["urlContextMetadata"],x_(u));const r=l(t,["avgLogprobs"]);r!=null&&s(e,["avgLogprobs"],r);const c=l(t,["groundingMetadata"]);c!=null&&s(e,["groundingMetadata"],c);const f=l(t,["index"]);f!=null&&s(e,["index"],f);const d=l(t,["logprobsResult"]);d!=null&&s(e,["logprobsResult"],d);const m=l(t,["safetyRatings"]);return m!=null&&s(e,["safetyRatings"],m),e}function ld(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&s(e,["sdkHttpResponse"],n);const i=l(t,["candidates"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(c=>M_(c))),s(e,["candidates"],r)}const o=l(t,["modelVersion"]);o!=null&&s(e,["modelVersion"],o);const a=l(t,["promptFeedback"]);a!=null&&s(e,["promptFeedback"],a);const u=l(t,["usageMetadata"]);return u!=null&&s(e,["usageMetadata"],u),e}function R_(t){const e={},n=l(t,["values"]);return n!=null&&s(e,["values"],n),e}function N_(){return{}}function D_(t){const e={},n=l(t,["embeddings"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>R_(a))),s(e,["embeddings"],o)}return l(t,["metadata"])!=null&&s(e,["metadata"],N_()),e}function b_(t){const e={},n=l(t,["bytesBase64Encoded"]);n!=null&&s(e,["imageBytes"],Lt(n));const i=l(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function Fg(t){const e={},n=l(t,["safetyAttributes","categories"]);n!=null&&s(e,["categories"],n);const i=l(t,["safetyAttributes","scores"]);i!=null&&s(e,["scores"],i);const o=l(t,["contentType"]);return o!=null&&s(e,["contentType"],o),e}function w_(t){const e={},n=l(t,["_self"]);n!=null&&s(e,["image"],b_(n));const i=l(t,["raiFilteredReason"]);i!=null&&s(e,["raiFilteredReason"],i);const o=l(t,["_self"]);return o!=null&&s(e,["safetyAttributes"],Fg(o)),e}function U_(t){const e={},n=l(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>w_(a))),s(e,["generatedImages"],o)}const i=l(t,["positivePromptSafetyAttributes"]);return i!=null&&s(e,["positivePromptSafetyAttributes"],Fg(i)),e}function I_(t){const e={},n=l(t,["baseModel"]);n!=null&&s(e,["baseModel"],n);const i=l(t,["createTime"]);i!=null&&s(e,["createTime"],i);const o=l(t,["updateTime"]);return o!=null&&s(e,["updateTime"],o),e}function du(t){const e={},n=l(t,["name"]);n!=null&&s(e,["name"],n);const i=l(t,["displayName"]);i!=null&&s(e,["displayName"],i);const o=l(t,["description"]);o!=null&&s(e,["description"],o);const a=l(t,["version"]);a!=null&&s(e,["version"],a);const u=l(t,["_self"]);u!=null&&s(e,["tunedModelInfo"],I_(u));const r=l(t,["inputTokenLimit"]);r!=null&&s(e,["inputTokenLimit"],r);const c=l(t,["outputTokenLimit"]);c!=null&&s(e,["outputTokenLimit"],c);const f=l(t,["supportedGenerationMethods"]);return f!=null&&s(e,["supportedActions"],f),e}function q_(t){const e={},n=l(t,["nextPageToken"]);n!=null&&s(e,["nextPageToken"],n);const i=l(t,["_self"]);if(i!=null){let o=Ng(i);Array.isArray(o)&&(o=o.map(a=>du(a))),s(e,["models"],o)}return e}function L_(){return{}}function V_(t){const e={},n=l(t,["totalTokens"]);n!=null&&s(e,["totalTokens"],n);const i=l(t,["cachedContentTokenCount"]);return i!=null&&s(e,["cachedContentTokenCount"],i),e}function G_(t){const e={},n=l(t,["video","uri"]);n!=null&&s(e,["uri"],n);const i=l(t,["video","encodedVideo"]);i!=null&&s(e,["videoBytes"],Lt(i));const o=l(t,["encoding"]);return o!=null&&s(e,["mimeType"],o),e}function P_(t){const e={},n=l(t,["_self"]);return n!=null&&s(e,["video"],G_(n)),e}function B_(t){const e={},n=l(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>P_(u))),s(e,["generatedVideos"],a)}const i=l(t,["raiMediaFilteredCount"]);i!=null&&s(e,["raiMediaFilteredCount"],i);const o=l(t,["raiMediaFilteredReasons"]);return o!=null&&s(e,["raiMediaFilteredReasons"],o),e}function H_(t){const e={},n=l(t,["name"]);n!=null&&s(e,["name"],n);const i=l(t,["metadata"]);i!=null&&s(e,["metadata"],i);const o=l(t,["done"]);o!=null&&s(e,["done"],o);const a=l(t,["error"]);a!=null&&s(e,["error"],a);const u=l(t,["response","generateVideoResponse"]);return u!=null&&s(e,["response"],B_(u)),e}function z_(t){const e={},n=l(t,["fps"]);n!=null&&s(e,["fps"],n);const i=l(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const o=l(t,["startOffset"]);return o!=null&&s(e,["startOffset"],o),e}function k_(t){const e={},n=l(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=l(t,["data"]);i!=null&&s(e,["data"],i);const o=l(t,["mimeType"]);return o!=null&&s(e,["mimeType"],o),e}function F_(t){const e={},n=l(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=l(t,["fileUri"]);i!=null&&s(e,["fileUri"],i);const o=l(t,["mimeType"]);return o!=null&&s(e,["mimeType"],o),e}function O_(t){const e={},n=l(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],z_(n));const i=l(t,["thought"]);i!=null&&s(e,["thought"],i);const o=l(t,["inlineData"]);o!=null&&s(e,["inlineData"],k_(o));const a=l(t,["fileData"]);a!=null&&s(e,["fileData"],F_(a));const u=l(t,["thoughtSignature"]);u!=null&&s(e,["thoughtSignature"],u);const r=l(t,["codeExecutionResult"]);r!=null&&s(e,["codeExecutionResult"],r);const c=l(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=l(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=l(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=l(t,["text"]);return m!=null&&s(e,["text"],m),e}function Y_(t){const e={},n=l(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>O_(a))),s(e,["parts"],o)}const i=l(t,["role"]);return i!=null&&s(e,["role"],i),e}function J_(t){const e={},n=l(t,["citations"]);return n!=null&&s(e,["citations"],n),e}function Q_(t){const e={},n=l(t,["retrievedUrl"]);n!=null&&s(e,["retrievedUrl"],n);const i=l(t,["urlRetrievalStatus"]);return i!=null&&s(e,["urlRetrievalStatus"],i),e}function K_(t){const e={},n=l(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Q_(o))),s(e,["urlMetadata"],i)}return e}function $_(t){const e={},n=l(t,["content"]);n!=null&&s(e,["content"],Y_(n));const i=l(t,["citationMetadata"]);i!=null&&s(e,["citationMetadata"],J_(i));const o=l(t,["finishMessage"]);o!=null&&s(e,["finishMessage"],o);const a=l(t,["finishReason"]);a!=null&&s(e,["finishReason"],a);const u=l(t,["urlContextMetadata"]);u!=null&&s(e,["urlContextMetadata"],K_(u));const r=l(t,["avgLogprobs"]);r!=null&&s(e,["avgLogprobs"],r);const c=l(t,["groundingMetadata"]);c!=null&&s(e,["groundingMetadata"],c);const f=l(t,["index"]);f!=null&&s(e,["index"],f);const d=l(t,["logprobsResult"]);d!=null&&s(e,["logprobsResult"],d);const m=l(t,["safetyRatings"]);return m!=null&&s(e,["safetyRatings"],m),e}function ad(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&s(e,["sdkHttpResponse"],n);const i=l(t,["candidates"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(d=>$_(d))),s(e,["candidates"],f)}const o=l(t,["createTime"]);o!=null&&s(e,["createTime"],o);const a=l(t,["responseId"]);a!=null&&s(e,["responseId"],a);const u=l(t,["modelVersion"]);u!=null&&s(e,["modelVersion"],u);const r=l(t,["promptFeedback"]);r!=null&&s(e,["promptFeedback"],r);const c=l(t,["usageMetadata"]);return c!=null&&s(e,["usageMetadata"],c),e}function X_(t){const e={},n=l(t,["truncated"]);n!=null&&s(e,["truncated"],n);const i=l(t,["token_count"]);return i!=null&&s(e,["tokenCount"],i),e}function Z_(t){const e={},n=l(t,["values"]);n!=null&&s(e,["values"],n);const i=l(t,["statistics"]);return i!=null&&s(e,["statistics"],X_(i)),e}function W_(t){const e={},n=l(t,["billableCharacterCount"]);return n!=null&&s(e,["billableCharacterCount"],n),e}function j_(t){const e={},n=l(t,["predictions[]","embeddings"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>Z_(a))),s(e,["embeddings"],o)}const i=l(t,["metadata"]);return i!=null&&s(e,["metadata"],W_(i)),e}function ex(t){const e={},n=l(t,["gcsUri"]);n!=null&&s(e,["gcsUri"],n);const i=l(t,["bytesBase64Encoded"]);i!=null&&s(e,["imageBytes"],Lt(i));const o=l(t,["mimeType"]);return o!=null&&s(e,["mimeType"],o),e}function Og(t){const e={},n=l(t,["safetyAttributes","categories"]);n!=null&&s(e,["categories"],n);const i=l(t,["safetyAttributes","scores"]);i!=null&&s(e,["scores"],i);const o=l(t,["contentType"]);return o!=null&&s(e,["contentType"],o),e}function Ar(t){const e={},n=l(t,["_self"]);n!=null&&s(e,["image"],ex(n));const i=l(t,["raiFilteredReason"]);i!=null&&s(e,["raiFilteredReason"],i);const o=l(t,["_self"]);o!=null&&s(e,["safetyAttributes"],Og(o));const a=l(t,["prompt"]);return a!=null&&s(e,["enhancedPrompt"],a),e}function tx(t){const e={},n=l(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>Ar(a))),s(e,["generatedImages"],o)}const i=l(t,["positivePromptSafetyAttributes"]);return i!=null&&s(e,["positivePromptSafetyAttributes"],Og(i)),e}function nx(t){const e={},n=l(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Ar(o))),s(e,["generatedImages"],i)}return e}function ix(t){const e={},n=l(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Ar(o))),s(e,["generatedImages"],i)}return e}function ox(t){const e={},n=l(t,["endpoint"]);n!=null&&s(e,["name"],n);const i=l(t,["deployedModelId"]);return i!=null&&s(e,["deployedModelId"],i),e}function lx(t){const e={},n=l(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&s(e,["baseModel"],n);const i=l(t,["createTime"]);i!=null&&s(e,["createTime"],i);const o=l(t,["updateTime"]);return o!=null&&s(e,["updateTime"],o),e}function ax(t){const e={},n=l(t,["checkpointId"]);n!=null&&s(e,["checkpointId"],n);const i=l(t,["epoch"]);i!=null&&s(e,["epoch"],i);const o=l(t,["step"]);return o!=null&&s(e,["step"],o),e}function mu(t){const e={},n=l(t,["name"]);n!=null&&s(e,["name"],n);const i=l(t,["displayName"]);i!=null&&s(e,["displayName"],i);const o=l(t,["description"]);o!=null&&s(e,["description"],o);const a=l(t,["versionId"]);a!=null&&s(e,["version"],a);const u=l(t,["deployedModels"]);if(u!=null){let m=u;Array.isArray(m)&&(m=m.map(p=>ox(p))),s(e,["endpoints"],m)}const r=l(t,["labels"]);r!=null&&s(e,["labels"],r);const c=l(t,["_self"]);c!=null&&s(e,["tunedModelInfo"],lx(c));const f=l(t,["defaultCheckpointId"]);f!=null&&s(e,["defaultCheckpointId"],f);const d=l(t,["checkpoints"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(p=>ax(p))),s(e,["checkpoints"],m)}return e}function sx(t){const e={},n=l(t,["nextPageToken"]);n!=null&&s(e,["nextPageToken"],n);const i=l(t,["_self"]);if(i!=null){let o=Ng(i);Array.isArray(o)&&(o=o.map(a=>mu(a))),s(e,["models"],o)}return e}function ux(){return{}}function rx(t){const e={},n=l(t,["totalTokens"]);return n!=null&&s(e,["totalTokens"],n),e}function cx(t){const e={},n=l(t,["tokensInfo"]);return n!=null&&s(e,["tokensInfo"],n),e}function fx(t){const e={},n=l(t,["gcsUri"]);n!=null&&s(e,["uri"],n);const i=l(t,["bytesBase64Encoded"]);i!=null&&s(e,["videoBytes"],Lt(i));const o=l(t,["mimeType"]);return o!=null&&s(e,["mimeType"],o),e}function dx(t){const e={},n=l(t,["_self"]);return n!=null&&s(e,["video"],fx(n)),e}function mx(t){const e={},n=l(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>dx(u))),s(e,["generatedVideos"],a)}const i=l(t,["raiMediaFilteredCount"]);i!=null&&s(e,["raiMediaFilteredCount"],i);const o=l(t,["raiMediaFilteredReasons"]);return o!=null&&s(e,["raiMediaFilteredReasons"],o),e}function px(t){const e={},n=l(t,["name"]);n!=null&&s(e,["name"],n);const i=l(t,["metadata"]);i!=null&&s(e,["metadata"],i);const o=l(t,["done"]);o!=null&&s(e,["done"],o);const a=l(t,["error"]);a!=null&&s(e,["error"],a);const u=l(t,["response"]);return u!=null&&s(e,["response"],mx(u)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gx="Content-Type",hx="X-Server-Timeout",yx="User-Agent",pu="x-goog-api-client",vx="1.10.0",Tx=`google-genai-sdk/${vx}`,Cx="v1beta1",Sx="v1beta",sd=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Ex{constructor(e){var n,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Cx,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:Sx,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,i){const o=[this.getRequestUrlInternal(n)];return i&&o.push(this.getBaseResourcePath()),e!==""&&o.push(e),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,i);if(e.queryParams)for(const[u,r]of Object.entries(e.queryParams))o.searchParams.append(u,String(r));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,e.abortSignal),this.unaryApiCall(o,a,e.httpMethod)}patchHttpOptions(e,n){const i=JSON.parse(JSON.stringify(e));for(const[o,a]of Object.entries(n))typeof a=="object"?i[o]=Object.assign(Object.assign({},i[o]),a):a!==void 0&&(i[o]=a);return i}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,i);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,e.abortSignal),this.streamApiCall(o,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,i){if(n&&n.timeout||i){const o=new AbortController,a=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>o.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=a}return n&&n.extraBody!==null&&Ax(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await ud(o),new au(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await ud(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(e){var n;return fi(this,arguments,function*(){const o=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),a=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let u="";for(;;){const{done:r,value:c}=yield ee(o.read());if(r){if(u.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=a.decode(c,{stream:!0});try{const m=JSON.parse(f);if("error"in m){const p=JSON.parse(JSON.stringify(m.error)),g=p.status,T=p.code,S=`got status: ${g}. ${JSON.stringify(m)}`;if(T>=400&&T<600)throw new Ta({message:S,status:T})}}catch(m){if(m.name==="ApiError")throw m}u+=f;let d=u.match(sd);for(;d;){const m=d[1];try{const p=new Response(m,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield ee(new au(p)),u=u.slice(d[0].length),d=u.match(sd)}catch(p){throw new Error(`exception parsing stream chunk ${m}. ${p}`)}}}}finally{o.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},n=Tx+" "+this.clientOptions.userAgentExtra;return e[yx]=n,e[pu]=n,e[gx]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))n.append(i,o);e.timeout&&e.timeout>0&&n.append(hx,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var i;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const a=this.clientOptions.uploader,u=await a.stat(e);o.sizeBytes=String(u.size);const r=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:u.type;if(r===void 0||r==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=r;const c=await this.fetchUploadUrl(o,n);return a.upload(e,c,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var i;let o={};n!=null&&n.httpOptions?o=n.httpOptions:o={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const a={file:e},u=await this.request({path:U("upload/v1beta/files",a._url),body:JSON.stringify(a),httpMethod:"POST",httpOptions:o});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const r=(i=u==null?void 0:u.headers)===null||i===void 0?void 0:i["x-goog-upload-url"];if(r===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return r}}async function ud(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const o=JSON.stringify(i);throw n>=400&&n<600?new Ta({message:o,status:n}):new Error(o)}}function Ax(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(a,u){const r=Object.assign({},a);for(const c in u)if(Object.prototype.hasOwnProperty.call(u,c)){const f=u[c],d=r[c];f&&typeof f=="object"&&!Array.isArray(f)&&d&&typeof d=="object"&&!Array.isArray(d)?r[c]=i(d,f):(d&&f&&typeof d!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof d}, New type: ${typeof f}. Overwriting.`),r[c]=f)}return r}const o=i(n,e);t.body=JSON.stringify(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _x="mcp_used/unknown";let xx=!1;function Yg(t){for(const e of t)if(_r(e)||typeof e=="object"&&"inputSchema"in e)return!0;return xx}function Jg(t){var e;const n=(e=t[pu])!==null&&e!==void 0?e:"";t[pu]=(n+` ${_x}`).trimStart()}function Mx(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(o=>_r(o)))!==null&&i!==void 0?i:!1}function Rx(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(o=>!_r(o)))!==null&&i!==void 0?i:!1}function _r(t){return t!==null&&typeof t=="object"&&t instanceof xr}function Nx(t,e=100){return fi(this,arguments,function*(){let i,o=0;for(;o<e;){const a=yield ee(t.listTools({cursor:i}));for(const u of a.tools)yield yield ee(u),o++;if(!a.nextCursor)break;i=a.nextCursor}})}class xr{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new xr(e,n)}async initialize(){var e,n,i,o;if(this.mcpTools.length>0)return;const a={},u=[];for(const d of this.mcpClients)try{for(var r=!0,c=(n=void 0,ro(Nx(d))),f;f=await c.next(),e=f.done,!e;r=!0){o=f.value,r=!1;const m=o;u.push(m);const p=m.name;if(a[p])throw new Error(`Duplicate function name ${p} found in MCP tools. Please ensure function names are unique.`);a[p]=d}}catch(m){n={error:m}}finally{try{!r&&!e&&(i=c.return)&&await i.call(c)}finally{if(n)throw n.error}}this.mcpTools=u,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),ET(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const o=this.functionNameToMcpClient[i.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const u=await o.callTool({name:i.name,arguments:i.args},void 0,a);n.push({functionResponse:{name:i.name,response:u.isError?{error:u}:u}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Dx(t,e,n){const i=new pT;let o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data);const a=EE(o);Object.assign(i,a),e(i)}class bx{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i}async connect(e){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),u=Ix(this.apiClient.getDefaultHeaders()),r=this.apiClient.getApiKey(),c=`${o}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${r}`;let f=()=>{};const d=new Promise(v=>{f=v}),m=e.callbacks,p=function(){f({})},g=this.apiClient,T={onopen:p,onmessage:v=>{Dx(g,m.onmessage,v)},onerror:(n=m==null?void 0:m.onerror)!==null&&n!==void 0?n:function(v){},onclose:(i=m==null?void 0:m.onclose)!==null&&i!==void 0?i:function(v){}},S=this.webSocketFactory.create(c,Ux(u),T);S.connect(),await d;const _=$(this.apiClient,e.model),y=Bg({model:_}),h=fu({setup:y});return S.send(JSON.stringify(h)),new wx(S,this.apiClient)}}class wx{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=CS(e),i=Hg(n);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=SS(e),i=fu(n);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const n=fu({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(ti.PLAY)}pause(){this.sendPlaybackControl(ti.PAUSE)}stop(){this.sendPlaybackControl(ti.STOP)}resetContext(){this.sendPlaybackControl(ti.RESET_CONTEXT)}close(){this.conn.close()}}function Ux(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function Ix(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qx="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Lx(t,e,n){const i=new mT;let o;n.data instanceof Blob?o=await n.data.text():n.data instanceof ArrayBuffer?o=new TextDecoder().decode(n.data):o=n.data;const a=JSON.parse(o);if(t.isVertexAI()){const u=VE(a);Object.assign(i,u)}else{const u=mE(a);Object.assign(i,u)}e(i)}class Vx{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i,this.music=new bx(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,i,o,a,u,r;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let d;const m=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&Yg(e.config.tools)&&Jg(m);const p=Hx(m);if(this.apiClient.isVertexAI())d=`${c}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(p);else{const D=this.apiClient.getApiKey();let w="BidiGenerateContent",L="key";D!=null&&D.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),w="BidiGenerateContentConstrained",L="access_token"),d=`${c}/ws/google.ai.generativelanguage.${f}.GenerativeService.${w}?${L}=${D}`}let g=()=>{};const T=new Promise(D=>{g=D}),S=e.callbacks,_=function(){var D;(D=S==null?void 0:S.onopen)===null||D===void 0||D.call(S),g({})},y=this.apiClient,h={onopen:_,onmessage:D=>{Lx(y,S.onmessage,D)},onerror:(n=S==null?void 0:S.onerror)!==null&&n!==void 0?n:function(D){},onclose:(i=S==null?void 0:S.onclose)!==null&&i!==void 0?i:function(D){}},v=this.webSocketFactory.create(d,Bx(p),h);v.connect(),await T;let C=$(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&C.startsWith("publishers/")){const D=this.apiClient.getProject(),w=this.apiClient.getLocation();C=`projects/${D}/locations/${w}/`+C}let A={};this.apiClient.isVertexAI()&&((o=e.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Zl.AUDIO]}:e.config.responseModalities=[Zl.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const N=(r=(u=e.config)===null||u===void 0?void 0:u.tools)!==null&&r!==void 0?r:[],M=[];for(const D of N)if(this.isCallableTool(D)){const w=D;M.push(await w.tool())}else M.push(D);M.length>0&&(e.config.tools=M);const R={model:C,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?A=KS(this.apiClient,R):A=hS(this.apiClient,R),delete A.config,v.send(JSON.stringify(A)),new Px(v,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Gx={turnComplete:!0};class Px{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=it(n.turns),e.isVertexAI()?i=i.map(o=>Ii(o)):i=i.map(o=>Ca(o))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const a of i){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(qx)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},Gx),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:ZS(e)}:n={realtimeInput:TS(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function Bx(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function Hx(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rd=10;function cd(t){var e,n,i;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let o=!1;for(const u of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Cl(u)){o=!0;break}if(!o)return!0;const a=(i=t==null?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function Cl(t){return"callTool"in t&&typeof t.callTool=="function"}function fd(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zx extends Un{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var i,o,a,u,r;const c=await this.processParamsForMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!Mx(n)||cd(n.config))return await this.generateContentInternal(c);if(Rx(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let f,d;const m=it(c.contents),p=(a=(o=(i=c.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&a!==void 0?a:rd;let g=0;for(;g<p&&(f=await this.generateContentInternal(c),!(!f.functionCalls||f.functionCalls.length===0));){const T=f.candidates[0].content,S=[];for(const _ of(r=(u=n.config)===null||u===void 0?void 0:u.tools)!==null&&r!==void 0?r:[])if(Cl(_)){const h=await _.callTool(f.functionCalls);S.push(...h)}g++,d={role:"user",parts:S},c.contents=it(c.contents),c.contents.push(T),c.contents.push(d),fd(c.config)&&(m.push(T),m.push(d))}return fd(c.config)&&(f.automaticFunctionCallingHistory=m),f},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),cd(n.config)){const i=await this.processParamsForMcpUsage(n);return await this.generateContentStreamInternal(i)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var o;let a;const u=[];if(i!=null&&i.generatedImages)for(const c of i.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((o=c==null?void 0:c.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?a=c==null?void 0:c.safetyAttributes:u.push(c);let r;return a?r={generatedImages:u,positivePromptSafetyAttributes:a}:r={generatedImages:u},r}),this.list=async n=>{var i;const u={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!u.config.queryBase){if(!((i=u.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");u.config.filter="labels.tune-type:*"}return new zo(Rn.PAGED_ITEM_MODELS,r=>this.listInternal(r),await this.listInternal(u),u)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const o={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(o)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsForMcpUsage(e){var n,i,o;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const u=await Promise.all(a.map(async c=>Cl(c)?await c.tool():c)),r={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:u})};if(r.config.tools=u,e.config&&e.config.tools&&Yg(e.config.tools)){const c=(o=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&o!==void 0?o:{};let f=Object.assign({},c);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),Jg(f),r.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return r}async initAfcToolsMap(e){var n,i,o;const a=new Map;for(const u of(i=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(Cl(u)){const r=u,c=await r.tool();for(const f of(o=c.functionDeclarations)!==null&&o!==void 0?o:[]){if(!f.name)throw new Error("Function declaration name is required.");if(a.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);a.set(f.name,r)}}return a}async processAfcStream(e){var n,i,o;const a=(o=(i=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:rd;let u=!1,r=0;const c=await this.initAfcToolsMap(e);return function(f,d,m){var p,g;return fi(this,arguments,function*(){for(var T,S,_,y;r<a;){u&&(r++,u=!1);const A=yield ee(f.processParamsForMcpUsage(m)),N=yield ee(f.generateContentStreamInternal(A)),M=[],R=[];try{for(var h=!0,v=(S=void 0,ro(N)),C;C=yield ee(v.next()),T=C.done,!T;h=!0){y=C.value,h=!1;const D=y;if(yield yield ee(D),D.candidates&&(!((p=D.candidates[0])===null||p===void 0)&&p.content)){R.push(D.candidates[0].content);for(const w of(g=D.candidates[0].content.parts)!==null&&g!==void 0?g:[])if(r<a&&w.functionCall){if(!w.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(w.functionCall.name)){const L=yield ee(d.get(w.functionCall.name).callTool([w.functionCall]));M.push(...L)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${w.functionCall.name}`)}}}}catch(D){S={error:D}}finally{try{!h&&!T&&(_=v.return)&&(yield ee(_.call(v)))}finally{if(S)throw S.error}}if(M.length>0){u=!0;const D=new Fi;D.candidates=[{content:{role:"user",parts:M}}],yield yield ee(D);const w=[];w.push(...R),w.push({role:"user",parts:M});const L=it(m.contents).concat(w);m.contents=L}else break}})}(this,c,e)}async generateContentInternal(e){var n,i,o,a;let u,r="",c={};if(this.apiClient.isVertexAI()){const f=od(this.apiClient,e);return r=U("{model}:generateContent",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),u.then(d=>{const m=ad(d),p=new Fi;return Object.assign(p,m),p})}else{const f=id(this.apiClient,e);return r=U("{model}:generateContent",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),u.then(d=>{const m=ld(d),p=new Fi;return Object.assign(p,m),p})}}async generateContentStreamInternal(e){var n,i,o,a;let u,r="",c={};if(this.apiClient.isVertexAI()){const f=od(this.apiClient,e);return r=U("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.requestStream({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),u.then(function(m){return fi(this,arguments,function*(){var p,g,T,S;try{for(var _=!0,y=ro(m),h;h=yield ee(y.next()),p=h.done,!p;_=!0){S=h.value,_=!1;const v=S,C=ad(yield ee(v.json()));C.sdkHttpResponse={headers:v.headers};const A=new Fi;Object.assign(A,C),yield yield ee(A)}}catch(v){g={error:v}}finally{try{!_&&!p&&(T=y.return)&&(yield ee(T.call(y)))}finally{if(g)throw g.error}}})})}else{const f=id(this.apiClient,e);return r=U("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.requestStream({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),u.then(function(m){return fi(this,arguments,function*(){var p,g,T,S;try{for(var _=!0,y=ro(m),h;h=yield ee(y.next()),p=h.done,!p;_=!0){S=h.value,_=!1;const v=S,C=ld(yield ee(v.json()));C.sdkHttpResponse={headers:v.headers};const A=new Fi;Object.assign(A,C),yield yield ee(A)}}catch(v){g={error:v}}finally{try{!_&&!p&&(T=y.return)&&(yield ee(T.call(y)))}finally{if(g)throw g.error}}})})}}async embedContent(e){var n,i,o,a;let u,r="",c={};if(this.apiClient.isVertexAI()){const f=KA(this.apiClient,e);return r=U("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),u.then(d=>{const m=j_(d),p=new Gf;return Object.assign(p,m),p})}else{const f=sA(this.apiClient,e);return r=U("{model}:batchEmbedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),u.then(d=>{const m=D_(d),p=new Gf;return Object.assign(p,m),p})}}async generateImagesInternal(e){var n,i,o,a;let u,r="",c={};if(this.apiClient.isVertexAI()){const f=XA(this.apiClient,e);return r=U("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),u.then(d=>{const m=tx(d),p=new Pf;return Object.assign(p,m),p})}else{const f=rA(this.apiClient,e);return r=U("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),u.then(d=>{const m=U_(d),p=new Pf;return Object.assign(p,m),p})}}async editImageInternal(e){var n,i;let o,a="",u={};if(this.apiClient.isVertexAI()){const r=i_(this.apiClient,e);return a=U("{model}:predict",r._url),u=r._query,delete r.config,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{const f=nx(c),d=new sT;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,i;let o,a="",u={};if(this.apiClient.isVertexAI()){const r=l_(this.apiClient,e);return a=U("{model}:predict",r._url),u=r._query,delete r.config,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{const f=ix(c),d=new uT;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,i,o,a;let u,r="",c={};if(this.apiClient.isVertexAI()){const f=a_(this.apiClient,e);return r=U("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),u.then(d=>mu(d))}else{const f=cA(this.apiClient,e);return r=U("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),u.then(d=>du(d))}}async listInternal(e){var n,i,o,a;let u,r="",c={};if(this.apiClient.isVertexAI()){const f=u_(this.apiClient,e);return r=U("{models_url}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),u.then(d=>{const m=sx(d),p=new Bf;return Object.assign(p,m),p})}else{const f=dA(this.apiClient,e);return r=U("{models_url}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),u.then(d=>{const m=q_(d),p=new Bf;return Object.assign(p,m),p})}}async update(e){var n,i,o,a;let u,r="",c={};if(this.apiClient.isVertexAI()){const f=c_(this.apiClient,e);return r=U("{model}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),u.then(d=>mu(d))}else{const f=pA(this.apiClient,e);return r=U("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),u.then(d=>du(d))}}async delete(e){var n,i,o,a;let u,r="",c={};if(this.apiClient.isVertexAI()){const f=f_(this.apiClient,e);return r=U("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),u.then(()=>{const d=ux(),m=new Hf;return Object.assign(m,d),m})}else{const f=gA(this.apiClient,e);return r=U("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),u.then(()=>{const d=L_(),m=new Hf;return Object.assign(m,d),m})}}async countTokens(e){var n,i,o,a;let u,r="",c={};if(this.apiClient.isVertexAI()){const f=m_(this.apiClient,e);return r=U("{model}:countTokens",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),u.then(d=>{const m=rx(d),p=new zf;return Object.assign(p,m),p})}else{const f=yA(this.apiClient,e);return r=U("{model}:countTokens",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),u.then(d=>{const m=V_(d),p=new zf;return Object.assign(p,m),p})}}async computeTokens(e){var n,i;let o,a="",u={};if(this.apiClient.isVertexAI()){const r=p_(this.apiClient,e);return a=U("{model}:computeTokens",r._url),u=r._query,delete r.config,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{const f=cx(c),d=new rT;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var n,i,o,a;let u,r="",c={};if(this.apiClient.isVertexAI()){const f=y_(this.apiClient,e);return r=U("{model}:predictLongRunning",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),u.then(d=>px(d))}else{const f=CA(this.apiClient,e);return r=U("{model}:predictLongRunning",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),u.then(d=>H_(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kx(t){const e={},n=l(t,["operationName"]);n!=null&&s(e,["_url","operationName"],n);const i=l(t,["config"]);return i!=null&&s(e,["config"],i),e}function Fx(t){const e={},n=l(t,["operationName"]);n!=null&&s(e,["_url","operationName"],n);const i=l(t,["config"]);return i!=null&&s(e,["config"],i),e}function Ox(t){const e={},n=l(t,["operationName"]);n!=null&&s(e,["operationName"],n);const i=l(t,["resourceName"]);i!=null&&s(e,["_url","resourceName"],i);const o=l(t,["config"]);return o!=null&&s(e,["config"],o),e}function Yx(t){const e={},n=l(t,["video","uri"]);n!=null&&s(e,["uri"],n);const i=l(t,["video","encodedVideo"]);i!=null&&s(e,["videoBytes"],Lt(i));const o=l(t,["encoding"]);return o!=null&&s(e,["mimeType"],o),e}function Jx(t){const e={},n=l(t,["_self"]);return n!=null&&s(e,["video"],Yx(n)),e}function Qx(t){const e={},n=l(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>Jx(u))),s(e,["generatedVideos"],a)}const i=l(t,["raiMediaFilteredCount"]);i!=null&&s(e,["raiMediaFilteredCount"],i);const o=l(t,["raiMediaFilteredReasons"]);return o!=null&&s(e,["raiMediaFilteredReasons"],o),e}function Kx(t){const e={},n=l(t,["name"]);n!=null&&s(e,["name"],n);const i=l(t,["metadata"]);i!=null&&s(e,["metadata"],i);const o=l(t,["done"]);o!=null&&s(e,["done"],o);const a=l(t,["error"]);a!=null&&s(e,["error"],a);const u=l(t,["response","generateVideoResponse"]);return u!=null&&s(e,["response"],Qx(u)),e}function $x(t){const e={},n=l(t,["gcsUri"]);n!=null&&s(e,["uri"],n);const i=l(t,["bytesBase64Encoded"]);i!=null&&s(e,["videoBytes"],Lt(i));const o=l(t,["mimeType"]);return o!=null&&s(e,["mimeType"],o),e}function Xx(t){const e={},n=l(t,["_self"]);return n!=null&&s(e,["video"],$x(n)),e}function Zx(t){const e={},n=l(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>Xx(u))),s(e,["generatedVideos"],a)}const i=l(t,["raiMediaFilteredCount"]);i!=null&&s(e,["raiMediaFilteredCount"],i);const o=l(t,["raiMediaFilteredReasons"]);return o!=null&&s(e,["raiMediaFilteredReasons"],o),e}function dd(t){const e={},n=l(t,["name"]);n!=null&&s(e,["name"],n);const i=l(t,["metadata"]);i!=null&&s(e,["metadata"],i);const o=l(t,["done"]);o!=null&&s(e,["done"],o);const a=l(t,["error"]);a!=null&&s(e,["error"],a);const u=l(t,["response"]);return u!=null&&s(e,["response"],Zx(u)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wx extends Un{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let a;return i&&"httpOptions"in i&&(a=i.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:a}})}else return this.getVideosOperationInternal({operationName:n.name,config:i})}async getVideosOperationInternal(e){var n,i,o,a;let u,r="",c={};if(this.apiClient.isVertexAI()){const f=Fx(e);return r=U("{operationName}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),u.then(d=>dd(d))}else{const f=kx(e);return r=U("{operationName}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),u.then(d=>Kx(d))}}async fetchPredictVideosOperationInternal(e){var n,i;let o,a="",u={};if(this.apiClient.isVertexAI()){const r=Ox(e);return a=U("{resourceName}:fetchPredictOperation",r._url),u=r._query,delete r.config,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>dd(c))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jx(t){const e={},n=l(t,["voiceName"]);return n!=null&&s(e,["voiceName"],n),e}function Qg(t){const e={},n=l(t,["prebuiltVoiceConfig"]);return n!=null&&s(e,["prebuiltVoiceConfig"],jx(n)),e}function eM(t){const e={},n=l(t,["speaker"]);n!=null&&s(e,["speaker"],n);const i=l(t,["voiceConfig"]);return i!=null&&s(e,["voiceConfig"],Qg(i)),e}function tM(t){const e={},n=l(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>eM(o))),s(e,["speakerVoiceConfigs"],i)}return e}function nM(t){const e={},n=l(t,["voiceConfig"]);n!=null&&s(e,["voiceConfig"],Qg(n));const i=l(t,["multiSpeakerVoiceConfig"]);i!=null&&s(e,["multiSpeakerVoiceConfig"],tM(i));const o=l(t,["languageCode"]);return o!=null&&s(e,["languageCode"],o),e}function iM(t){const e={},n=l(t,["fps"]);n!=null&&s(e,["fps"],n);const i=l(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const o=l(t,["startOffset"]);return o!=null&&s(e,["startOffset"],o),e}function oM(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["data"]);n!=null&&s(e,["data"],n);const i=l(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function lM(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const i=l(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function aM(t){const e={},n=l(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],iM(n));const i=l(t,["thought"]);i!=null&&s(e,["thought"],i);const o=l(t,["inlineData"]);o!=null&&s(e,["inlineData"],oM(o));const a=l(t,["fileData"]);a!=null&&s(e,["fileData"],lM(a));const u=l(t,["thoughtSignature"]);u!=null&&s(e,["thoughtSignature"],u);const r=l(t,["codeExecutionResult"]);r!=null&&s(e,["codeExecutionResult"],r);const c=l(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=l(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=l(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=l(t,["text"]);return m!=null&&s(e,["text"],m),e}function sM(t){const e={},n=l(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>aM(a))),s(e,["parts"],o)}const i=l(t,["role"]);return i!=null&&s(e,["role"],i),e}function uM(t){const e={},n=l(t,["behavior"]);n!=null&&s(e,["behavior"],n);const i=l(t,["description"]);i!=null&&s(e,["description"],i);const o=l(t,["name"]);o!=null&&s(e,["name"],o);const a=l(t,["parameters"]);a!=null&&s(e,["parameters"],a);const u=l(t,["parametersJsonSchema"]);u!=null&&s(e,["parametersJsonSchema"],u);const r=l(t,["response"]);r!=null&&s(e,["response"],r);const c=l(t,["responseJsonSchema"]);return c!=null&&s(e,["responseJsonSchema"],c),e}function rM(t){const e={},n=l(t,["startTime"]);n!=null&&s(e,["startTime"],n);const i=l(t,["endTime"]);return i!=null&&s(e,["endTime"],i),e}function cM(t){const e={},n=l(t,["timeRangeFilter"]);return n!=null&&s(e,["timeRangeFilter"],rM(n)),e}function fM(t){const e={},n=l(t,["mode"]);n!=null&&s(e,["mode"],n);const i=l(t,["dynamicThreshold"]);return i!=null&&s(e,["dynamicThreshold"],i),e}function dM(t){const e={},n=l(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],fM(n)),e}function mM(){return{}}function pM(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>uM(f))),s(e,["functionDeclarations"],c)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=l(t,["googleSearch"]);i!=null&&s(e,["googleSearch"],cM(i));const o=l(t,["googleSearchRetrieval"]);if(o!=null&&s(e,["googleSearchRetrieval"],dM(o)),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(t,["urlContext"])!=null&&s(e,["urlContext"],mM());const u=l(t,["codeExecution"]);u!=null&&s(e,["codeExecution"],u);const r=l(t,["computerUse"]);return r!=null&&s(e,["computerUse"],r),e}function gM(t){const e={},n=l(t,["handle"]);if(n!=null&&s(e,["handle"],n),l(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function md(){return{}}function hM(t){const e={},n=l(t,["disabled"]);n!=null&&s(e,["disabled"],n);const i=l(t,["startOfSpeechSensitivity"]);i!=null&&s(e,["startOfSpeechSensitivity"],i);const o=l(t,["endOfSpeechSensitivity"]);o!=null&&s(e,["endOfSpeechSensitivity"],o);const a=l(t,["prefixPaddingMs"]);a!=null&&s(e,["prefixPaddingMs"],a);const u=l(t,["silenceDurationMs"]);return u!=null&&s(e,["silenceDurationMs"],u),e}function yM(t){const e={},n=l(t,["automaticActivityDetection"]);n!=null&&s(e,["automaticActivityDetection"],hM(n));const i=l(t,["activityHandling"]);i!=null&&s(e,["activityHandling"],i);const o=l(t,["turnCoverage"]);return o!=null&&s(e,["turnCoverage"],o),e}function vM(t){const e={},n=l(t,["targetTokens"]);return n!=null&&s(e,["targetTokens"],n),e}function TM(t){const e={},n=l(t,["triggerTokens"]);n!=null&&s(e,["triggerTokens"],n);const i=l(t,["slidingWindow"]);return i!=null&&s(e,["slidingWindow"],vM(i)),e}function CM(t){const e={},n=l(t,["proactiveAudio"]);return n!=null&&s(e,["proactiveAudio"],n),e}function SM(t,e){const n={},i=l(t,["generationConfig"]);e!==void 0&&i!=null&&s(e,["setup","generationConfig"],i);const o=l(t,["responseModalities"]);e!==void 0&&o!=null&&s(e,["setup","generationConfig","responseModalities"],o);const a=l(t,["temperature"]);e!==void 0&&a!=null&&s(e,["setup","generationConfig","temperature"],a);const u=l(t,["topP"]);e!==void 0&&u!=null&&s(e,["setup","generationConfig","topP"],u);const r=l(t,["topK"]);e!==void 0&&r!=null&&s(e,["setup","generationConfig","topK"],r);const c=l(t,["maxOutputTokens"]);e!==void 0&&c!=null&&s(e,["setup","generationConfig","maxOutputTokens"],c);const f=l(t,["mediaResolution"]);e!==void 0&&f!=null&&s(e,["setup","generationConfig","mediaResolution"],f);const d=l(t,["seed"]);e!==void 0&&d!=null&&s(e,["setup","generationConfig","seed"],d);const m=l(t,["speechConfig"]);e!==void 0&&m!=null&&s(e,["setup","generationConfig","speechConfig"],nM(Er(m)));const p=l(t,["enableAffectiveDialog"]);e!==void 0&&p!=null&&s(e,["setup","generationConfig","enableAffectiveDialog"],p);const g=l(t,["systemInstruction"]);e!==void 0&&g!=null&&s(e,["setup","systemInstruction"],sM(we(g)));const T=l(t,["tools"]);if(e!==void 0&&T!=null){let A=wi(T);Array.isArray(A)&&(A=A.map(N=>pM(bi(N)))),s(e,["setup","tools"],A)}const S=l(t,["sessionResumption"]);e!==void 0&&S!=null&&s(e,["setup","sessionResumption"],gM(S));const _=l(t,["inputAudioTranscription"]);e!==void 0&&_!=null&&s(e,["setup","inputAudioTranscription"],md());const y=l(t,["outputAudioTranscription"]);e!==void 0&&y!=null&&s(e,["setup","outputAudioTranscription"],md());const h=l(t,["realtimeInputConfig"]);e!==void 0&&h!=null&&s(e,["setup","realtimeInputConfig"],yM(h));const v=l(t,["contextWindowCompression"]);e!==void 0&&v!=null&&s(e,["setup","contextWindowCompression"],TM(v));const C=l(t,["proactivity"]);return e!==void 0&&C!=null&&s(e,["setup","proactivity"],CM(C)),n}function EM(t,e){const n={},i=l(e,["model"]);i!=null&&s(n,["setup","model"],$(t,i));const o=l(e,["config"]);return o!=null&&s(n,["config"],SM(o,n)),n}function AM(t,e,n){const i={},o=l(e,["expireTime"]);n!==void 0&&o!=null&&s(n,["expireTime"],o);const a=l(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&s(n,["newSessionExpireTime"],a);const u=l(e,["uses"]);n!==void 0&&u!=null&&s(n,["uses"],u);const r=l(e,["liveConnectConstraints"]);n!==void 0&&r!=null&&s(n,["bidiGenerateContentSetup"],EM(t,r));const c=l(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&s(n,["fieldMask"],c),i}function _M(t,e){const n={},i=l(e,["config"]);return i!=null&&s(n,["config"],AM(t,i,n)),n}function xM(t){const e={},n=l(t,["name"]);return n!=null&&s(e,["name"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MM(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const o=Object.keys(i).map(a=>`${n}.${a}`);e.push(...o)}else e.push(n)}return e.join(",")}function RM(t,e){let n=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const a=i.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const o=t.fieldMask;if(n){const a=MM(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?t.fieldMask=a:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const u=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let r=[];o.length>0&&(r=o.map(f=>u.includes(f)?`generationConfig.${f}`:f));const c=[];a&&c.push(a),r.length>0&&c.push(...r),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?t.fieldMask=o.join(","):delete t.fieldMask;return t}class NM extends Un{constructor(e){super(),this.apiClient=e}async create(e){var n,i;let o,a="",u={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const r=_M(this.apiClient,e);a=U("auth_tokens",r._url),u=r._query,delete r.config,delete r._url,delete r._query;const c=RM(r,e.config);return o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(f=>xM(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DM(t){const e={},n=l(t,["name"]);n!=null&&s(e,["_url","name"],n);const i=l(t,["config"]);return i!=null&&s(e,["config"],i),e}function bM(t,e){const n={},i=l(t,["pageSize"]);e!==void 0&&i!=null&&s(e,["_query","pageSize"],i);const o=l(t,["pageToken"]);e!==void 0&&o!=null&&s(e,["_query","pageToken"],o);const a=l(t,["filter"]);return e!==void 0&&a!=null&&s(e,["_query","filter"],a),n}function wM(t){const e={},n=l(t,["config"]);return n!=null&&s(e,["config"],bM(n,e)),e}function UM(t){const e={},n=l(t,["textInput"]);n!=null&&s(e,["textInput"],n);const i=l(t,["output"]);return i!=null&&s(e,["output"],i),e}function IM(t){const e={};if(l(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=l(t,["examples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>UM(o))),s(e,["examples","examples"],i)}return e}function qM(t,e){const n={};if(l(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=l(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&s(e,["displayName"],i),l(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=l(t,["epochCount"]);e!==void 0&&o!=null&&s(e,["tuningTask","hyperparameters","epochCount"],o);const a=l(t,["learningRateMultiplier"]);if(a!=null&&s(n,["tuningTask","hyperparameters","learningRateMultiplier"],a),l(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(l(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=l(t,["batchSize"]);e!==void 0&&u!=null&&s(e,["tuningTask","hyperparameters","batchSize"],u);const r=l(t,["learningRate"]);return e!==void 0&&r!=null&&s(e,["tuningTask","hyperparameters","learningRate"],r),n}function LM(t){const e={},n=l(t,["baseModel"]);n!=null&&s(e,["baseModel"],n);const i=l(t,["trainingDataset"]);i!=null&&s(e,["tuningTask","trainingData"],IM(i));const o=l(t,["config"]);return o!=null&&s(e,["config"],qM(o,e)),e}function VM(t){const e={},n=l(t,["name"]);n!=null&&s(e,["_url","name"],n);const i=l(t,["config"]);return i!=null&&s(e,["config"],i),e}function GM(t,e){const n={},i=l(t,["pageSize"]);e!==void 0&&i!=null&&s(e,["_query","pageSize"],i);const o=l(t,["pageToken"]);e!==void 0&&o!=null&&s(e,["_query","pageToken"],o);const a=l(t,["filter"]);return e!==void 0&&a!=null&&s(e,["_query","filter"],a),n}function PM(t){const e={},n=l(t,["config"]);return n!=null&&s(e,["config"],GM(n,e)),e}function BM(t,e){const n={},i=l(t,["gcsUri"]);e!==void 0&&i!=null&&s(e,["supervisedTuningSpec","trainingDatasetUri"],i);const o=l(t,["vertexDatasetResource"]);if(e!==void 0&&o!=null&&s(e,["supervisedTuningSpec","trainingDatasetUri"],o),l(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function HM(t,e){const n={},i=l(t,["gcsUri"]);i!=null&&s(n,["validationDatasetUri"],i);const o=l(t,["vertexDatasetResource"]);return e!==void 0&&o!=null&&s(e,["supervisedTuningSpec","trainingDatasetUri"],o),n}function zM(t,e){const n={},i=l(t,["validationDataset"]);e!==void 0&&i!=null&&s(e,["supervisedTuningSpec"],HM(i,n));const o=l(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&s(e,["tunedModelDisplayName"],o);const a=l(t,["description"]);e!==void 0&&a!=null&&s(e,["description"],a);const u=l(t,["epochCount"]);e!==void 0&&u!=null&&s(e,["supervisedTuningSpec","hyperParameters","epochCount"],u);const r=l(t,["learningRateMultiplier"]);e!==void 0&&r!=null&&s(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],r);const c=l(t,["exportLastCheckpointOnly"]);e!==void 0&&c!=null&&s(e,["supervisedTuningSpec","exportLastCheckpointOnly"],c);const f=l(t,["adapterSize"]);if(e!==void 0&&f!=null&&s(e,["supervisedTuningSpec","hyperParameters","adapterSize"],f),l(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(l(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return n}function kM(t){const e={},n=l(t,["baseModel"]);n!=null&&s(e,["baseModel"],n);const i=l(t,["trainingDataset"]);i!=null&&s(e,["supervisedTuningSpec","trainingDatasetUri"],BM(i,e));const o=l(t,["config"]);return o!=null&&s(e,["config"],zM(o,e)),e}function FM(t){const e={},n=l(t,["name"]);n!=null&&s(e,["model"],n);const i=l(t,["name"]);return i!=null&&s(e,["endpoint"],i),e}function Kg(t){const e={},n=l(t,["name"]);n!=null&&s(e,["name"],n);const i=l(t,["state"]);i!=null&&s(e,["state"],xg(i));const o=l(t,["createTime"]);o!=null&&s(e,["createTime"],o);const a=l(t,["tuningTask","startTime"]);a!=null&&s(e,["startTime"],a);const u=l(t,["tuningTask","completeTime"]);u!=null&&s(e,["endTime"],u);const r=l(t,["updateTime"]);r!=null&&s(e,["updateTime"],r);const c=l(t,["description"]);c!=null&&s(e,["description"],c);const f=l(t,["baseModel"]);f!=null&&s(e,["baseModel"],f);const d=l(t,["_self"]);d!=null&&s(e,["tunedModel"],FM(d));const m=l(t,["distillationSpec"]);m!=null&&s(e,["distillationSpec"],m);const p=l(t,["experiment"]);p!=null&&s(e,["experiment"],p);const g=l(t,["labels"]);g!=null&&s(e,["labels"],g);const T=l(t,["pipelineJob"]);T!=null&&s(e,["pipelineJob"],T);const S=l(t,["satisfiesPzi"]);S!=null&&s(e,["satisfiesPzi"],S);const _=l(t,["satisfiesPzs"]);_!=null&&s(e,["satisfiesPzs"],_);const y=l(t,["serviceAccount"]);y!=null&&s(e,["serviceAccount"],y);const h=l(t,["tunedModelDisplayName"]);return h!=null&&s(e,["tunedModelDisplayName"],h),e}function OM(t){const e={},n=l(t,["nextPageToken"]);n!=null&&s(e,["nextPageToken"],n);const i=l(t,["tunedModels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Kg(a))),s(e,["tuningJobs"],o)}return e}function YM(t){const e={},n=l(t,["name"]);n!=null&&s(e,["name"],n);const i=l(t,["metadata"]);i!=null&&s(e,["metadata"],i);const o=l(t,["done"]);o!=null&&s(e,["done"],o);const a=l(t,["error"]);return a!=null&&s(e,["error"],a),e}function JM(t){const e={},n=l(t,["checkpointId"]);n!=null&&s(e,["checkpointId"],n);const i=l(t,["epoch"]);i!=null&&s(e,["epoch"],i);const o=l(t,["step"]);o!=null&&s(e,["step"],o);const a=l(t,["endpoint"]);return a!=null&&s(e,["endpoint"],a),e}function QM(t){const e={},n=l(t,["model"]);n!=null&&s(e,["model"],n);const i=l(t,["endpoint"]);i!=null&&s(e,["endpoint"],i);const o=l(t,["checkpoints"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>JM(u))),s(e,["checkpoints"],a)}return e}function gu(t){const e={},n=l(t,["name"]);n!=null&&s(e,["name"],n);const i=l(t,["state"]);i!=null&&s(e,["state"],xg(i));const o=l(t,["createTime"]);o!=null&&s(e,["createTime"],o);const a=l(t,["startTime"]);a!=null&&s(e,["startTime"],a);const u=l(t,["endTime"]);u!=null&&s(e,["endTime"],u);const r=l(t,["updateTime"]);r!=null&&s(e,["updateTime"],r);const c=l(t,["error"]);c!=null&&s(e,["error"],c);const f=l(t,["description"]);f!=null&&s(e,["description"],f);const d=l(t,["baseModel"]);d!=null&&s(e,["baseModel"],d);const m=l(t,["tunedModel"]);m!=null&&s(e,["tunedModel"],QM(m));const p=l(t,["supervisedTuningSpec"]);p!=null&&s(e,["supervisedTuningSpec"],p);const g=l(t,["tuningDataStats"]);g!=null&&s(e,["tuningDataStats"],g);const T=l(t,["encryptionSpec"]);T!=null&&s(e,["encryptionSpec"],T);const S=l(t,["partnerModelTuningSpec"]);S!=null&&s(e,["partnerModelTuningSpec"],S);const _=l(t,["distillationSpec"]);_!=null&&s(e,["distillationSpec"],_);const y=l(t,["experiment"]);y!=null&&s(e,["experiment"],y);const h=l(t,["labels"]);h!=null&&s(e,["labels"],h);const v=l(t,["pipelineJob"]);v!=null&&s(e,["pipelineJob"],v);const C=l(t,["satisfiesPzi"]);C!=null&&s(e,["satisfiesPzi"],C);const A=l(t,["satisfiesPzs"]);A!=null&&s(e,["satisfiesPzs"],A);const N=l(t,["serviceAccount"]);N!=null&&s(e,["serviceAccount"],N);const M=l(t,["tunedModelDisplayName"]);return M!=null&&s(e,["tunedModelDisplayName"],M),e}function KM(t){const e={},n=l(t,["nextPageToken"]);n!=null&&s(e,["nextPageToken"],n);const i=l(t,["tuningJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>gu(a))),s(e,["tuningJobs"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $M extends Un{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new zo(Rn.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const i=await this.tuneMldevInternal(n);let o="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?o=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(o=i.name.split("/operations/")[0]),{name:o,state:lu.JOB_STATE_QUEUED}}}}async getInternal(e){var n,i,o,a;let u,r="",c={};if(this.apiClient.isVertexAI()){const f=VM(e);return r=U("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),u.then(d=>gu(d))}else{const f=DM(e);return r=U("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),u.then(d=>Kg(d))}}async listInternal(e){var n,i,o,a;let u,r="",c={};if(this.apiClient.isVertexAI()){const f=PM(e);return r=U("tuningJobs",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),u.then(d=>{const m=KM(d),p=new kf;return Object.assign(p,m),p})}else{const f=wM(e);return r=U("tunedModels",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),u.then(d=>{const m=OM(d),p=new kf;return Object.assign(p,m),p})}}async tuneInternal(e){var n,i;let o,a="",u={};if(this.apiClient.isVertexAI()){const r=kM(e);return a=U("tuningJobs",r._url),u=r._query,delete r.config,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>gu(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,i;let o,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=LM(e);return a=U("tunedModels",r._url),u=r._query,delete r.config,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>YM(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XM{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const ZM=1024*1024*8,WM=3,jM=1e3,eR=2,as="x-goog-upload-status";async function tR(t,e,n){var i,o,a;let u=0,r=0,c=new au(new Response),f="upload";for(u=t.size;r<u;){const m=Math.min(ZM,u-r),p=t.slice(r,r+m);r+m>=u&&(f+=", finalize");let g=0,T=jM;for(;g<WM&&(c=await n.request({path:"",body:p,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(r),"Content-Length":String(m)}}}),!(!((i=c==null?void 0:c.headers)===null||i===void 0)&&i[as]));)g++,await iR(T),T=T*eR;if(r+=m,((o=c==null?void 0:c.headers)===null||o===void 0?void 0:o[as])!=="active")break;if(u<=r)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const d=await(c==null?void 0:c.json());if(((a=c==null?void 0:c.headers)===null||a===void 0?void 0:a[as])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function nR(t){return{size:t.size,type:t.type}}function iR(t){return new Promise(e=>setTimeout(e,t))}class oR{async upload(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await tR(e,n,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await nR(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lR{create(e,n,i){return new aR(e,n,i)}}class aR{constructor(e,n,i){this.url=e,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pd="x-goog-api-key";class sR{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(pd)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(pd,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uR="gl-node/";class rR{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const i=aT(e,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion;const o=new sR(this.apiKey);this.apiClient=new Ex({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:uR+"web",uploader:new oR,downloader:new XM}),this.models=new zx(this.apiClient),this.live=new Vx(this.apiClient,o,new lR),this.batches=new D0(this.apiClient),this.chats=new IC(this.models,this.apiClient),this.caches=new bC(this.apiClient),this.files=new JC(this.apiClient),this.operations=new Wx(this.apiClient),this.authTokens=new NM(this.apiClient),this.tunings=new $M(this.apiClient)}}const cR="AIzaSyBjird_xybbPbNmyAS4ncbQ2mlKKjNHJVk",$g=new rR({apiKey:cR}),jl=(t,e)=>({inlineData:{data:t.split(",")[1],mimeType:e}}),ea=async(t,e)=>{try{const o=(await $g.models.generateContent({model:"gemini-2.5-flash",contents:{parts:t},...e&&{config:{responseMimeType:"application/json",responseSchema:e}}})).text;if(!o)throw new Error("Empty response from model.");return e?JSON.parse(o):o}catch(n){throw console.error("Gemini API Error:",n),new Error(`Error communicating with the AI model: ${n.message}`)}},fR=async(t,e,n,i,o,a,u)=>{const r=[{text:t}];e.forEach(_=>{r.push(jl(_,"image/png"))});const c={type:k.OBJECT,properties:{question:{type:k.STRING},options:{type:k.ARRAY,items:{type:k.STRING}},correctAnswerIndex:{type:k.NUMBER},explanation:{type:k.STRING},imageIndex:{type:k.NUMBER,nullable:!0,description:"Index of the image used for this question from the provided images array (0-based). Null if no image is used."}},required:["question","options","correctAnswerIndex","explanation"]},f={type:k.OBJECT,properties:{caseDescription:{type:k.STRING},questions:{type:k.ARRAY,items:c,minItems:a,maxItems:a}},required:["caseDescription","questions"]},d={type:k.OBJECT,properties:{mcqs:{type:k.ARRAY,items:c,description:"Standalone multiple-choice questions."},caseScenarios:{type:k.ARRAY,items:f,description:"Clinical case scenarios with their own questions."}},required:["mcqs","caseScenarios"]},m=u==="mix"?"Create a mix of easy, medium, and hard questions.":`Ensure ALL questions generated are of **${u}** difficulty.`,p=e.length>0?`You have been provided with ${e.length} images by the user. You MUST create some questions based on these images. When creating an image-based question, set the 'imageIndex' to the corresponding index of the image you used (0-based). For text-only questions, set 'imageIndex' to null.`:"No images were provided by the user; do not attempt to create image-based questions.",g=`
        You are an expert medical quiz creator. Based on the provided medical text and user-uploaded images, generate a set of questions.

        **Source Content:**
        The user has provided a medical text and ${e.length} images. The content is provided in a multi-part format. The text is first, followed by the images.

        **Your Task:**
        1. Generate exactly ${i} standalone MCQs.
        2. Generate exactly ${o} clinical case scenarios, each with exactly ${a} questions.
        3. ${p}
        4. ${m}
        5. **Custom User Instructions:** ${n||"None provided. Adhere to standard question generation."}
        6. **Crucial:** Ensure all information (stems, options, explanations) is derived strictly from the provided text and images. Avoid phrases like "According to the text".
        7. Return the result in the specified JSON format.
    `;r.unshift({text:g});const T=await ea(r,d);let S=[];if(T.mcqs&&S.push(...T.mcqs),T.caseScenarios&&T.caseScenarios.forEach(_=>{if(_.questions){const y=_.questions.map(h=>({...h,caseDescription:_.caseDescription}));S.push(...y)}}),S.length===0)throw new Error("The AI model failed to generate any questions. Try adjusting the inputs or the source document.");for(let _=S.length-1;_>0;_--){const y=Math.floor(Math.random()*(_+1));[S[_],S[y]]=[S[y],S[_]]}return{questions:S,images:e}},dR=async(t,e,n)=>{const i={type:k.OBJECT,properties:{is_valid:{type:k.BOOLEAN},reason:{type:k.STRING},flaw_type:{type:k.STRING,enum:["question","options","explanation","none","multiple_correct","no_correct","not_from_text"]}},required:["is_valid","reason","flaw_type"]},o={type:k.OBJECT,properties:{question:{type:k.STRING},options:{type:k.ARRAY,items:{type:k.STRING}},correctAnswerIndex:{type:k.NUMBER},explanation:{type:k.STRING},imageIndex:{type:k.NUMBER,nullable:!0}},required:["question","options","correctAnswerIndex","explanation"]},a=`Act as a strict medical question auditor. Critically audit the following medical question based ONLY on the provided source text and user-uploaded images.
    Criteria:
    1.  **Source Adherence:** Is ALL information (stem, options, explanation) derived *strictly* and *accurately* from the source content?
    2.  **Clarity & Validity:** Is there *only one* unambiguously correct answer? Are distractors plausible but incorrect?
    3.  **Image Usage:** If 'imageIndex' is not null, does the question correctly relate to the specified image?

    If valid, return {"is_valid": true, "reason": "None", "flaw_type": "none"}.
    If flawed, return {"is_valid": false, "reason": "[Brief description of flaw]", "flaw_type": "[Choose from: question, options, explanation, not_from_text, etc.]"}.

    **Question to Audit:** ${JSON.stringify(t)}
    Return your verdict as a JSON object.`,u=[{text:e},...n.map(d=>jl(d,"image/png"))];u.unshift({text:a});const r=await ea(u,i);if(r&&r.is_valid)return{...t,is_flawed:!1};const c=`Based ONLY on the source text/images, correct the following medical question. The auditor identified a flaw in the **${r.flaw_type}**: "${r.reason}".
    Ensure the corrected question is accurate.
    **Source Content is provided in multi-part format.**
    **Flawed Question:** ${JSON.stringify(t)}
    Return the complete, corrected question object in JSON format.`,f=[{text:e},...n.map(d=>jl(d,"image/png"))];f.unshift({text:c});try{const d=await ea(f,{type:k.OBJECT,properties:{corrected_question:o}});if(d&&d.corrected_question)return{...d.corrected_question,caseDescription:t.caseDescription,is_flawed:!1}}catch(d){console.error("Correction attempt failed:",d)}return{...t,is_flawed:!0}},mR=async(t,e,n)=>{if(!t.is_flawed)return t;const i={type:k.OBJECT,properties:{new_explanation:{type:k.STRING}},required:["new_explanation"]},o=t.options[t.correctAnswerIndex],a=`Based ONLY on the source text/images, rewrite the explanation for this question to clearly and accurately justify why the specified correct answer is correct. This question was flagged as flawed, so pay extra attention to accuracy.
     **Source Content is provided in multi-part format.**
     **Question:** ${t.question}
     **Correct Answer Option Content:** ${o}
     **Current Explanation (for context):** ${t.explanation||"None provided"}
     Return the rewritten explanation in JSON with key 'new_explanation'.`,u=[{text:e},...n.map(r=>jl(r,"image/png"))];u.unshift({text:a});try{const r=await ea(u,i);if(r&&r.new_explanation)return{...t,explanation:r.new_explanation}}catch(r){console.error("Explanation refinement failed:",r)}return t},pR=async(t,e)=>{const n=`Based **only** on the following medical document, answer the user's question.
If the information is not in the document, state that you cannot find the answer in the provided text.
Answer in Arabic.

--- DOCUMENT START ---
${t}
--- DOCUMENT END ---

QUESTION: "${e}"
`;try{return await $g.models.generateContentStream({model:"gemini-2.5-flash",contents:n})}catch(i){throw console.error("Gemini API Stream Error:",i),new Error(`Error communicating with the AI model: ${i.message}`)}},hu=(t,e)=>e.some(n=>t instanceof n);let gd,hd;function gR(){return gd||(gd=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hR(){return hd||(hd=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yu=new WeakMap,ss=new WeakMap,Ea=new WeakMap;function yR(t){const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("success",a),t.removeEventListener("error",u)},a=()=>{n(Sn(t.result)),o()},u=()=>{i(t.error),o()};t.addEventListener("success",a),t.addEventListener("error",u)});return Ea.set(e,t),e}function vR(t){if(yu.has(t))return;const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",u),t.removeEventListener("abort",u)},a=()=>{n(),o()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",a),t.addEventListener("error",u),t.addEventListener("abort",u)});yu.set(t,e)}let vu={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return yu.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Sn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Xg(t){vu=t(vu)}function TR(t){return hR().includes(t)?function(...e){return t.apply(Tu(this),e),Sn(this.request)}:function(...e){return Sn(t.apply(Tu(this),e))}}function CR(t){return typeof t=="function"?TR(t):(t instanceof IDBTransaction&&vR(t),hu(t,gR())?new Proxy(t,vu):t)}function Sn(t){if(t instanceof IDBRequest)return yR(t);if(ss.has(t))return ss.get(t);const e=CR(t);return e!==t&&(ss.set(t,e),Ea.set(e,t)),e}const Tu=t=>Ea.get(t);function SR(t,e,{blocked:n,upgrade:i,blocking:o,terminated:a}={}){const u=indexedDB.open(t,e),r=Sn(u);return i&&u.addEventListener("upgradeneeded",c=>{i(Sn(u.result),c.oldVersion,c.newVersion,Sn(u.transaction),c)}),n&&u.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),r.then(c=>{a&&c.addEventListener("close",()=>a()),o&&c.addEventListener("versionchange",f=>o(f.oldVersion,f.newVersion,f))}).catch(()=>{}),r}const ER=["get","getKey","getAll","getAllKeys","count"],AR=["put","add","delete","clear"],us=new Map;function yd(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(us.get(e))return us.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=AR.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||ER.includes(n)))return;const a=async function(u,...r){const c=this.transaction(u,o?"readwrite":"readonly");let f=c.store;return i&&(f=f.index(r.shift())),(await Promise.all([f[n](...r),o&&c.done]))[0]};return us.set(e,a),a}Xg(t=>({...t,get:(e,n,i)=>yd(e,n)||t.get(e,n,i),has:(e,n)=>!!yd(e,n)||t.has(e,n)}));const _R=["continue","continuePrimaryKey","advance"],vd={},Cu=new WeakMap,Zg=new WeakMap,xR={get(t,e){if(!_R.includes(e))return t[e];let n=vd[e];return n||(n=vd[e]=function(...i){Cu.set(this,Zg.get(this)[e](...i))}),n}};async function*MR(...t){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...t)),!e)return;e=e;const n=new Proxy(e,xR);for(Zg.set(n,e),Ea.set(n,Tu(e));e;)yield n,e=await(Cu.get(n)||e.continue()),Cu.delete(n)}function Td(t,e){return e===Symbol.asyncIterator&&hu(t,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&hu(t,[IDBIndex,IDBObjectStore])}Xg(t=>({...t,get(e,n,i){return Td(e,n)?MR:t.get(e,n,i)},has(e,n){return Td(e,n)||t.has(e,n)}}));const RR="AIQuizDB",En="processed_pdfs",NR=2;let rs;const Aa=()=>(rs||(rs=SR(RR,NR,{upgrade(t,e){e<2&&(t.objectStoreNames.contains(En)&&t.deleteObjectStore(En),t.createObjectStore(En,{keyPath:"id",autoIncrement:!0}).createIndex("createdAt","createdAt"))}})),rs),DR=async t=>{const e=await Aa(),{text:n,filename:i}=t,a={...{text:n,filename:i},createdAt:new Date};return e.add(En,a)},bR=async()=>{const e=await(await Aa()).getAll(En);return e.sort((n,i)=>i.createdAt.getTime()-n.createdAt.getTime()),e.map(({id:n,filename:i,createdAt:o})=>({id:n,filename:i,createdAt:o}))},Wg=async t=>(await Aa()).get(En,t),wR=async t=>(await Aa()).delete(En,t),UR=(t,e=1)=>{const n=JSON.stringify(t,null,2).replace(/\\/g,"\\\\").replace(/`/g,"\\`").replace(/\$/g,"\\$"),i="quizApp"+Date.now();return`<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WATFA-PEDIA Medical Quiz (Part ${e})</title>
    <script src="https://cdn.tailwindcss.com"><\/script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --ms-blue: #0078D4; --ms-light-blue: #DEECF9; --ms-dark-blue: #005A9E;
            --ms-correct-green: #107C10; --ms-incorrect-red: #D83B01;
            --ms-correct-bg: #DFF6DD; --ms-incorrect-bg: #FDE7E9;
            --ms-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        body { font-family: 'Segoe UI', 'Tajawal', sans-serif; color: #323130; background-color: #f0f2f5; }
        .app-bg {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(45deg, #1d2b64, #f8cdda, #1d2b64, #f8cdda);
            background-size: 300% 300%; animation: animated-gradient 20s ease-in-out infinite; z-index: -1;
        }
        @keyframes animated-gradient { 0% { background-position: 0% 50% } 50% { background-position: 100% 50% } 100% { background-position: 0% 50% } }
        
        .container-main { background-color: #ffffff; text-align: right; }
        .page { display: none; }
        .page.active { display: block; animation: page-fade-in .5s ease-out forwards; }
        @keyframes page-fade-in { from { opacity: 0; transform: translateY(20px) } to { opacity: 1; transform: translateY(0) } }
        
        .question-card, .case-card { background-color: #ffffff; border: 1px solid #e5e7eb; }
        .option-label { cursor: pointer; padding: .75rem; border: 2px solid #e5e7eb; border-radius: .375rem; transition: all .2s; }
        .option-label:hover { border-color: var(--ms-blue); background-color: var(--ms-light-blue); }
        
        .review-page .option-label.correct-answer { background-color: var(--ms-correct-bg) !important; border-color: var(--ms-correct-green) !important; }
        .review-page .option-label.incorrect-answer { background-color: var(--ms-incorrect-bg) !important; border-color: var(--ms-incorrect-red) !important; }
        .basmaja-page .basmaja-correct-answer { background-color: var(--ms-correct-bg) !important; border-color: var(--ms-correct-green) !important; }

        .btn-primary { background-color: var(--ms-blue); color: white; transition: all .3s ease; box-shadow: 0 2px 4px rgba(0,0,0,.2); }
        .btn-primary:hover { background-color: var(--ms-dark-blue); transform: translateY(-2px); box-shadow: 0 4px 8px rgba(0,0,0,.2); }
        .btn-secondary { background-color: #6c757d; color: white; }
        
        .flawed-question-warning { background-color: #fffbeb; border-right: 4px solid #f59e0b; color: #b45309; padding: .75rem; margin-bottom: 1rem; border-radius: .375rem; }
    </style>
</head>
<body class="text-slate-800">
    <div class="app-bg"></div>
    <div id="app-container" class="max-w-4xl mx-auto p-4 md:p-8">
        <!-- All pages will be rendered here by JS -->
    </div>

<script type="module">
    // --- Start of Quiz Application ---
    function ${i}() {
        const quizData = JSON.parse(\`${n}\`);
        const successMessages = ${JSON.stringify(eT)};
        const failureMessages = ${JSON.stringify(tT)};

        const appContainer = document.getElementById('app-container');
        let userAnswers = [];
        let currentPage = 'landing';

        function render() {
            appContainer.innerHTML = '';
            let pageElement;
            switch(currentPage) {
                case 'quiz': pageElement = createQuizPage(); break;
                case 'results': pageElement = createResultsPage(); break;
                case 'review': pageElement = createReviewPage(); break;
                case 'basmaja': pageElement = createBasmajaPage(); break;
                case 'landing':
                default: pageElement = createLandingPage(); break;
            }
            if (pageElement) {
                appContainer.appendChild(pageElement);
            }
        }

        function createLandingPage() {
            const page = document.createElement('div');
            page.className = 'page active text-center container-main p-8 rounded-lg shadow-lg';
            page.innerHTML = \`
                <h1 class="text-4xl font-bold mb-2">WATFA-PEDIA Medical Quiz</h1>
                <h2 class="text-2xl text-gray-600 mb-4">Part ${e}</h2>
                <p class="mb-8">اختبر معلوماتك في المفاهيم الطبية المقدمة.</p>
                <div class="flex flex-col sm:flex-row gap-4 justify-center mb-8">
                    <button id="start-quiz-btn" class="btn-primary font-bold py-3 px-8 rounded-lg text-lg">ابدأ الاختبار</button>
                    <button id="basmaja-btn" class="btn-secondary font-bold py-3 px-8 rounded-lg text-lg" style="font-family:'Tajawal',sans-serif">💡 بصمجة</button>
                </div>
                <a href="https://t.me/watfapedia_major" target="_blank" class="inline-flex items-center justify-center py-2 px-4 mt-4 rounded-full bg-slate-100 text-cyan-600 no-underline transition-transform hover:scale-105 shadow-md"><svg class="w-5 h-5 ml-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path></svg><span>اشترك في قناة WATFA-PEDIA</span></a>
            \`;
            page.querySelector('#start-quiz-btn').addEventListener('click', () => {
                userAnswers = quizData.questions.map((q, index) => ({ questionIndex: index, selectedOption: null, isCorrect: null, isFlawed: q.is_flawed }));
                currentPage = 'quiz';
                render();
            });
            page.querySelector('#basmaja-btn').addEventListener('click', () => {
                currentPage = 'basmaja';
                render();
            });
            return page;
        }

        function createQuizPage() {
            const page = document.createElement('div');
            page.className = 'page active';
            let currentQIndex = 0;

            const renderQuestion = () => {
                page.innerHTML = ''; // Clear previous question
                const validQuestions = quizData.questions.filter(q => !q.is_flawed);
                if (currentQIndex >= validQuestions.length) {
                    currentPage = 'results';
                    render();
                    return;
                }
                const question = validQuestions[currentQIndex];
                if (!question) return;

                const originalIndex = quizData.questions.indexOf(question);
                const answerState = userAnswers.find(a => a.questionIndex === originalIndex);
                const showFeedback = answerState.selectedOption !== null;
                const questionImage = question.imageIndex != null ? quizData.images[question.imageIndex] : null;

                let optionsHtml = '';
                question.options.forEach((option, optIndex) => {
                    const isSelected = answerState.selectedOption === optIndex;
                    const isCorrectAnswer = question.correctAnswerIndex === optIndex;
                    let optionClass = "option-label block";

                    if (showFeedback) {
                        optionClass += " cursor-not-allowed";
                        if (isCorrectAnswer) optionClass += " bg-green-100 border-green-500 text-green-800 font-bold";
                        else if (isSelected) optionClass += " bg-red-100 border-red-500 text-red-800";
                        else optionClass += " border-gray-200 bg-gray-50 opacity-60";
                    } else {
                        optionClass += " border-gray-300 hover:bg-blue-50 hover:border-blue-400";
                        if (isSelected) optionClass += " bg-blue-100 border-blue-500";
                    }
                    optionsHtml += '<div data-opt-index="' + optIndex + '" class="' + optionClass + '"><p class="p-3">' + String.fromCharCode(65 + optIndex) + '. ' + option + '</p></div>';
                });
                
                let caseHtml = question.caseDescription ? '<div class="case-card p-4 rounded-lg mb-4 bg-blue-50 border-r-4 border-blue-300"><h3 class="font-bold text-lg text-blue-800">الحالة السريرية</h3><p class="mt-2 text-gray-700">' + question.caseDescription + '</p></div>' : '';
                let imageHtml = questionImage ? '<div class="my-4 flex justify-center"><img src="' + questionImage + '" alt="Question visual" class="max-w-full md:max-w-md rounded-lg shadow-md" /></div>' : '';

                let feedbackHtml = '';
                if(showFeedback){
                    const isCorrect = answerState.isCorrect;
                    feedbackHtml = '<div class="mt-4 p-4 rounded-lg border-r-4 ' + (isCorrect ? 'bg-green-50 border-green-500' : 'bg-red-50 border-red-500') + '">' +
                        '<h4 class="font-bold ' + (isCorrect ? 'text-green-800' : 'text-red-800') + '">' + 
                        (isCorrect ? "إجابة صحيحة! أحسنت." : 'إجابة خاطئة. الإجابة الصحيحة هي: ' + String.fromCharCode(65 + question.correctAnswerIndex)) + '</h4>' +
                        '<p class="text-gray-700 mt-2">' + question.explanation + '</p></div>';
                }
                
                let nextButtonHtml = (currentQIndex === validQuestions.length - 1 && showFeedback) ?
                    '<button id="finish-btn" class="btn-primary font-bold py-2 px-8 rounded-lg text-lg animate-pulse">إنهاء الاختبار</button>' :
                    '<button id="next-btn" ' + (!showFeedback || currentQIndex === validQuestions.length - 1 ? 'disabled' : '') + ' class="btn-primary font-bold py-2 px-6 rounded-lg flex items-center disabled:opacity-50 disabled:cursor-not-allowed">التالي</button>';

                const questionContainer = document.createElement('div');
                questionContainer.className = "container-main p-6 rounded-lg shadow-lg";
                questionContainer.innerHTML = \`
                    <div class="w-full bg-gray-200 rounded-full h-2.5 mb-6"><div class="bg-blue-600 h-2.5 rounded-full transition-all duration-300" style="width: \${((currentQIndex + 1) / validQuestions.length) * 100}%"></div></div>
                    <div class="question-card p-6 rounded-lg mb-6">
                        \${caseHtml}
                        <p class="font-bold text-lg mb-4">السؤال \${currentQIndex + 1} من \${validQuestions.length}: \${question.question}</p>
                        \${imageHtml}
                        <div class="space-y-3 options-container">\${optionsHtml}</div>
                        \${feedbackHtml}
                    </div>
                    <div class="flex justify-between items-center mt-6">
                        <button id="prev-btn" \${currentQIndex === 0 ? 'disabled' : ''} class="btn-secondary font-bold py-2 px-6 rounded-lg flex items-center disabled:opacity-50 disabled:cursor-not-allowed">السابق</button>
                        \${nextButtonHtml}
                    </div>
                \`;
                page.appendChild(questionContainer);

                page.querySelector('.options-container').addEventListener('click', e => {
                     const target = e.target.closest('.option-label');
                     if (target && answerState.selectedOption === null) {
                        const optIndex = parseInt(target.dataset.optIndex, 10);
                        answerState.selectedOption = optIndex;
                        answerState.isCorrect = optIndex === question.correctAnswerIndex;
                        renderQuestion();
                     }
                });

                page.querySelector('#prev-btn')?.addEventListener('click', () => { if (currentQIndex > 0) { currentQIndex--; renderQuestion(); }});
                page.querySelector('#next-btn')?.addEventListener('click', () => { if (currentQIndex < validQuestions.length - 1) { currentQIndex++; renderQuestion(); }});
                page.querySelector('#finish-btn')?.addEventListener('click', () => { currentPage = 'results'; render(); });
            };
            
            renderQuestion();
            return page;
        }
        
        function createResultsPage() {
            const page = document.createElement('div');
            page.className = 'page active text-center container-main p-8 rounded-lg shadow-lg';
            
            const validQuestionsCount = userAnswers.filter(a => !a.isFlawed).length;
            const correctAnswersCount = userAnswers.filter(ans => ans.isCorrect).length;
            const percentage = validQuestionsCount > 0 ? (correctAnswersCount / validQuestionsCount) * 100 : 0;
            const message = percentage >= 60 ? successMessages[Math.floor(Math.random() * successMessages.length)] : failureMessages[Math.floor(Math.random() * failureMessages.length)];
            
            page.innerHTML = \`
                <h2 class="text-3xl font-bold mb-4">نتائج الاختبار</h2>
                <p class="text-xl mb-2">نتيجتك: <span class="font-bold">\${correctAnswersCount} / \${validQuestionsCount} (\${percentage.toFixed(1)}%)</span></p>
                <p class="text-lg font-semibold my-6 \${percentage >= 60 ? 'text-green-700' : 'text-red-700'}">\${message}</p>
                <div class="flex flex-col sm:flex-row justify-center gap-4 mt-6">
                    <button id="review-btn" class="btn-primary font-bold py-2 px-6 rounded-lg">مراجعة الإجابات</button>
                    <button id="retake-btn" class="btn-secondary font-bold py-2 px-6 rounded-lg">إعادة الاختبار</button>
                    <button id="home-btn" class="btn-secondary font-bold py-2 px-6 rounded-lg">العودة للرئيسية</button>
                </div>
            \`;
            page.querySelector('#review-btn').addEventListener('click', () => { currentPage = 'review'; render(); });
            page.querySelector('#retake-btn').addEventListener('click', () => {
                userAnswers = quizData.questions.map((q, index) => ({ questionIndex: index, selectedOption: null, isCorrect: null, isFlawed: q.is_flawed }));
                currentPage = 'quiz';
                render();
            });
            page.querySelector('#home-btn').addEventListener('click', () => { currentPage = 'landing'; render(); });
            return page;
        }

        function createReviewPage() {
            const page = document.createElement('div');
            page.className = 'page active review-page container-main p-6 rounded-lg shadow-lg';
            
            let questionsHtml = '';
            quizData.questions.forEach((q, index) => {
                if (q.is_flawed) return;
                const userAnswer = userAnswers.find(a => a.questionIndex === index);
                const isCorrect = userAnswer.isCorrect;
                const questionImage = q.imageIndex != null ? quizData.images[q.imageIndex] : null;

                const optionsHtml = q.options.map((opt, optIndex) => {
                    let classes = "option-label block";
                    if (optIndex === q.correctAnswerIndex) classes += " correct-answer";
                    else if (userAnswer.selectedOption === optIndex) classes += " incorrect-answer";
                    return '<div class="' + classes + ' p-3 rounded-md border-2">' + String.fromCharCode(65 + optIndex) + '. ' + opt + '</div>';
                }).join("");

                questionsHtml += \`
                    <div class="question-card p-6 rounded-lg mb-6">
                        \${q.caseDescription ? \`<div class="case-card p-4 rounded-lg mb-4 bg-blue-50 border-r-4 border-blue-300"><h3 class="font-bold text-lg text-blue-800">الحالة السريرية</h3><p class="mt-2 text-gray-700">\${q.caseDescription}</p></div>\` : ''}
                        <p class="font-bold text-lg mb-2">السؤال \${index + 1}: \${q.question}</p>
                        <div class="font-semibold mb-4 \${isCorrect ? "text-green-600" : (userAnswer.selectedOption !== null ? "text-red-600" : "text-gray-600")}">
                            \${isCorrect ? "صحيح" : (userAnswer.selectedOption !== null ? "غير صحيح" : "لم تتم الإجابة")}
                        </div>
                        \${questionImage ? \`<div class="my-4 flex justify-center"><img src="\${questionImage}" alt="Question visual" class="max-w-full md:max-w-md rounded-lg shadow-md" /></div>\` : ''}
                        <div class="space-y-3">\${optionsHtml}</div>
                        \${q.explanation ? \`<div class="mt-4 p-4 bg-green-50 border-r-4 border-green-500 rounded-lg"><h4 class="font-bold text-green-800">التوضيح</h4><p class="text-gray-700 mt-2">\${q.explanation}</p></div>\` : ""}
                    </div>
                \`;
            });

            page.innerHTML = \`
                <h2 class="text-3xl font-bold mb-6 text-center" style="font-family:'Tajawal',sans-serif">مراجعة الإجابات</h2>
                <div class="space-y-6">\${questionsHtml}</div>
                <button id="back-to-results-btn" class="btn-primary w-full font-bold py-3 px-4 rounded-lg mt-6">العودة للنتائج</button>
            \`;
            page.querySelector('#back-to-results-btn').addEventListener('click', () => { currentPage = 'results'; render(); });
            return page;
        }

        function createBasmajaPage() {
            const page = document.createElement('div');
            page.className = 'page active basmaja-page container-main p-6 rounded-lg shadow-lg';
            
            let questionsHtml = '';
            quizData.questions.forEach((q, index) => {
                const questionImage = q.imageIndex != null ? quizData.images[q.imageIndex] : null;
                const optionsHtml = q.options.map((opt, optIndex) =>
                    '<div class="p-3 rounded-md border-2 ' + (optIndex === q.correctAnswerIndex ? 'basmaja-correct-answer' : 'border-gray-300') + '">' + String.fromCharCode(65 + optIndex) + '. ' + opt + '</div>'
                ).join("");
                questionsHtml += \`
                    <div class="question-card p-6 rounded-lg mb-6">
                        \${q.is_flawed ? '<div class="flawed-question-warning"><strong>ملاحظة:</strong> هذا السؤال قيد المراجعة.</div>' : ''}
                        \${q.caseDescription ? \`<div class="case-card p-4 rounded-lg mb-4 bg-blue-50 border-r-4 border-blue-300"><h3 class="font-bold text-lg text-blue-800">الحالة السريرية</h3><p class="mt-2 text-gray-700">\${q.caseDescription}</p></div>\` : ''}
                        <p class="font-bold text-lg mb-4">السؤال \${index + 1}: \${q.question}</p>
                        \${questionImage ? \`<div class="my-4 flex justify-center"><img src="\${questionImage}" alt="Question visual" class="max-w-full md:max-w-md rounded-lg shadow-md" /></div>\` : ''}
                        <div class="space-y-3">\${optionsHtml}</div>
                        \${q.explanation ? \`<div class="mt-4 p-4 bg-green-50 border-r-4 border-green-500 rounded-lg"><h4 class="font-bold text-green-800">التوضيح</h4><p class="text-gray-700 mt-2">\${q.explanation}</p></div>\` : ""}
                    </div>
                \`;
            });

            page.innerHTML = \`
                <h2 class="text-3xl font-bold mb-6 text-center" style="font-family:'Tajawal',sans-serif">📚 بصمجة - كل الأسئلة والأجوبة</h2>
                <div>\${questionsHtml}</div>
                <button id="back-to-home-btn" class="btn-primary w-full font-bold py-3 px-4 rounded-lg mt-6">العودة للبداية</button>
            \`;
            page.querySelector('#back-to-home-btn').addEventListener('click', () => { currentPage = 'landing'; render(); });
            return page;
        }

        // Initial render
        render();
    }
    // Run the app
    ${i}();
<\/script>
</body>
</html>`},IR=({onPdfUpload:t,isProcessing:e,isDisabled:n})=>{const i=z.useRef(null),[o,a]=z.useState(null),u=f=>{var m;const d=(m=f.target.files)==null?void 0:m[0];d&&a(d)},r=()=>{o&&(t(o),a(null),i.current&&(i.current.value=""))},c=e||n||!o;return E.jsxs("div",{className:"bg-slate-800/70 backdrop-blur-lg p-6 rounded-lg shadow-lg border border-slate-700",children:[E.jsx("h3",{className:"text-2xl font-bold text-white mb-4 border-b-2 border-cyan-500 pb-2",children:"1. رفع PDF إلى المخزن"}),E.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[E.jsxs("div",{className:"relative flex-grow w-full bg-slate-700 border-2 border-dashed border-slate-600 text-slate-400 rounded-md p-4 text-center cursor-pointer hover:border-cyan-500 hover:text-white transition-colors",onClick:()=>{var f;return!n&&((f=i.current)==null?void 0:f.click())},children:[E.jsx("input",{type:"file",id:"pdf-file",name:"pdfFile",ref:i,className:"hidden",accept:"application/pdf",onChange:u,disabled:e||n}),o?E.jsx("span",{className:"text-green-400",children:o.name}):E.jsx("span",{children:"انقر هنا لاختيار ملف PDF"})]}),E.jsxs("button",{onClick:r,disabled:c,className:"flex-shrink-0 bg-teal-600 hover:bg-teal-700 text-white font-bold py-3 px-6 rounded-lg transition duration-300 flex items-center justify-center disabled:bg-slate-500 disabled:cursor-not-allowed",children:[e?"جاري المعالجة...":"معالجة و إضافة",e&&E.jsx("div",{id:"loader",style:{display:"inline-block",marginLeft:"8px"}})]})]})]})},qR=({steps:t})=>E.jsxs("div",{className:"bg-slate-800/70 backdrop-blur-lg p-6 rounded-lg shadow-lg border border-slate-700",children:[E.jsx("h3",{className:"text-2xl font-bold text-white mb-4 border-b-2 border-cyan-500 pb-2",children:"مراحل التنفيذ التلقائي"}),E.jsx("ol",{className:"space-y-3",children:t.map(e=>E.jsxs("li",{className:`protocol-item bg-slate-900/50 p-3 rounded-md border-l-4 border-slate-600 ${e.status}`,children:[E.jsxs("strong",{children:[e.text.split(":")[0],":"]}),e.text.split(":")[1]]},e.id))})]}),LR=({logs:t})=>{const e=z.useRef(null);z.useEffect(()=>{e.current&&(e.current.scrollTop=e.current.scrollHeight)},[t]);const n=i=>{switch(i){case"error":return"text-red-400 font-semibold";case"success":return"text-green-400 font-semibold";default:return"text-slate-400"}};return E.jsx("div",{ref:e,className:"space-y-2 h-96 md:h-auto overflow-y-auto bg-black/50 p-3 rounded-md text-sm",children:t.map(i=>E.jsxs("p",{className:`log-message ${n(i.type)}`,children:[E.jsxs("span",{className:"font-sans",children:["[",new Date().toLocaleTimeString(),"]"]})," ",i.message]},i.id))})},VR=({isOpen:t,onClose:e,title:n,children:i})=>t?E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-50 flex justify-center items-center p-4",onClick:e,"aria-modal":"true",role:"dialog",children:E.jsxs("div",{className:"bg-slate-800 text-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] flex flex-col",onClick:o=>o.stopPropagation(),children:[E.jsxs("header",{className:"flex justify-between items-center p-4 border-b border-slate-700",children:[E.jsx("h2",{className:"text-xl font-bold",children:n}),E.jsx("button",{onClick:e,className:"text-2xl font-bold hover:text-cyan-400",children:"×"})]}),E.jsx("main",{className:"p-6 overflow-y-auto",children:i})]})}):null,GR=({onSelectPdf:t,selectedPdfId:e,refreshKey:n})=>{const[i,o]=z.useState([]),[a,u]=z.useState(null),[r,c]=z.useState(!1),f=async()=>{const g=await bR();o(g)};z.useEffect(()=>{f()},[n]);const d=async g=>{const T=await Wg(g);T&&(u(T),c(!0))},m=async g=>{window.confirm("هل أنت متأكد من حذف هذا الملف من المخزن؟")&&(await wR(g),e===g&&t(null),f())},p=g=>{t(g)};return E.jsxs("div",{className:"bg-slate-800/70 backdrop-blur-lg p-6 rounded-lg shadow-lg border border-slate-700",children:[E.jsx("h3",{className:"text-2xl font-bold text-white mb-4 border-b-2 border-cyan-500 pb-2",children:"2. اختيار من المخزن"}),E.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:i.length===0?E.jsx("p",{className:"text-slate-400 text-center py-4",children:"المخزن فارغ. قم برفع ملف PDF لتبدأ."}):i.map(g=>E.jsxs("div",{className:`flex flex-col sm:flex-row items-center justify-between p-3 rounded-md transition-all ${e===g.id?"bg-cyan-900/50 ring-2 ring-cyan-400":"bg-slate-900/50"}`,children:[E.jsxs("div",{className:"flex-grow mb-2 sm:mb-0 text-center sm:text-right",children:[E.jsx("p",{className:"font-bold text-white",children:g.filename}),E.jsx("p",{className:"text-xs text-slate-400",children:new Date(g.createdAt).toLocaleString("ar-EG")})]}),E.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[E.jsx("button",{onClick:()=>p(g.id),className:"bg-cyan-600 hover:bg-cyan-700 text-white text-xs font-bold py-1 px-3 rounded disabled:opacity-50",disabled:e===g.id,children:e===g.id?"محدد":"استخدام"}),E.jsx("button",{onClick:()=>d(g.id),className:"bg-slate-600 hover:bg-slate-500 text-white text-xs font-bold py-1 px-3 rounded",children:"عرض"}),E.jsx("button",{onClick:()=>m(g.id),className:"bg-red-700 hover:bg-red-800 text-white text-xs font-bold py-1 px-3 rounded",children:"حذف"})]})]},g.id))}),a&&E.jsx(VR,{isOpen:r,onClose:()=>c(!1),title:`عرض: ${a.filename}`,children:E.jsx("div",{className:"space-y-4",children:E.jsxs("div",{children:[E.jsx("h4",{className:"text-lg font-bold text-cyan-400 mb-2",children:"النص المستخرج:"}),E.jsx("textarea",{readOnly:!0,value:a.text,className:"w-full h-96 bg-slate-900 border border-slate-700 rounded-md p-2 text-sm text-slate-200"})]})})})]})},Cd=({onImagesChange:t,isDisabled:e})=>{const[n,i]=z.useState([]),o=z.useRef(null),a=r=>{const c=r.target.files;if(c){const f=Array.from(c).map(d=>new Promise((m,p)=>{const g=new FileReader;g.onload=T=>{var S;return m((S=T.target)==null?void 0:S.result)},g.onerror=p,g.readAsDataURL(d)}));Promise.all(f).then(d=>{const m=[...n,...d];i(m),t(m)})}o.current&&(o.current.value="")},u=r=>{const c=n.filter((f,d)=>d!==r);i(c),t(c)};return E.jsxs("div",{className:"bg-slate-800/70 backdrop-blur-lg p-6 rounded-lg shadow-lg border border-slate-700",children:[E.jsx("h3",{className:"text-2xl font-bold text-white mb-4 border-b-2 border-cyan-500 pb-2",children:"3. رفع صور مخصصة (اختياري)"}),E.jsxs("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 gap-4",children:[n.map((r,c)=>E.jsxs("div",{className:"relative group",children:[E.jsx("img",{src:r,alt:`Uploaded ${c}`,className:"w-full h-24 object-cover rounded-md"}),E.jsx("button",{onClick:()=>u(c),disabled:e,className:"absolute top-0 right-0 bg-red-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold opacity-0 group-hover:opacity-100 transition-opacity disabled:opacity-50","aria-label":"Remove image",children:"×"})]},c)),E.jsx("button",{onClick:()=>{var r;return(r=o.current)==null?void 0:r.click()},disabled:e,className:"w-full h-24 border-2 border-dashed border-slate-600 rounded-md flex items-center justify-center text-slate-400 hover:border-cyan-500 hover:text-white transition-colors disabled:cursor-not-allowed disabled:hover:border-slate-600",children:"+ إضافة"}),E.jsx("input",{type:"file",multiple:!0,accept:"image/*",ref:o,className:"hidden",onChange:a,disabled:e})]})]})},PR=({htmlContent:t})=>{const[e,n]=z.useState("preview"),[i,o]=z.useState("نسخ الكود"),a=()=>{navigator.clipboard.writeText(t).then(()=>{o("تم النسخ!"),setTimeout(()=>o("نسخ الكود"),2e3)}).catch(f=>{console.error("Failed to copy text: ",f),o("فشل النسخ"),setTimeout(()=>o("نسخ الكود"),2e3)})},u=()=>{const f=new Blob([t],{type:"text/html"}),d=document.createElement("a");d.href=URL.createObjectURL(f),d.download="WATFA-PEDIA_Quiz.html",document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(d.href)},[r,c]=z.useState(0);return z.useEffect(()=>{c(f=>f+1)},[t]),E.jsxs("div",{className:"bg-slate-800/70 backdrop-blur-lg p-6 rounded-lg shadow-lg border border-slate-700",children:[E.jsxs("div",{className:"flex justify-between items-center mb-4",children:[E.jsx("h3",{className:"text-2xl font-bold text-white",children:"النتيجة النهائية"}),E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("button",{onClick:()=>n("preview"),className:`py-2 px-4 rounded-md text-sm font-semibold transition-colors ${e==="preview"?"bg-cyan-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"معاينة حية"}),E.jsx("button",{onClick:()=>n("code"),className:`py-2 px-4 rounded-md text-sm font-semibold transition-colors ${e==="code"?"bg-cyan-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"عرض الكود"})]})]}),E.jsxs("div",{className:"mt-4",children:[e==="preview"&&E.jsx("div",{id:"preview-panel",children:E.jsx("iframe",{id:"preview-iframe",srcDoc:t,className:"w-full h-[75vh] bg-white rounded-md border border-slate-600",title:"Quiz Preview",sandbox:"allow-scripts"},r)}),e==="code"&&E.jsxs("div",{id:"code-panel",children:[E.jsxs("div",{className:"flex items-center justify-end gap-2 mb-2",children:[E.jsx("button",{onClick:a,className:"bg-slate-600 hover:bg-slate-500 text-white text-xs font-bold py-1 px-3 rounded",children:i}),E.jsx("button",{onClick:u,className:"bg-teal-600 hover:bg-teal-500 text-white text-xs font-bold py-1 px-3 rounded",children:"تنزيل الكود"})]}),E.jsx("pre",{className:"bg-black/50 p-4 rounded-md overflow-auto h-[75vh]",children:E.jsx("code",{className:"language-html text-sm text-white whitespace-pre-wrap",children:t})})]})]})]})},BR=({className:t})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t||"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})}),HR=({className:t})=>E.jsx("svg",{className:t||"w-6 h-6 mr-3 rtl:ml-3 rtl:mr-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})}),zR=({className:t})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t||"w-6 h-6",viewBox:"0 0 24 24",fill:"currentColor",children:E.jsx("path",{d:"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"})}),Sd=({documentText:t})=>{const[e,n]=z.useState([]),[i,o]=z.useState(""),[a,u]=z.useState(!1),r=z.useRef(null);z.useEffect(()=>{var f;(f=r.current)==null||f.scrollIntoView({behavior:"smooth"})},[e]);const c=async()=>{if(!i.trim()||a)return;const f={sender:"user",text:i};n(m=>[...m,f]);const d=i;o(""),u(!0),n(m=>[...m,{sender:"ai",text:""}]);try{const m=await pR(t,d);for await(const p of m){const g=p.text;n(T=>{const S=[...T],_=S[S.length-1];return _&&_.sender==="ai"&&(_.text+=g),S})}}catch(m){console.error(m),n(p=>{const g=[...p],T=g[g.length-1];return T&&T.sender==="ai"&&(T.text="عفوًا، حدث خطأ أثناء التواصل مع النموذج. الرجاء المحاولة مرة أخرى."),g})}finally{u(!1)}};return E.jsxs("div",{className:"bg-slate-800/70 backdrop-blur-lg p-6 rounded-lg shadow-lg border border-slate-700",children:[E.jsx("h3",{className:"text-2xl font-bold text-white mb-4 border-b-2 border-cyan-500 pb-2",children:"أسئلة سريعة حول المستند"}),E.jsxs("div",{className:"h-80 bg-slate-900/50 rounded-lg p-4 overflow-y-auto flex flex-col gap-4 mb-4",children:[e.length===0?E.jsx("div",{className:"flex-grow flex items-center justify-center text-slate-400",children:"اطرح سؤالاً للبدء..."}):e.map((f,d)=>E.jsx("div",{className:`flex ${f.sender==="user"?"justify-end":"justify-start"}`,children:E.jsxs("div",{className:`max-w-xl lg:max-w-2xl px-4 py-2 rounded-lg whitespace-pre-wrap ${f.sender==="user"?"bg-cyan-600 text-white":"bg-slate-700 text-slate-200"}`,children:[f.text,a&&f.sender==="ai"&&d===e.length-1&&E.jsx("span",{className:"inline-block w-2 h-2 ml-1 bg-white rounded-full animate-pulse"})]})},d)),E.jsx("div",{ref:r})]}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("input",{type:"text",value:i,onChange:f=>o(f.target.value),onKeyPress:f=>f.key==="Enter"&&c(),placeholder:"اسأل عن أي شيء في المستند...",className:"flex-grow bg-slate-700 border-slate-600 text-white rounded-md p-3 focus:outline-none focus:ring-2 focus:ring-cyan-500",disabled:a}),E.jsx("button",{onClick:c,disabled:a||!i.trim(),className:"bg-cyan-600 hover:bg-cyan-700 text-white font-bold py-3 px-5 rounded-lg transition duration-300 flex items-center justify-center disabled:bg-slate-500 disabled:cursor-not-allowed","aria-label":"إرسال",children:a?E.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):E.jsx(zR,{className:"w-5 h-5"})})]})]})},kR=()=>{const[t,e]=z.useState(Ne.IDLE),[n,i]=z.useState(null),[o,a]=z.useState(Zc),[u,r]=z.useState([]),[c,f]=z.useState(null),[d,m]=z.useState(!1),[p,g]=z.useState(null),[T,S]=z.useState(0),[_,y]=z.useState(""),[h,v]=z.useState(null),[C,A]=z.useState([]),[N,M]=z.useState({mcqCount:5,caseCount:1,questionsPerCase:2,difficulty:"mix",customInstructions:""}),R=z.useCallback((O,ne="log")=>{r(at=>[...at,{id:at.length,message:O,type:ne}])},[]),D=z.useCallback((O,ne,at)=>{a($e=>$e.map(Vn=>Vn.id===O?{...Vn,status:ne,text:at||Vn.text}:Vn))},[]),w=()=>{a(Zc),r([]),f(null)},L=async O=>{m(!0),R(`جاري معالجة الملف: ${O.name}...`);try{const{text:ne}=await nT(O);await DR({filename:O.name,text:ne}),R(`✔ تم حفظ "${O.name}" في المخزن بنجاح.`,"success"),S(at=>at+1)}catch(ne){R(`❌ فشلت معالجة الملف: ${ne.message}`,"error")}finally{m(!1)}},fe=async O=>{if(g(O),O!==null){w(),e(Ne.IDLE);const ne=await Wg(O);v(ne?ne.text:null)}else v(null)},rn=O=>{const ne=O.target.value;y(ne),v(ne.trim()?ne:null)},In=async()=>{if(!h){R(n==="pdf"?"الرجاء تحديد ملف من المخزن أولاً.":"الرجاء إدخال النص الطبي المصدر أولاً.","error");return}w(),e(Ne.GENERATING);try{R("بدأت عملية التنفيذ.");const O=n==="pdf"?"سحب بيانات الملف المحدد":"تحليل النص المصدر";D("p0",ue.ACTIVE,`البروتوكول 0: ${O}`),R("✔ تم تجهيز البيانات المصدر بنجاح.","success"),D("p0",ue.DONE),D("p1",ue.ACTIVE),R("1. بدء البروتوكول 1: توليد المحتوى الطبي...");const{questions:ne,images:at}=await fR(h,C,N.customInstructions,N.mcqCount,N.caseCount,N.questionsPerCase,N.difficulty);R(`✔ اكتمل البروتوكول 1: تم إنشاء ${ne.length} سؤالًا.`,"success"),D("p1",ue.DONE);let $e={questions:ne,images:at};D("p2",ue.ACTIVE),R("2. بدء البروتوكول 2: تصحيح توزيع الإجابات (بالخلط العشوائي)."),$e.questions.sort(()=>Math.random()-.5),R("✔ اكتمل البروتوكول 2.","success"),D("p2",ue.DONE),D("p2.8",ue.ACTIVE),R("2.8. بدء البروتوكول 2.8: التدقيق النقدي والتصحيح الآلي.");const Vn=await Promise.all($e.questions.map(_a=>dR(_a,h,$e.images)));$e.questions=Vn,R("✔ اكتمل البروتوكول 2.8.","success"),D("p2.8",ue.DONE),D("p2.7",ue.ACTIVE),R("2.7. بدء البروتوكول 2.7: تدقيق وتحسين التفسيرات.");const eh=await Promise.all($e.questions.map(_a=>mR(_a,h,$e.images)));$e.questions=eh,R("✔ اكتمل البروتوكول 2.7.","success"),D("p2.7",ue.DONE),D("p3",ue.ACTIVE),R("3. بدء البروتوكول 3: توليد كود HTML للاختبار.");const th=UR($e);f(th),R("✔ اكتمل البروتوكول 3.","success"),D("p3",ue.DONE),D("p4",ue.ACTIVE),R("4. بدء البروتوكول 4: المراجعة النهائية والختام."),D("p4",ue.DONE),e(Ne.DONE_GENERATING),R("✅ اكتملت جميع البروتوكولات بنجاح! الاختبار جاهز للمعاينة والتنزيل.","success")}catch(O){const ne=O.message||"حدث خطأ غير معروف.";e(Ne.ERROR),R(`❌ خطأ فادح: ${ne}`,"error");const at=o.find($e=>$e.status==="active");at&&D(at.id,ue.ERROR)}},ye=O=>{M({...N,[O.target.name]:O.target.type==="number"?parseInt(O.target.value,10)||0:O.target.value})},b=()=>{i(null),w(),e(Ne.IDLE),g(null),y(""),A([]),v(null)},I=t===Ne.GENERATING,V=()=>E.jsxs("div",{className:"bg-slate-800/70 backdrop-blur-lg p-6 rounded-lg shadow-lg border border-slate-700",children:[E.jsx("h3",{className:"text-2xl font-bold text-white mb-4 border-b-2 border-cyan-500 pb-2",children:"4. إعدادات التوليد"}),E.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[E.jsxs("div",{children:[E.jsx("label",{htmlFor:"mcqCount",className:"block text-white text-sm font-bold mb-2",children:"عدد MCQ:"}),E.jsx("input",{type:"number",id:"mcqCount",name:"mcqCount",value:N.mcqCount,onChange:ye,min:"0",className:"w-full bg-slate-700 border-slate-600 text-white rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-cyan-500",disabled:I})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"caseCount",className:"block text-white text-sm font-bold mb-2",children:"عدد الحالات:"}),E.jsx("input",{type:"number",id:"caseCount",name:"caseCount",value:N.caseCount,onChange:ye,min:"0",className:"w-full bg-slate-700 border-slate-600 text-white rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-cyan-500",disabled:I})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"questionsPerCase",className:"block text-white text-sm font-bold mb-2",children:"أسئلة لكل حالة:"}),E.jsx("input",{type:"number",id:"questionsPerCase",name:"questionsPerCase",value:N.questionsPerCase,onChange:ye,min:"1",max:"5",className:"w-full bg-slate-700 border-slate-600 text-white rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-cyan-500",disabled:I})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"difficulty",className:"block text-white text-sm font-bold mb-2",children:"مستوى الصعوبة:"}),E.jsxs("select",{id:"difficulty",name:"difficulty",value:N.difficulty,onChange:ye,className:"w-full bg-slate-700 border-slate-600 text-white rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-cyan-500",disabled:I,children:[E.jsx("option",{value:"mix",children:"مزيج (افتراضي)"}),E.jsx("option",{value:"easy",children:"سهل"}),E.jsx("option",{value:"medium",children:"متوسط"}),E.jsx("option",{value:"hard",children:"صعب"})]})]})]}),E.jsxs("div",{className:"mb-6",children:[E.jsx("label",{htmlFor:"customInstructions",className:"block text-white text-sm font-bold mb-2",children:"تعليمات إضافية (اختياري):"}),E.jsx("textarea",{id:"customInstructions",name:"customInstructions",rows:3,value:N.customInstructions,onChange:ye,className:"w-full bg-slate-700 border-slate-600 text-white rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-cyan-500",placeholder:"مثال: ركز على أسئلة التشخيص، استخدم الصور المرفقة، اجعل الأسئلة قصيرة...",disabled:I})]}),E.jsxs("button",{onClick:In,disabled:I,className:"w-full bg-cyan-600 hover:bg-cyan-700 text-white font-bold py-3 px-4 rounded-lg transition duration-300 transform hover:scale-105 flex items-center justify-center disabled:bg-slate-500 disabled:cursor-not-allowed",children:[E.jsx("span",{children:I?"جاري التنفيذ...":"ابدأ التنفيذ الآن"}),I&&E.jsx("div",{id:"loader",style:{display:"inline-block",marginLeft:"8px"}})]})]}),ae=()=>E.jsxs("main",{className:"flex flex-col gap-8",children:[E.jsxs("button",{onClick:b,className:"self-start flex items-center gap-2 text-cyan-400 hover:text-cyan-200 transition-colors font-semibold",children:[E.jsx(BR,{className:"w-5 h-5"}),E.jsx("span",{children:"العودة إلى شاشة الاختيار"})]}),n==="pdf"?E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 w-full",children:[E.jsx(IR,{onPdfUpload:L,isProcessing:d,isDisabled:I}),E.jsx(GR,{onSelectPdf:fe,selectedPdfId:p,refreshKey:T})]}),h&&!I&&E.jsx(Sd,{documentText:h}),p!==null&&E.jsxs(E.Fragment,{children:[E.jsx(Cd,{onImagesChange:A,isDisabled:I}),V()]})]}):E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"bg-slate-800/70 backdrop-blur-lg p-6 rounded-lg shadow-lg border border-slate-700",children:[E.jsx("h3",{className:"text-2xl font-bold text-white mb-4 border-b-2 border-cyan-500 pb-2",children:"1. أدخل النص الطبي"}),E.jsx("textarea",{value:_,onChange:rn,rows:10,className:"w-full bg-slate-700 border-slate-600 text-white rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-cyan-500",placeholder:"ألصق النص الطبي الكامل هنا...",disabled:I})]}),h&&!I&&E.jsx(Sd,{documentText:h}),E.jsx(Cd,{onImagesChange:A,isDisabled:I}),V()]}),u.length>0&&E.jsx("div",{className:"bg-slate-800/70 backdrop-blur-lg p-6 rounded-lg shadow-lg border border-slate-700",children:E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[E.jsx("div",{className:"md:col-span-1",children:E.jsx(qR,{steps:o})}),E.jsx("div",{className:"md:col-span-2",children:E.jsx(LR,{logs:u})})]})}),t===Ne.DONE_GENERATING&&c&&E.jsx(PR,{htmlContent:c})]}),pe=()=>E.jsxs("main",{className:"page text-center container-glass p-8 rounded-lg max-w-4xl mx-auto text-slate-800",children:[E.jsx("h2",{className:"text-3xl font-bold mb-4",children:"كيف تريد إنشاء الاختبار؟"}),E.jsx("p",{className:"text-lg text-slate-600 mb-8",children:"اختر الطريقة التي تفضلها لتوفير المادة العلمية."}),E.jsxs("div",{className:"flex flex-col md:flex-row gap-6 justify-center",children:[E.jsx("button",{onClick:()=>i("text"),className:"flex-1 btn-primary font-bold py-6 px-8 rounded-lg text-xl transition-transform hover:scale-105",children:"توليد من نص"}),E.jsx("button",{onClick:()=>i("pdf"),className:"flex-1 btn-primary font-bold py-6 px-8 rounded-lg text-xl transition-transform hover:scale-105",style:{backgroundColor:"#005a9e"},children:"توليد من ملف PDF"})]})]}),qn=()=>n===null?pe():ae(),Ln=()=>{switch(t){case Ne.GENERATING:return"status-processing";case Ne.DONE_GENERATING:return"status-done";case Ne.ERROR:return"status-error";case Ne.PROCESSING_PDF:return"status-processing";default:return d?"status-processing":"status-ready"}},qi=()=>d?"جاري معالجة PDF...":t===Ne.GENERATING?"جاري توليد الأسئلة...":t===Ne.DONE_GENERATING?"اكتمل بنجاح":t===Ne.ERROR?"فشل التنفيذ":n===null?"في انتظار اختيارك":"جاهز لاستقبال الأوامر";return E.jsxs("div",{className:"container mx-auto p-4 md:p-8",children:[E.jsxs("header",{className:"text-center mb-8",children:[E.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-2",children:"نظام تنفيذ البروتوكول الشامل للذكاء الاصطناعي"}),E.jsx("h2",{className:"text-xl text-cyan-400 mb-4",children:"مولّد اختبارات طبي بالذكاء الاصطناعي"}),E.jsx("div",{children:E.jsx("span",{className:`status-badge ${Ln()}`,children:qi()})})]}),qn(),E.jsxs("footer",{className:"text-center mt-12 text-slate-400",children:[E.jsx("p",{children:"تم التطوير بواسطة الذكاء الاصطناعي مع الحفاظ على هوية WATFA-PEDIA الأصلية."}),E.jsxs("a",{href:"https://t.me/watfapedia_major",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center py-2 px-4 mt-4 rounded-full bg-slate-700/50 text-cyan-400 font-bold no-underline transition-transform hover:scale-105 shadow-lg",children:[E.jsx(HR,{className:"w-5 h-5 me-2 rtl:ml-2 rtl:mr-0"}),E.jsx("span",{children:"قناة WATFA-PEDIA على تيليجرام"})]})]})]})},jg=document.getElementById("root");if(!jg)throw new Error("Could not find root element to mount to");const FR=jv.createRoot(jg);FR.render(E.jsx(Th.StrictMode,{children:E.jsx(kR,{})}));
