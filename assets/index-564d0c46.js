(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function Ed(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ad={exports:{}},ta={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ih=Symbol.for("react.transitional.element"),oh=Symbol.for("react.fragment");function _d(t,e,n){var i=null;if(n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),"key"in e){n={};for(var o in e)o!=="key"&&(n[o]=e[o])}else n=e;return e=n.ref,{$$typeof:ih,type:t,key:i,ref:e!==void 0?e:null,props:n}}ta.Fragment=oh;ta.jsx=_d;ta.jsxs=_d;Ad.exports=ta;var E=Ad.exports,xd={exports:{}},G={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Su=Symbol.for("react.transitional.element"),lh=Symbol.for("react.portal"),ah=Symbol.for("react.fragment"),sh=Symbol.for("react.strict_mode"),uh=Symbol.for("react.profiler"),rh=Symbol.for("react.consumer"),ch=Symbol.for("react.context"),fh=Symbol.for("react.forward_ref"),dh=Symbol.for("react.suspense"),mh=Symbol.for("react.memo"),Md=Symbol.for("react.lazy"),Mr=Symbol.iterator;function ph(t){return t===null||typeof t!="object"?null:(t=Mr&&t[Mr]||t["@@iterator"],typeof t=="function"?t:null)}var Rd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Dd=Object.assign,Nd={};function Ai(t,e,n){this.props=t,this.context=e,this.refs=Nd,this.updater=n||Rd}Ai.prototype.isReactComponent={};Ai.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ai.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function bd(){}bd.prototype=Ai.prototype;function Eu(t,e,n){this.props=t,this.context=e,this.refs=Nd,this.updater=n||Rd}var Au=Eu.prototype=new bd;Au.constructor=Eu;Dd(Au,Ai.prototype);Au.isPureReactComponent=!0;var Rr=Array.isArray,oe={H:null,A:null,T:null,S:null,V:null},wd=Object.prototype.hasOwnProperty;function _u(t,e,n,i,o,l){return n=l.ref,{$$typeof:Su,type:t,key:e,ref:n!==void 0?n:null,props:l}}function gh(t,e){return _u(t.type,e,void 0,void 0,void 0,t.props)}function xu(t){return typeof t=="object"&&t!==null&&t.$$typeof===Su}function hh(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Dr=/\/+/g;function xa(t,e){return typeof t=="object"&&t!==null&&t.key!=null?hh(""+t.key):e.toString(36)}function Nr(){}function yh(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(Nr,Nr):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Bn(t,e,n,i,o){var l=typeof t;(l==="undefined"||l==="boolean")&&(t=null);var u=!1;if(t===null)u=!0;else switch(l){case"bigint":case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case Su:case lh:u=!0;break;case Md:return u=t._init,Bn(u(t._payload),e,n,i,o)}}if(u)return o=o(t),u=i===""?"."+xa(t,0):i,Rr(o)?(n="",u!=null&&(n=u.replace(Dr,"$&/")+"/"),Bn(o,e,n,"",function(f){return f})):o!=null&&(xu(o)&&(o=gh(o,n+(o.key==null||t&&t.key===o.key?"":(""+o.key).replace(Dr,"$&/")+"/")+u)),e.push(o)),1;u=0;var r=i===""?".":i+":";if(Rr(t))for(var c=0;c<t.length;c++)i=t[c],l=r+xa(i,c),u+=Bn(i,e,n,l,o);else if(c=ph(t),typeof c=="function")for(t=c.call(t),c=0;!(i=t.next()).done;)i=i.value,l=r+xa(i,c++),u+=Bn(i,e,n,l,o);else if(l==="object"){if(typeof t.then=="function")return Bn(yh(t),e,n,i,o);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return u}function ko(t,e,n){if(t==null)return t;var i=[],o=0;return Bn(t,i,"","",function(l){return e.call(n,l,o++)}),i}function vh(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var br=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Th(){}G.Children={map:ko,forEach:function(t,e,n){ko(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ko(t,function(){e++}),e},toArray:function(t){return ko(t,function(e){return e})||[]},only:function(t){if(!xu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};G.Component=Ai;G.Fragment=ah;G.Profiler=uh;G.PureComponent=Eu;G.StrictMode=sh;G.Suspense=dh;G.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=oe;G.__COMPILER_RUNTIME={__proto__:null,c:function(t){return oe.H.useMemoCache(t)}};G.cache=function(t){return function(){return t.apply(null,arguments)}};G.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var i=Dd({},t.props),o=t.key,l=void 0;if(e!=null)for(u in e.ref!==void 0&&(l=void 0),e.key!==void 0&&(o=""+e.key),e)!wd.call(e,u)||u==="key"||u==="__self"||u==="__source"||u==="ref"&&e.ref===void 0||(i[u]=e[u]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var r=Array(u),c=0;c<u;c++)r[c]=arguments[c+2];i.children=r}return _u(t.type,o,void 0,void 0,l,i)};G.createContext=function(t){return t={$$typeof:ch,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:rh,_context:t},t};G.createElement=function(t,e,n){var i,o={},l=null;if(e!=null)for(i in e.key!==void 0&&(l=""+e.key),e)wd.call(e,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(o[i]=e[i]);var u=arguments.length-2;if(u===1)o.children=n;else if(1<u){for(var r=Array(u),c=0;c<u;c++)r[c]=arguments[c+2];o.children=r}if(t&&t.defaultProps)for(i in u=t.defaultProps,u)o[i]===void 0&&(o[i]=u[i]);return _u(t,l,void 0,void 0,null,o)};G.createRef=function(){return{current:null}};G.forwardRef=function(t){return{$$typeof:fh,render:t}};G.isValidElement=xu;G.lazy=function(t){return{$$typeof:Md,_payload:{_status:-1,_result:t},_init:vh}};G.memo=function(t,e){return{$$typeof:mh,type:t,compare:e===void 0?null:e}};G.startTransition=function(t){var e=oe.T,n={};oe.T=n;try{var i=t(),o=oe.S;o!==null&&o(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(Th,br)}catch(l){br(l)}finally{oe.T=e}};G.unstable_useCacheRefresh=function(){return oe.H.useCacheRefresh()};G.use=function(t){return oe.H.use(t)};G.useActionState=function(t,e,n){return oe.H.useActionState(t,e,n)};G.useCallback=function(t,e){return oe.H.useCallback(t,e)};G.useContext=function(t){return oe.H.useContext(t)};G.useDebugValue=function(){};G.useDeferredValue=function(t,e){return oe.H.useDeferredValue(t,e)};G.useEffect=function(t,e,n){var i=oe.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(t,e)};G.useId=function(){return oe.H.useId()};G.useImperativeHandle=function(t,e,n){return oe.H.useImperativeHandle(t,e,n)};G.useInsertionEffect=function(t,e){return oe.H.useInsertionEffect(t,e)};G.useLayoutEffect=function(t,e){return oe.H.useLayoutEffect(t,e)};G.useMemo=function(t,e){return oe.H.useMemo(t,e)};G.useOptimistic=function(t,e){return oe.H.useOptimistic(t,e)};G.useReducer=function(t,e,n){return oe.H.useReducer(t,e,n)};G.useRef=function(t){return oe.H.useRef(t)};G.useState=function(t){return oe.H.useState(t)};G.useSyncExternalStore=function(t,e,n){return oe.H.useSyncExternalStore(t,e,n)};G.useTransition=function(){return oe.H.useTransition()};G.version="19.1.0";xd.exports=G;var z=xd.exports;const Ch=Ed(z);var Ud={exports:{}},na={},Id={exports:{}},qd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(b,I){var V=b.length;b.push(I);e:for(;0<V;){var ae=V-1>>>1,pe=b[ae];if(0<o(pe,I))b[ae]=I,b[V]=pe,V=ae;else break e}}function n(b){return b.length===0?null:b[0]}function i(b){if(b.length===0)return null;var I=b[0],V=b.pop();if(V!==I){b[0]=V;e:for(var ae=0,pe=b.length,qn=pe>>>1;ae<qn;){var Ln=2*(ae+1)-1,qi=b[Ln],O=Ln+1,ne=b[O];if(0>o(qi,V))O<pe&&0>o(ne,qi)?(b[ae]=ne,b[O]=V,ae=O):(b[ae]=qi,b[Ln]=V,ae=Ln);else if(O<pe&&0>o(ne,V))b[ae]=ne,b[O]=V,ae=O;else break e}}return I}function o(b,I){var V=b.sortIndex-I.sortIndex;return V!==0?V:b.id-I.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,r=u.now();t.unstable_now=function(){return u.now()-r}}var c=[],f=[],d=1,m=null,p=3,g=!1,T=!1,S=!1,_=!1,y=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;function C(b){for(var I=n(f);I!==null;){if(I.callback===null)i(f);else if(I.startTime<=b)i(f),I.sortIndex=I.expirationTime,e(c,I);else break;I=n(f)}}function A(b){if(S=!1,C(b),!T)if(n(c)!==null)T=!0,D||(D=!0,fe());else{var I=n(f);I!==null&&ye(A,I.startTime-b)}}var D=!1,M=-1,R=5,N=-1;function w(){return _?!0:!(t.unstable_now()-N<R)}function L(){if(_=!1,D){var b=t.unstable_now();N=b;var I=!0;try{e:{T=!1,S&&(S=!1,h(M),M=-1),g=!0;var V=p;try{t:{for(C(b),m=n(c);m!==null&&!(m.expirationTime>b&&w());){var ae=m.callback;if(typeof ae=="function"){m.callback=null,p=m.priorityLevel;var pe=ae(m.expirationTime<=b);if(b=t.unstable_now(),typeof pe=="function"){m.callback=pe,C(b),I=!0;break t}m===n(c)&&i(c),C(b)}else i(c);m=n(c)}if(m!==null)I=!0;else{var qn=n(f);qn!==null&&ye(A,qn.startTime-b),I=!1}}break e}finally{m=null,p=V,g=!1}I=void 0}}finally{I?fe():D=!1}}}var fe;if(typeof v=="function")fe=function(){v(L)};else if(typeof MessageChannel<"u"){var rn=new MessageChannel,In=rn.port2;rn.port1.onmessage=L,fe=function(){In.postMessage(null)}}else fe=function(){y(L,0)};function ye(b,I){M=y(function(){b(t.unstable_now())},I)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(b){b.callback=null},t.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<b?Math.floor(1e3/b):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(b){switch(p){case 1:case 2:case 3:var I=3;break;default:I=p}var V=p;p=I;try{return b()}finally{p=V}},t.unstable_requestPaint=function(){_=!0},t.unstable_runWithPriority=function(b,I){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var V=p;p=b;try{return I()}finally{p=V}},t.unstable_scheduleCallback=function(b,I,V){var ae=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?ae+V:ae):V=ae,b){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=V+pe,b={id:d++,callback:I,priorityLevel:b,startTime:V,expirationTime:pe,sortIndex:-1},V>ae?(b.sortIndex=V,e(f,b),n(c)===null&&b===n(f)&&(S?(h(M),M=-1):S=!0,ye(A,V-ae))):(b.sortIndex=pe,e(c,b),T||g||(T=!0,D||(D=!0,fe()))),b},t.unstable_shouldYield=w,t.unstable_wrapCallback=function(b){var I=p;return function(){var V=p;p=I;try{return b.apply(this,arguments)}finally{p=V}}}})(qd);Id.exports=qd;var Sh=Id.exports,Ld={exports:{}},qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eh=z;function Vd(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Vt(){}var Ie={d:{f:Vt,r:function(){throw Error(Vd(522))},D:Vt,C:Vt,L:Vt,m:Vt,X:Vt,S:Vt,M:Vt},p:0,findDOMNode:null},Ah=Symbol.for("react.portal");function _h(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ah,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}var Ki=Eh.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function ia(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ie;qe.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(Vd(299));return _h(t,e,null,n)};qe.flushSync=function(t){var e=Ki.T,n=Ie.p;try{if(Ki.T=null,Ie.p=2,t)return t()}finally{Ki.T=e,Ie.p=n,Ie.d.f()}};qe.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Ie.d.C(t,e))};qe.prefetchDNS=function(t){typeof t=="string"&&Ie.d.D(t)};qe.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,i=ia(n,e.crossOrigin),o=typeof e.integrity=="string"?e.integrity:void 0,l=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Ie.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:i,integrity:o,fetchPriority:l}):n==="script"&&Ie.d.X(t,{crossOrigin:i,integrity:o,fetchPriority:l,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};qe.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=ia(e.as,e.crossOrigin);Ie.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Ie.d.M(t)};qe.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,i=ia(n,e.crossOrigin);Ie.d.L(t,n,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};qe.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=ia(e.as,e.crossOrigin);Ie.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Ie.d.m(t)};qe.requestFormReset=function(t){Ie.d.r(t)};qe.unstable_batchedUpdates=function(t,e){return t(e)};qe.useFormState=function(t,e,n){return Ki.H.useFormState(t,e,n)};qe.useFormStatus=function(){return Ki.H.useHostTransitionStatus()};qe.version="19.1.0";function Gd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Gd)}catch(t){console.error(t)}}Gd(),Ld.exports=qe;var xh=Ld.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ce=Sh,Pd=z,Mh=xh;function x(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Bd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function xo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Hd(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function wr(t){if(xo(t)!==t)throw Error(x(188))}function Rh(t){var e=t.alternate;if(!e){if(e=xo(t),e===null)throw Error(x(188));return e!==t?null:t}for(var n=t,i=e;;){var o=n.return;if(o===null)break;var l=o.alternate;if(l===null){if(i=o.return,i!==null){n=i;continue}break}if(o.child===l.child){for(l=o.child;l;){if(l===n)return wr(o),t;if(l===i)return wr(o),e;l=l.sibling}throw Error(x(188))}if(n.return!==i.return)n=o,i=l;else{for(var u=!1,r=o.child;r;){if(r===n){u=!0,n=o,i=l;break}if(r===i){u=!0,i=o,n=l;break}r=r.sibling}if(!u){for(r=l.child;r;){if(r===n){u=!0,n=l,i=o;break}if(r===i){u=!0,i=l,n=o;break}r=r.sibling}if(!u)throw Error(x(189))}}if(n.alternate!==i)throw Error(x(190))}if(n.tag!==3)throw Error(x(188));return n.stateNode.current===n?t:e}function zd(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=zd(t),e!==null)return e;t=t.sibling}return null}var te=Object.assign,Dh=Symbol.for("react.element"),Fo=Symbol.for("react.transitional.element"),Oi=Symbol.for("react.portal"),Fn=Symbol.for("react.fragment"),kd=Symbol.for("react.strict_mode"),cs=Symbol.for("react.profiler"),Nh=Symbol.for("react.provider"),Fd=Symbol.for("react.consumer"),Et=Symbol.for("react.context"),Mu=Symbol.for("react.forward_ref"),fs=Symbol.for("react.suspense"),ds=Symbol.for("react.suspense_list"),Ru=Symbol.for("react.memo"),Bt=Symbol.for("react.lazy"),ms=Symbol.for("react.activity"),bh=Symbol.for("react.memo_cache_sentinel"),Ur=Symbol.iterator;function Li(t){return t===null||typeof t!="object"?null:(t=Ur&&t[Ur]||t["@@iterator"],typeof t=="function"?t:null)}var wh=Symbol.for("react.client.reference");function ps(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===wh?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Fn:return"Fragment";case cs:return"Profiler";case kd:return"StrictMode";case fs:return"Suspense";case ds:return"SuspenseList";case ms:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Oi:return"Portal";case Et:return(t.displayName||"Context")+".Provider";case Fd:return(t._context.displayName||"Context")+".Consumer";case Mu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ru:return e=t.displayName||null,e!==null?e:ps(t.type)||"Memo";case Bt:e=t._payload,t=t._init;try{return ps(t(e))}catch{}}return null}var Yi=Array.isArray,q=Pd.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=Mh.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pn={pending:!1,data:null,method:null,action:null},gs=[],On=-1;function ht(t){return{current:t}}function _e(t){0>On||(t.current=gs[On],gs[On]=null,On--)}function le(t,e){On++,gs[On]=t.current,t.current=e}var mt=ht(null),co=ht(null),$t=ht(null),Sl=ht(null);function El(t,e){switch(le($t,e),le(co,t),le(mt,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Gc(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Gc(e),t=ag(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}_e(mt),le(mt,t)}function di(){_e(mt),_e(co),_e($t)}function hs(t){t.memoizedState!==null&&le(Sl,t);var e=mt.current,n=ag(e,t.type);e!==n&&(le(co,t),le(mt,n))}function Al(t){co.current===t&&(_e(mt),_e(co)),Sl.current===t&&(_e(Sl),So._currentValue=pn)}var ys=Object.prototype.hasOwnProperty,Du=Ce.unstable_scheduleCallback,Ma=Ce.unstable_cancelCallback,Uh=Ce.unstable_shouldYield,Ih=Ce.unstable_requestPaint,pt=Ce.unstable_now,qh=Ce.unstable_getCurrentPriorityLevel,Od=Ce.unstable_ImmediatePriority,Yd=Ce.unstable_UserBlockingPriority,_l=Ce.unstable_NormalPriority,Lh=Ce.unstable_LowPriority,Jd=Ce.unstable_IdlePriority,Vh=Ce.log,Gh=Ce.unstable_setDisableYieldValue,Mo=null,Oe=null;function Yt(t){if(typeof Vh=="function"&&Gh(t),Oe&&typeof Oe.setStrictMode=="function")try{Oe.setStrictMode(Mo,t)}catch{}}var Ye=Math.clz32?Math.clz32:Hh,Ph=Math.log,Bh=Math.LN2;function Hh(t){return t>>>=0,t===0?32:31-(Ph(t)/Bh|0)|0}var Oo=256,Yo=4194304;function fn(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function oa(t,e,n){var i=t.pendingLanes;if(i===0)return 0;var o=0,l=t.suspendedLanes,u=t.pingedLanes;t=t.warmLanes;var r=i&134217727;return r!==0?(i=r&~l,i!==0?o=fn(i):(u&=r,u!==0?o=fn(u):n||(n=r&~t,n!==0&&(o=fn(n))))):(r=i&~l,r!==0?o=fn(r):u!==0?o=fn(u):n||(n=i&~t,n!==0&&(o=fn(n)))),o===0?0:e!==0&&e!==o&&!(e&l)&&(l=o&-o,n=e&-e,l>=n||l===32&&(n&4194048)!==0)?e:o}function Ro(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function zh(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qd(){var t=Oo;return Oo<<=1,!(Oo&4194048)&&(Oo=256),t}function Kd(){var t=Yo;return Yo<<=1,!(Yo&62914560)&&(Yo=4194304),t}function Ra(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Do(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function kh(t,e,n,i,o,l){var u=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var r=t.entanglements,c=t.expirationTimes,f=t.hiddenUpdates;for(n=u&~n;0<n;){var d=31-Ye(n),m=1<<d;r[d]=0,c[d]=-1;var p=f[d];if(p!==null)for(f[d]=null,d=0;d<p.length;d++){var g=p[d];g!==null&&(g.lane&=-536870913)}n&=~m}i!==0&&$d(t,i,0),l!==0&&o===0&&t.tag!==0&&(t.suspendedLanes|=l&~(u&~e))}function $d(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-Ye(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|n&4194090}function Xd(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Ye(n),o=1<<i;o&e|t[i]&e&&(t[i]|=e),n&=~o}}function Nu(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function bu(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function Zd(){var t=J.p;return t!==0?t:(t=window.event,t===void 0?32:hg(t.type))}function Fh(t,e){var n=J.p;try{return J.p=t,e()}finally{J.p=n}}var sn=Math.random().toString(36).slice(2),Ne="__reactFiber$"+sn,Pe="__reactProps$"+sn,_i="__reactContainer$"+sn,vs="__reactEvents$"+sn,Oh="__reactListeners$"+sn,Yh="__reactHandles$"+sn,Ir="__reactResources$"+sn,No="__reactMarker$"+sn;function wu(t){delete t[Ne],delete t[Pe],delete t[vs],delete t[Oh],delete t[Yh]}function Yn(t){var e=t[Ne];if(e)return e;for(var n=t.parentNode;n;){if(e=n[_i]||n[Ne]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Hc(t);t!==null;){if(n=t[Ne])return n;t=Hc(t)}return e}t=n,n=t.parentNode}return null}function xi(t){if(t=t[Ne]||t[_i]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function Ji(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(x(33))}function ni(t){var e=t[Ir];return e||(e=t[Ir]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Ee(t){t[No]=!0}var Wd=new Set,jd={};function Dn(t,e){mi(t,e),mi(t+"Capture",e)}function mi(t,e){for(jd[t]=e,t=0;t<e.length;t++)Wd.add(e[t])}var Jh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qr={},Lr={};function Qh(t){return ys.call(Lr,t)?!0:ys.call(qr,t)?!1:Jh.test(t)?Lr[t]=!0:(qr[t]=!0,!1)}function ll(t,e,n){if(Qh(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Jo(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function vt(t,e,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+i)}}var Da,Vr;function Hn(t){if(Da===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Da=e&&e[1]||"",Vr=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Da+t+Vr}var Na=!1;function ba(t,e){if(!t||Na)return"";Na=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var m=function(){throw Error()};if(Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(g){var p=g}Reflect.construct(t,[],m)}else{try{m.call()}catch(g){p=g}t.call(m.prototype)}}else{try{throw Error()}catch(g){p=g}(m=t())&&typeof m.catch=="function"&&m.catch(function(){})}}catch(g){if(g&&p&&typeof g.stack=="string")return[g.stack,p.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var l=i.DetermineComponentFrameRoot(),u=l[0],r=l[1];if(u&&r){var c=u.split(`
`),f=r.split(`
`);for(o=i=0;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;for(;o<f.length&&!f[o].includes("DetermineComponentFrameRoot");)o++;if(i===c.length||o===f.length)for(i=c.length-1,o=f.length-1;1<=i&&0<=o&&c[i]!==f[o];)o--;for(;1<=i&&0<=o;i--,o--)if(c[i]!==f[o]){if(i!==1||o!==1)do if(i--,o--,0>o||c[i]!==f[o]){var d=`
`+c[i].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=i&&0<=o);break}}}finally{Na=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Hn(n):""}function Kh(t){switch(t.tag){case 26:case 27:case 5:return Hn(t.type);case 16:return Hn("Lazy");case 13:return Hn("Suspense");case 19:return Hn("SuspenseList");case 0:case 15:return ba(t.type,!1);case 11:return ba(t.type.render,!1);case 1:return ba(t.type,!0);case 31:return Hn("Activity");default:return""}}function Gr(t){try{var e="";do e+=Kh(t),t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Ze(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function em(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function $h(t){var e=em(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,l=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(u){i=""+u,l.call(this,u)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(u){i=""+u},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function xl(t){t._valueTracker||(t._valueTracker=$h(t))}function tm(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=em(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Ml(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Xh=/[\n"\\]/g;function et(t){return t.replace(Xh,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Ts(t,e,n,i,o,l,u,r){t.name="",u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?t.type=u:t.removeAttribute("type"),e!=null?u==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Ze(e)):t.value!==""+Ze(e)&&(t.value=""+Ze(e)):u!=="submit"&&u!=="reset"||t.removeAttribute("value"),e!=null?Cs(t,u,Ze(e)):n!=null?Cs(t,u,Ze(n)):i!=null&&t.removeAttribute("value"),o==null&&l!=null&&(t.defaultChecked=!!l),o!=null&&(t.checked=o&&typeof o!="function"&&typeof o!="symbol"),r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?t.name=""+Ze(r):t.removeAttribute("name")}function nm(t,e,n,i,o,l,u,r){if(l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"&&(t.type=l),e!=null||n!=null){if(!(l!=="submit"&&l!=="reset"||e!=null))return;n=n!=null?""+Ze(n):"",e=e!=null?""+Ze(e):n,r||e===t.value||(t.value=e),t.defaultValue=e}i=i??o,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=r?t.checked:!!i,t.defaultChecked=!!i,u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(t.name=u)}function Cs(t,e,n){e==="number"&&Ml(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function ii(t,e,n,i){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Ze(n),e=null,o=0;o<t.length;o++){if(t[o].value===n){t[o].selected=!0,i&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function im(t,e,n){if(e!=null&&(e=""+Ze(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Ze(n):""}function om(t,e,n,i){if(e==null){if(i!=null){if(n!=null)throw Error(x(92));if(Yi(i)){if(1<i.length)throw Error(x(93));i=i[0]}n=i}n==null&&(n=""),e=n}n=Ze(e),t.defaultValue=n,i=t.textContent,i===n&&i!==""&&i!==null&&(t.value=i)}function pi(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Zh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pr(t,e,n){var i=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":i?t.setProperty(e,n):typeof n!="number"||n===0||Zh.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function lm(t,e,n){if(e!=null&&typeof e!="object")throw Error(x(62));if(t=t.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var o in e)i=e[o],e.hasOwnProperty(o)&&n[o]!==i&&Pr(t,o,i)}else for(var l in e)e.hasOwnProperty(l)&&Pr(t,l,e[l])}function Uu(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function al(t){return jh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ss=null;function Iu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Jn=null,oi=null;function Br(t){var e=xi(t);if(e&&(t=e.stateNode)){var n=t[Pe]||null;e:switch(t=e.stateNode,e.type){case"input":if(Ts(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+et(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var o=i[Pe]||null;if(!o)throw Error(x(90));Ts(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(e=0;e<n.length;e++)i=n[e],i.form===t.form&&tm(i)}break e;case"textarea":im(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&ii(t,!!n.multiple,e,!1)}}}var wa=!1;function am(t,e,n){if(wa)return t(e,n);wa=!0;try{var i=t(e);return i}finally{if(wa=!1,(Jn!==null||oi!==null)&&(pa(),Jn&&(e=Jn,t=oi,oi=Jn=null,Br(e),t)))for(e=0;e<t.length;e++)Br(t[e])}}function fo(t,e){var n=t.stateNode;if(n===null)return null;var i=n[Pe]||null;if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(x(231,e,typeof n));return n}var Nt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Es=!1;if(Nt)try{var Vi={};Object.defineProperty(Vi,"passive",{get:function(){Es=!0}}),window.addEventListener("test",Vi,Vi),window.removeEventListener("test",Vi,Vi)}catch{Es=!1}var Jt=null,qu=null,sl=null;function sm(){if(sl)return sl;var t,e=qu,n=e.length,i,o="value"in Jt?Jt.value:Jt.textContent,l=o.length;for(t=0;t<n&&e[t]===o[t];t++);var u=n-t;for(i=1;i<=u&&e[n-i]===o[l-i];i++);return sl=o.slice(t,1<i?1-i:void 0)}function ul(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Qo(){return!0}function Hr(){return!1}function Be(t){function e(n,i,o,l,u){this._reactName=n,this._targetInst=o,this.type=i,this.nativeEvent=l,this.target=u,this.currentTarget=null;for(var r in t)t.hasOwnProperty(r)&&(n=t[r],this[r]=n?n(l):l[r]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Qo:Hr,this.isPropagationStopped=Hr,this}return te(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Qo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Qo)},persist:function(){},isPersistent:Qo}),e}var Nn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},la=Be(Nn),bo=te({},Nn,{view:0,detail:0}),ey=Be(bo),Ua,Ia,Gi,aa=te({},bo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Gi&&(Gi&&t.type==="mousemove"?(Ua=t.screenX-Gi.screenX,Ia=t.screenY-Gi.screenY):Ia=Ua=0,Gi=t),Ua)},movementY:function(t){return"movementY"in t?t.movementY:Ia}}),zr=Be(aa),ty=te({},aa,{dataTransfer:0}),ny=Be(ty),iy=te({},bo,{relatedTarget:0}),qa=Be(iy),oy=te({},Nn,{animationName:0,elapsedTime:0,pseudoElement:0}),ly=Be(oy),ay=te({},Nn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),sy=Be(ay),uy=te({},Nn,{data:0}),kr=Be(uy),ry={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dy(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=fy[t])?!!e[t]:!1}function Lu(){return dy}var my=te({},bo,{key:function(t){if(t.key){var e=ry[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ul(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?cy[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lu,charCode:function(t){return t.type==="keypress"?ul(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ul(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),py=Be(my),gy=te({},aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fr=Be(gy),hy=te({},bo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lu}),yy=Be(hy),vy=te({},Nn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ty=Be(vy),Cy=te({},aa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Sy=Be(Cy),Ey=te({},Nn,{newState:0,oldState:0}),Ay=Be(Ey),_y=[9,13,27,32],Vu=Nt&&"CompositionEvent"in window,$i=null;Nt&&"documentMode"in document&&($i=document.documentMode);var xy=Nt&&"TextEvent"in window&&!$i,um=Nt&&(!Vu||$i&&8<$i&&11>=$i),Or=String.fromCharCode(32),Yr=!1;function rm(t,e){switch(t){case"keyup":return _y.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qn=!1;function My(t,e){switch(t){case"compositionend":return cm(e);case"keypress":return e.which!==32?null:(Yr=!0,Or);case"textInput":return t=e.data,t===Or&&Yr?null:t;default:return null}}function Ry(t,e){if(Qn)return t==="compositionend"||!Vu&&rm(t,e)?(t=sm(),sl=qu=Jt=null,Qn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return um&&e.locale!=="ko"?null:e.data;default:return null}}var Dy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Dy[t.type]:e==="textarea"}function fm(t,e,n,i){Jn?oi?oi.push(i):oi=[i]:Jn=i,e=Ol(e,"onChange"),0<e.length&&(n=new la("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Xi=null,mo=null;function Ny(t){ig(t,0)}function sa(t){var e=Ji(t);if(tm(e))return t}function Qr(t,e){if(t==="change")return e}var dm=!1;if(Nt){var La;if(Nt){var Va="oninput"in document;if(!Va){var Kr=document.createElement("div");Kr.setAttribute("oninput","return;"),Va=typeof Kr.oninput=="function"}La=Va}else La=!1;dm=La&&(!document.documentMode||9<document.documentMode)}function $r(){Xi&&(Xi.detachEvent("onpropertychange",mm),mo=Xi=null)}function mm(t){if(t.propertyName==="value"&&sa(mo)){var e=[];fm(e,mo,t,Iu(t)),am(Ny,e)}}function by(t,e,n){t==="focusin"?($r(),Xi=e,mo=n,Xi.attachEvent("onpropertychange",mm)):t==="focusout"&&$r()}function wy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return sa(mo)}function Uy(t,e){if(t==="click")return sa(e)}function Iy(t,e){if(t==="input"||t==="change")return sa(e)}function qy(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ke=typeof Object.is=="function"?Object.is:qy;function po(t,e){if(Ke(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var o=n[i];if(!ys.call(e,o)||!Ke(t[o],e[o]))return!1}return!0}function Xr(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Zr(t,e){var n=Xr(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Xr(n)}}function pm(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?pm(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function gm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Ml(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ml(t.document)}return e}function Gu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var Ly=Nt&&"documentMode"in document&&11>=document.documentMode,Kn=null,As=null,Zi=null,_s=!1;function Wr(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_s||Kn==null||Kn!==Ml(i)||(i=Kn,"selectionStart"in i&&Gu(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Zi&&po(Zi,i)||(Zi=i,i=Ol(As,"onSelect"),0<i.length&&(e=new la("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Kn)))}function cn(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var $n={animationend:cn("Animation","AnimationEnd"),animationiteration:cn("Animation","AnimationIteration"),animationstart:cn("Animation","AnimationStart"),transitionrun:cn("Transition","TransitionRun"),transitionstart:cn("Transition","TransitionStart"),transitioncancel:cn("Transition","TransitionCancel"),transitionend:cn("Transition","TransitionEnd")},Ga={},hm={};Nt&&(hm=document.createElement("div").style,"AnimationEvent"in window||(delete $n.animationend.animation,delete $n.animationiteration.animation,delete $n.animationstart.animation),"TransitionEvent"in window||delete $n.transitionend.transition);function bn(t){if(Ga[t])return Ga[t];if(!$n[t])return t;var e=$n[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in hm)return Ga[t]=e[n];return t}var ym=bn("animationend"),vm=bn("animationiteration"),Tm=bn("animationstart"),Vy=bn("transitionrun"),Gy=bn("transitionstart"),Py=bn("transitioncancel"),Cm=bn("transitionend"),Sm=new Map,xs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xs.push("scrollEnd");function rt(t,e){Sm.set(t,e),Dn(e,[t])}var jr=new WeakMap;function tt(t,e){if(typeof t=="object"&&t!==null){var n=jr.get(t);return n!==void 0?n:(e={value:t,source:e,stack:Gr(e)},jr.set(t,e),e)}return{value:t,source:e,stack:Gr(e)}}var Xe=[],Xn=0,Pu=0;function ua(){for(var t=Xn,e=Pu=Xn=0;e<t;){var n=Xe[e];Xe[e++]=null;var i=Xe[e];Xe[e++]=null;var o=Xe[e];Xe[e++]=null;var l=Xe[e];if(Xe[e++]=null,i!==null&&o!==null){var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}l!==0&&Em(n,o,l)}}function ra(t,e,n,i){Xe[Xn++]=t,Xe[Xn++]=e,Xe[Xn++]=n,Xe[Xn++]=i,Pu|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function Bu(t,e,n,i){return ra(t,e,n,i),Rl(t)}function Mi(t,e){return ra(t,null,null,e),Rl(t)}function Em(t,e,n){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n);for(var o=!1,l=t.return;l!==null;)l.childLanes|=n,i=l.alternate,i!==null&&(i.childLanes|=n),l.tag===22&&(t=l.stateNode,t===null||t._visibility&1||(o=!0)),t=l,l=l.return;return t.tag===3?(l=t.stateNode,o&&e!==null&&(o=31-Ye(n),t=l.hiddenUpdates,i=t[o],i===null?t[o]=[e]:i.push(e),e.lane=n|536870912),l):null}function Rl(t){if(50<so)throw so=0,Js=null,Error(x(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Zn={};function By(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fe(t,e,n,i){return new By(t,e,n,i)}function Hu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Rt(t,e){var n=t.alternate;return n===null?(n=Fe(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function Am(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function rl(t,e,n,i,o,l){var u=0;if(i=t,typeof t=="function")Hu(t)&&(u=1);else if(typeof t=="string")u=zv(t,n,mt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ms:return t=Fe(31,n,e,o),t.elementType=ms,t.lanes=l,t;case Fn:return gn(n.children,o,l,e);case kd:u=8,o|=24;break;case cs:return t=Fe(12,n,e,o|2),t.elementType=cs,t.lanes=l,t;case fs:return t=Fe(13,n,e,o),t.elementType=fs,t.lanes=l,t;case ds:return t=Fe(19,n,e,o),t.elementType=ds,t.lanes=l,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Nh:case Et:u=10;break e;case Fd:u=9;break e;case Mu:u=11;break e;case Ru:u=14;break e;case Bt:u=16,i=null;break e}u=29,n=Error(x(130,t===null?"null":typeof t,"")),i=null}return e=Fe(u,n,e,o),e.elementType=t,e.type=i,e.lanes=l,e}function gn(t,e,n,i){return t=Fe(7,t,i,e),t.lanes=n,t}function Pa(t,e,n){return t=Fe(6,t,null,e),t.lanes=n,t}function Ba(t,e,n){return e=Fe(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Wn=[],jn=0,Dl=null,Nl=0,We=[],je=0,hn=null,At=1,_t="";function dn(t,e){Wn[jn++]=Nl,Wn[jn++]=Dl,Dl=t,Nl=e}function _m(t,e,n){We[je++]=At,We[je++]=_t,We[je++]=hn,hn=t;var i=At;t=_t;var o=32-Ye(i)-1;i&=~(1<<o),n+=1;var l=32-Ye(e)+o;if(30<l){var u=o-o%5;l=(i&(1<<u)-1).toString(32),i>>=u,o-=u,At=1<<32-Ye(e)+o|n<<o|i,_t=l+t}else At=1<<l|n<<o|i,_t=t}function zu(t){t.return!==null&&(dn(t,1),_m(t,1,0))}function ku(t){for(;t===Dl;)Dl=Wn[--jn],Wn[jn]=null,Nl=Wn[--jn],Wn[jn]=null;for(;t===hn;)hn=We[--je],We[je]=null,_t=We[--je],We[je]=null,At=We[--je],We[je]=null}var Ue=null,re=null,Y=!1,yn=null,ft=!1,Ms=Error(x(519));function An(t){var e=Error(x(418,""));throw go(tt(e,t)),Ms}function ec(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[Ne]=t,e[Pe]=i,n){case"dialog":B("cancel",e),B("close",e);break;case"iframe":case"object":case"embed":B("load",e);break;case"video":case"audio":for(n=0;n<vo.length;n++)B(vo[n],e);break;case"source":B("error",e);break;case"img":case"image":case"link":B("error",e),B("load",e);break;case"details":B("toggle",e);break;case"input":B("invalid",e),nm(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),xl(e);break;case"select":B("invalid",e);break;case"textarea":B("invalid",e),om(e,i.value,i.defaultValue,i.children),xl(e)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||i.suppressHydrationWarning===!0||lg(e.textContent,n)?(i.popover!=null&&(B("beforetoggle",e),B("toggle",e)),i.onScroll!=null&&B("scroll",e),i.onScrollEnd!=null&&B("scrollend",e),i.onClick!=null&&(e.onclick=ya),e=!0):e=!1,e||An(t)}function tc(t){for(Ue=t.return;Ue;)switch(Ue.tag){case 5:case 13:ft=!1;return;case 27:case 3:ft=!0;return;default:Ue=Ue.return}}function Pi(t){if(t!==Ue)return!1;if(!Y)return tc(t),Y=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Ws(t.type,t.memoizedProps)),n=!n),n&&re&&An(t),tc(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(x(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(e===0){re=ut(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++;t=t.nextSibling}re=null}}else e===27?(e=re,un(t.type)?(t=tu,tu=null,re=t):re=e):re=Ue?ut(t.stateNode.nextSibling):null;return!0}function wo(){re=Ue=null,Y=!1}function nc(){var t=yn;return t!==null&&(Ge===null?Ge=t:Ge.push.apply(Ge,t),yn=null),t}function go(t){yn===null?yn=[t]:yn.push(t)}var Rs=ht(null),wn=null,xt=null;function zt(t,e,n){le(Rs,e._currentValue),e._currentValue=n}function Dt(t){t._currentValue=Rs.current,_e(Rs)}function Ds(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Ns(t,e,n,i){var o=t.child;for(o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){var u=o.child;l=l.firstContext;e:for(;l!==null;){var r=l;l=o;for(var c=0;c<e.length;c++)if(r.context===e[c]){l.lanes|=n,r=l.alternate,r!==null&&(r.lanes|=n),Ds(l.return,n,t),i||(u=null);break e}l=r.next}}else if(o.tag===18){if(u=o.return,u===null)throw Error(x(341));u.lanes|=n,l=u.alternate,l!==null&&(l.lanes|=n),Ds(u,n,t),u=null}else u=o.child;if(u!==null)u.return=o;else for(u=o;u!==null;){if(u===t){u=null;break}if(o=u.sibling,o!==null){o.return=u.return,u=o;break}u=u.return}o=u}}function Uo(t,e,n,i){t=null;for(var o=e,l=!1;o!==null;){if(!l){if(o.flags&524288)l=!0;else if(o.flags&262144)break}if(o.tag===10){var u=o.alternate;if(u===null)throw Error(x(387));if(u=u.memoizedProps,u!==null){var r=o.type;Ke(o.pendingProps.value,u.value)||(t!==null?t.push(r):t=[r])}}else if(o===Sl.current){if(u=o.alternate,u===null)throw Error(x(387));u.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(t!==null?t.push(So):t=[So])}o=o.return}t!==null&&Ns(e,t,n,i),e.flags|=262144}function bl(t){for(t=t.firstContext;t!==null;){if(!Ke(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function _n(t){wn=t,xt=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function be(t){return xm(wn,t)}function Ko(t,e){return wn===null&&_n(t),xm(t,e)}function xm(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},xt===null){if(t===null)throw Error(x(308));xt=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else xt=xt.next=e;return n}var Hy=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},zy=Ce.unstable_scheduleCallback,ky=Ce.unstable_NormalPriority,ve={$$typeof:Et,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fu(){return{controller:new Hy,data:new Map,refCount:0}}function Io(t){t.refCount--,t.refCount===0&&zy(ky,function(){t.controller.abort()})}var Wi=null,bs=0,gi=0,li=null;function Fy(t,e){if(Wi===null){var n=Wi=[];bs=0,gi=dr(),li={status:"pending",value:void 0,then:function(i){n.push(i)}}}return bs++,e.then(ic,ic),e}function ic(){if(--bs===0&&Wi!==null){li!==null&&(li.status="fulfilled");var t=Wi;Wi=null,gi=0,li=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function Oy(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(o){n.push(o)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var o=0;o<n.length;o++)(0,n[o])(e)},function(o){for(i.status="rejected",i.reason=o,o=0;o<n.length;o++)(0,n[o])(void 0)}),i}var oc=q.S;q.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&Fy(t,e),oc!==null&&oc(t,e)};var vn=ht(null);function Ou(){var t=vn.current;return t!==null?t:j.pooledCache}function cl(t,e){e===null?le(vn,vn.current):le(vn,e.pool)}function Mm(){var t=Ou();return t===null?null:{parent:ve._currentValue,pool:t}}var qo=Error(x(460)),Rm=Error(x(474)),ca=Error(x(542)),ws={then:function(){}};function lc(t){return t=t.status,t==="fulfilled"||t==="rejected"}function $o(){}function Dm(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then($o,$o),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,sc(t),t;default:if(typeof e.status=="string")e.then($o,$o);else{if(t=j,t!==null&&100<t.shellSuspendCounter)throw Error(x(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var o=e;o.status="fulfilled",o.value=i}},function(i){if(e.status==="pending"){var o=e;o.status="rejected",o.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,sc(t),t}throw ji=e,qo}}var ji=null;function ac(){if(ji===null)throw Error(x(459));var t=ji;return ji=null,t}function sc(t){if(t===qo||t===ca)throw Error(x(483))}var Ht=!1;function Yu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Us(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Xt(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Zt(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,K&2){var o=i.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),i.pending=e,e=Rl(t),Em(t,null,n),e}return ra(t,i,e,n),Rl(t)}function eo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Xd(t,n)}}function Ha(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var o=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var u={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};l===null?o=l=u:l=l.next=u,n=n.next}while(n!==null);l===null?o=l=e:l=l.next=e}else o=l=e;n={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:l,shared:i.shared,callbacks:i.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var Is=!1;function to(){if(Is){var t=li;if(t!==null)throw t}}function no(t,e,n,i){Is=!1;var o=t.updateQueue;Ht=!1;var l=o.firstBaseUpdate,u=o.lastBaseUpdate,r=o.shared.pending;if(r!==null){o.shared.pending=null;var c=r,f=c.next;c.next=null,u===null?l=f:u.next=f,u=c;var d=t.alternate;d!==null&&(d=d.updateQueue,r=d.lastBaseUpdate,r!==u&&(r===null?d.firstBaseUpdate=f:r.next=f,d.lastBaseUpdate=c))}if(l!==null){var m=o.baseState;u=0,d=f=c=null,r=l;do{var p=r.lane&-536870913,g=p!==r.lane;if(g?(F&p)===p:(i&p)===p){p!==0&&p===gi&&(Is=!0),d!==null&&(d=d.next={lane:0,tag:r.tag,payload:r.payload,callback:null,next:null});e:{var T=t,S=r;p=e;var _=n;switch(S.tag){case 1:if(T=S.payload,typeof T=="function"){m=T.call(_,m,p);break e}m=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=S.payload,p=typeof T=="function"?T.call(_,m,p):T,p==null)break e;m=te({},m,p);break e;case 2:Ht=!0}}p=r.callback,p!==null&&(t.flags|=64,g&&(t.flags|=8192),g=o.callbacks,g===null?o.callbacks=[p]:g.push(p))}else g={lane:p,tag:r.tag,payload:r.payload,callback:r.callback,next:null},d===null?(f=d=g,c=m):d=d.next=g,u|=p;if(r=r.next,r===null){if(r=o.shared.pending,r===null)break;g=r,r=g.next,g.next=null,o.lastBaseUpdate=g,o.shared.pending=null}}while(1);d===null&&(c=m),o.baseState=c,o.firstBaseUpdate=f,o.lastBaseUpdate=d,l===null&&(o.shared.lanes=0),an|=u,t.lanes=u,t.memoizedState=m}}function Nm(t,e){if(typeof t!="function")throw Error(x(191,t));t.call(e)}function bm(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)Nm(n[t],e)}var hi=ht(null),wl=ht(0);function uc(t,e){t=Ut,le(wl,t),le(hi,e),Ut=t|e.baseLanes}function qs(){le(wl,Ut),le(hi,hi.current)}function Ju(){Ut=wl.current,_e(hi),_e(wl)}var on=0,P=null,Z=null,ge=null,Ul=!1,ai=!1,xn=!1,Il=0,ho=0,si=null,Yy=0;function de(){throw Error(x(321))}function Qu(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ke(t[n],e[n]))return!1;return!0}function Ku(t,e,n,i,o,l){return on=l,P=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,q.H=t===null||t.memoizedState===null?sp:up,xn=!1,l=n(i,o),xn=!1,ai&&(l=Um(e,n,i,o)),wm(t),l}function wm(t){q.H=ql;var e=Z!==null&&Z.next!==null;if(on=0,ge=Z=P=null,Ul=!1,ho=0,si=null,e)throw Error(x(300));t===null||Ae||(t=t.dependencies,t!==null&&bl(t)&&(Ae=!0))}function Um(t,e,n,i){P=t;var o=0;do{if(ai&&(si=null),ho=0,ai=!1,25<=o)throw Error(x(301));if(o+=1,ge=Z=null,t.updateQueue!=null){var l=t.updateQueue;l.lastEffect=null,l.events=null,l.stores=null,l.memoCache!=null&&(l.memoCache.index=0)}q.H=Wy,l=e(n,i)}while(ai);return l}function Jy(){var t=q.H,e=t.useState()[0];return e=typeof e.then=="function"?Lo(e):e,t=t.useState()[0],(Z!==null?Z.memoizedState:null)!==t&&(P.flags|=1024),e}function $u(){var t=Il!==0;return Il=0,t}function Xu(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Zu(t){if(Ul){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Ul=!1}on=0,ge=Z=P=null,ai=!1,ho=Il=0,si=null}function Le(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?P.memoizedState=ge=t:ge=ge.next=t,ge}function he(){if(Z===null){var t=P.alternate;t=t!==null?t.memoizedState:null}else t=Z.next;var e=ge===null?P.memoizedState:ge.next;if(e!==null)ge=e,Z=t;else{if(t===null)throw P.alternate===null?Error(x(467)):Error(x(310));Z=t,t={memoizedState:Z.memoizedState,baseState:Z.baseState,baseQueue:Z.baseQueue,queue:Z.queue,next:null},ge===null?P.memoizedState=ge=t:ge=ge.next=t}return ge}function Wu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Lo(t){var e=ho;return ho+=1,si===null&&(si=[]),t=Dm(si,t,e),e=P,(ge===null?e.memoizedState:ge.next)===null&&(e=e.alternate,q.H=e===null||e.memoizedState===null?sp:up),t}function fa(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Lo(t);if(t.$$typeof===Et)return be(t)}throw Error(x(438,String(t)))}function ju(t){var e=null,n=P.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var i=P.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(o){return o.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Wu(),P.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=bh;return e.index++,n}function bt(t,e){return typeof e=="function"?e(t):e}function fl(t){var e=he();return er(e,Z,t)}function er(t,e,n){var i=t.queue;if(i===null)throw Error(x(311));i.lastRenderedReducer=n;var o=t.baseQueue,l=i.pending;if(l!==null){if(o!==null){var u=o.next;o.next=l.next,l.next=u}e.baseQueue=o=l,i.pending=null}if(l=t.baseState,o===null)t.memoizedState=l;else{e=o.next;var r=u=null,c=null,f=e,d=!1;do{var m=f.lane&-536870913;if(m!==f.lane?(F&m)===m:(on&m)===m){var p=f.revertLane;if(p===0)c!==null&&(c=c.next={lane:0,revertLane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),m===gi&&(d=!0);else if((on&p)===p){f=f.next,p===gi&&(d=!0);continue}else m={lane:0,revertLane:f.revertLane,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null},c===null?(r=c=m,u=l):c=c.next=m,P.lanes|=p,an|=p;m=f.action,xn&&n(l,m),l=f.hasEagerState?f.eagerState:n(l,m)}else p={lane:m,revertLane:f.revertLane,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null},c===null?(r=c=p,u=l):c=c.next=p,P.lanes|=m,an|=m;f=f.next}while(f!==null&&f!==e);if(c===null?u=l:c.next=r,!Ke(l,t.memoizedState)&&(Ae=!0,d&&(n=li,n!==null)))throw n;t.memoizedState=l,t.baseState=u,t.baseQueue=c,i.lastRenderedState=l}return o===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function za(t){var e=he(),n=e.queue;if(n===null)throw Error(x(311));n.lastRenderedReducer=t;var i=n.dispatch,o=n.pending,l=e.memoizedState;if(o!==null){n.pending=null;var u=o=o.next;do l=t(l,u.action),u=u.next;while(u!==o);Ke(l,e.memoizedState)||(Ae=!0),e.memoizedState=l,e.baseQueue===null&&(e.baseState=l),n.lastRenderedState=l}return[l,i]}function Im(t,e,n){var i=P,o=he(),l=Y;if(l){if(n===void 0)throw Error(x(407));n=n()}else n=e();var u=!Ke((Z||o).memoizedState,n);u&&(o.memoizedState=n,Ae=!0),o=o.queue;var r=Vm.bind(null,i,o,t);if(Vo(2048,8,r,[t]),o.getSnapshot!==e||u||ge!==null&&ge.memoizedState.tag&1){if(i.flags|=2048,yi(9,da(),Lm.bind(null,i,o,n,e),null),j===null)throw Error(x(349));l||on&124||qm(i,e,n)}return n}function qm(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=P.updateQueue,e===null?(e=Wu(),P.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Lm(t,e,n,i){e.value=n,e.getSnapshot=i,Gm(e)&&Pm(t)}function Vm(t,e,n){return n(function(){Gm(e)&&Pm(t)})}function Gm(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ke(t,n)}catch{return!0}}function Pm(t){var e=Mi(t,2);e!==null&&Qe(e,t,2)}function Ls(t){var e=Le();if(typeof t=="function"){var n=t;if(t=n(),xn){Yt(!0);try{n()}finally{Yt(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bt,lastRenderedState:t},e}function Bm(t,e,n,i){return t.baseState=n,er(t,Z,typeof i=="function"?i:bt)}function Qy(t,e,n,i,o){if(ma(t))throw Error(x(485));if(t=e.action,t!==null){var l={payload:o,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(u){l.listeners.push(u)}};q.T!==null?n(!0):l.isTransition=!1,i(l),n=e.pending,n===null?(l.next=e.pending=l,Hm(e,l)):(l.next=n.next,e.pending=n.next=l)}}function Hm(t,e){var n=e.action,i=e.payload,o=t.state;if(e.isTransition){var l=q.T,u={};q.T=u;try{var r=n(o,i),c=q.S;c!==null&&c(u,r),rc(t,e,r)}catch(f){Vs(t,e,f)}finally{q.T=l}}else try{l=n(o,i),rc(t,e,l)}catch(f){Vs(t,e,f)}}function rc(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){cc(t,e,i)},function(i){return Vs(t,e,i)}):cc(t,e,n)}function cc(t,e,n){e.status="fulfilled",e.value=n,zm(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,Hm(t,n)))}function Vs(t,e,n){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=n,zm(e),e=e.next;while(e!==i)}t.action=null}function zm(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function km(t,e){return e}function fc(t,e){if(Y){var n=j.formState;if(n!==null){e:{var i=P;if(Y){if(re){t:{for(var o=re,l=ft;o.nodeType!==8;){if(!l){o=null;break t}if(o=ut(o.nextSibling),o===null){o=null;break t}}l=o.data,o=l==="F!"||l==="F"?o:null}if(o){re=ut(o.nextSibling),i=o.data==="F!";break e}}An(i)}i=!1}i&&(e=n[0])}}return n=Le(),n.memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:km,lastRenderedState:e},n.queue=i,n=op.bind(null,P,i),i.dispatch=n,i=Ls(!1),l=or.bind(null,P,!1,i.queue),i=Le(),o={state:e,dispatch:null,action:t,pending:null},i.queue=o,n=Qy.bind(null,P,o,l,n),o.dispatch=n,i.memoizedState=t,[e,n,!1]}function dc(t){var e=he();return Fm(e,Z,t)}function Fm(t,e,n){if(e=er(t,e,km)[0],t=fl(bt)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var i=Lo(e)}catch(u){throw u===qo?ca:u}else i=e;e=he();var o=e.queue,l=o.dispatch;return n!==e.memoizedState&&(P.flags|=2048,yi(9,da(),Ky.bind(null,o,n),null)),[i,l,t]}function Ky(t,e){t.action=e}function mc(t){var e=he(),n=Z;if(n!==null)return Fm(e,n,t);he(),e=e.memoizedState,n=he();var i=n.queue.dispatch;return n.memoizedState=t,[e,i,!1]}function yi(t,e,n,i){return t={tag:t,create:n,deps:i,inst:e,next:null},e=P.updateQueue,e===null&&(e=Wu(),P.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function da(){return{destroy:void 0,resource:void 0}}function Om(){return he().memoizedState}function dl(t,e,n,i){var o=Le();i=i===void 0?null:i,P.flags|=t,o.memoizedState=yi(1|e,da(),n,i)}function Vo(t,e,n,i){var o=he();i=i===void 0?null:i;var l=o.memoizedState.inst;Z!==null&&i!==null&&Qu(i,Z.memoizedState.deps)?o.memoizedState=yi(e,l,n,i):(P.flags|=t,o.memoizedState=yi(1|e,l,n,i))}function pc(t,e){dl(8390656,8,t,e)}function Ym(t,e){Vo(2048,8,t,e)}function Jm(t,e){return Vo(4,2,t,e)}function Qm(t,e){return Vo(4,4,t,e)}function Km(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function $m(t,e,n){n=n!=null?n.concat([t]):null,Vo(4,4,Km.bind(null,e,t),n)}function tr(){}function Xm(t,e){var n=he();e=e===void 0?null:e;var i=n.memoizedState;return e!==null&&Qu(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function Zm(t,e){var n=he();e=e===void 0?null:e;var i=n.memoizedState;if(e!==null&&Qu(e,i[1]))return i[0];if(i=t(),xn){Yt(!0);try{t()}finally{Yt(!1)}}return n.memoizedState=[i,e],i}function nr(t,e,n){return n===void 0||on&1073741824?t.memoizedState=e:(t.memoizedState=n,t=zp(),P.lanes|=t,an|=t,n)}function Wm(t,e,n,i){return Ke(n,e)?n:hi.current!==null?(t=nr(t,n,i),Ke(t,e)||(Ae=!0),t):on&42?(t=zp(),P.lanes|=t,an|=t,e):(Ae=!0,t.memoizedState=n)}function jm(t,e,n,i,o){var l=J.p;J.p=l!==0&&8>l?l:8;var u=q.T,r={};q.T=r,or(t,!1,e,n);try{var c=o(),f=q.S;if(f!==null&&f(r,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=Oy(c,i);io(t,e,d,Je(t))}else io(t,e,i,Je(t))}catch(m){io(t,e,{then:function(){},status:"rejected",reason:m},Je())}finally{J.p=l,q.T=u}}function $y(){}function Gs(t,e,n,i){if(t.tag!==5)throw Error(x(476));var o=ep(t).queue;jm(t,o,e,pn,n===null?$y:function(){return tp(t),n(i)})}function ep(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:pn,baseState:pn,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bt,lastRenderedState:pn},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bt,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function tp(t){var e=ep(t).next.queue;io(t,e,{},Je())}function ir(){return be(So)}function np(){return he().memoizedState}function ip(){return he().memoizedState}function Xy(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=Je();t=Xt(n);var i=Zt(e,t,n);i!==null&&(Qe(i,e,n),eo(i,e,n)),e={cache:Fu()},t.payload=e;return}e=e.return}}function Zy(t,e,n){var i=Je();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},ma(t)?lp(e,n):(n=Bu(t,e,n,i),n!==null&&(Qe(n,t,i),ap(n,e,i)))}function op(t,e,n){var i=Je();io(t,e,n,i)}function io(t,e,n,i){var o={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(ma(t))lp(e,o);else{var l=t.alternate;if(t.lanes===0&&(l===null||l.lanes===0)&&(l=e.lastRenderedReducer,l!==null))try{var u=e.lastRenderedState,r=l(u,n);if(o.hasEagerState=!0,o.eagerState=r,Ke(r,u))return ra(t,e,o,0),j===null&&ua(),!1}catch{}finally{}if(n=Bu(t,e,o,i),n!==null)return Qe(n,t,i),ap(n,e,i),!0}return!1}function or(t,e,n,i){if(i={lane:2,revertLane:dr(),action:i,hasEagerState:!1,eagerState:null,next:null},ma(t)){if(e)throw Error(x(479))}else e=Bu(t,n,i,2),e!==null&&Qe(e,t,2)}function ma(t){var e=t.alternate;return t===P||e!==null&&e===P}function lp(t,e){ai=Ul=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ap(t,e,n){if(n&4194048){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Xd(t,n)}}var ql={readContext:be,use:fa,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de},sp={readContext:be,use:fa,useCallback:function(t,e){return Le().memoizedState=[t,e===void 0?null:e],t},useContext:be,useEffect:pc,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,dl(4194308,4,Km.bind(null,e,t),n)},useLayoutEffect:function(t,e){return dl(4194308,4,t,e)},useInsertionEffect:function(t,e){dl(4,2,t,e)},useMemo:function(t,e){var n=Le();e=e===void 0?null:e;var i=t();if(xn){Yt(!0);try{t()}finally{Yt(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=Le();if(n!==void 0){var o=n(e);if(xn){Yt(!0);try{n(e)}finally{Yt(!1)}}}else o=e;return i.memoizedState=i.baseState=o,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:o},i.queue=t,t=t.dispatch=Zy.bind(null,P,t),[i.memoizedState,t]},useRef:function(t){var e=Le();return t={current:t},e.memoizedState=t},useState:function(t){t=Ls(t);var e=t.queue,n=op.bind(null,P,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:tr,useDeferredValue:function(t,e){var n=Le();return nr(n,t,e)},useTransition:function(){var t=Ls(!1);return t=jm.bind(null,P,t.queue,!0,!1),Le().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=P,o=Le();if(Y){if(n===void 0)throw Error(x(407));n=n()}else{if(n=e(),j===null)throw Error(x(349));F&124||qm(i,e,n)}o.memoizedState=n;var l={value:n,getSnapshot:e};return o.queue=l,pc(Vm.bind(null,i,l,t),[t]),i.flags|=2048,yi(9,da(),Lm.bind(null,i,l,n,e),null),n},useId:function(){var t=Le(),e=j.identifierPrefix;if(Y){var n=_t,i=At;n=(i&~(1<<32-Ye(i)-1)).toString(32)+n,e="«"+e+"R"+n,n=Il++,0<n&&(e+="H"+n.toString(32)),e+="»"}else n=Yy++,e="«"+e+"r"+n.toString(32)+"»";return t.memoizedState=e},useHostTransitionStatus:ir,useFormState:fc,useActionState:fc,useOptimistic:function(t){var e=Le();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=or.bind(null,P,!0,n),n.dispatch=e,[t,e]},useMemoCache:ju,useCacheRefresh:function(){return Le().memoizedState=Xy.bind(null,P)}},up={readContext:be,use:fa,useCallback:Xm,useContext:be,useEffect:Ym,useImperativeHandle:$m,useInsertionEffect:Jm,useLayoutEffect:Qm,useMemo:Zm,useReducer:fl,useRef:Om,useState:function(){return fl(bt)},useDebugValue:tr,useDeferredValue:function(t,e){var n=he();return Wm(n,Z.memoizedState,t,e)},useTransition:function(){var t=fl(bt)[0],e=he().memoizedState;return[typeof t=="boolean"?t:Lo(t),e]},useSyncExternalStore:Im,useId:np,useHostTransitionStatus:ir,useFormState:dc,useActionState:dc,useOptimistic:function(t,e){var n=he();return Bm(n,Z,t,e)},useMemoCache:ju,useCacheRefresh:ip},Wy={readContext:be,use:fa,useCallback:Xm,useContext:be,useEffect:Ym,useImperativeHandle:$m,useInsertionEffect:Jm,useLayoutEffect:Qm,useMemo:Zm,useReducer:za,useRef:Om,useState:function(){return za(bt)},useDebugValue:tr,useDeferredValue:function(t,e){var n=he();return Z===null?nr(n,t,e):Wm(n,Z.memoizedState,t,e)},useTransition:function(){var t=za(bt)[0],e=he().memoizedState;return[typeof t=="boolean"?t:Lo(t),e]},useSyncExternalStore:Im,useId:np,useHostTransitionStatus:ir,useFormState:mc,useActionState:mc,useOptimistic:function(t,e){var n=he();return Z!==null?Bm(n,Z,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:ju,useCacheRefresh:ip},ui=null,yo=0;function Xo(t){var e=yo;return yo+=1,ui===null&&(ui=[]),Dm(ui,t,e)}function Bi(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Zo(t,e){throw e.$$typeof===Dh?Error(x(525)):(t=Object.prototype.toString.call(e),Error(x(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function gc(t){var e=t._init;return e(t._payload)}function rp(t){function e(y,h){if(t){var v=y.deletions;v===null?(y.deletions=[h],y.flags|=16):v.push(h)}}function n(y,h){if(!t)return null;for(;h!==null;)e(y,h),h=h.sibling;return null}function i(y){for(var h=new Map;y!==null;)y.key!==null?h.set(y.key,y):h.set(y.index,y),y=y.sibling;return h}function o(y,h){return y=Rt(y,h),y.index=0,y.sibling=null,y}function l(y,h,v){return y.index=v,t?(v=y.alternate,v!==null?(v=v.index,v<h?(y.flags|=67108866,h):v):(y.flags|=67108866,h)):(y.flags|=1048576,h)}function u(y){return t&&y.alternate===null&&(y.flags|=67108866),y}function r(y,h,v,C){return h===null||h.tag!==6?(h=Pa(v,y.mode,C),h.return=y,h):(h=o(h,v),h.return=y,h)}function c(y,h,v,C){var A=v.type;return A===Fn?d(y,h,v.props.children,C,v.key):h!==null&&(h.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Bt&&gc(A)===h.type)?(h=o(h,v.props),Bi(h,v),h.return=y,h):(h=rl(v.type,v.key,v.props,null,y.mode,C),Bi(h,v),h.return=y,h)}function f(y,h,v,C){return h===null||h.tag!==4||h.stateNode.containerInfo!==v.containerInfo||h.stateNode.implementation!==v.implementation?(h=Ba(v,y.mode,C),h.return=y,h):(h=o(h,v.children||[]),h.return=y,h)}function d(y,h,v,C,A){return h===null||h.tag!==7?(h=gn(v,y.mode,C,A),h.return=y,h):(h=o(h,v),h.return=y,h)}function m(y,h,v){if(typeof h=="string"&&h!==""||typeof h=="number"||typeof h=="bigint")return h=Pa(""+h,y.mode,v),h.return=y,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Fo:return v=rl(h.type,h.key,h.props,null,y.mode,v),Bi(v,h),v.return=y,v;case Oi:return h=Ba(h,y.mode,v),h.return=y,h;case Bt:var C=h._init;return h=C(h._payload),m(y,h,v)}if(Yi(h)||Li(h))return h=gn(h,y.mode,v,null),h.return=y,h;if(typeof h.then=="function")return m(y,Xo(h),v);if(h.$$typeof===Et)return m(y,Ko(y,h),v);Zo(y,h)}return null}function p(y,h,v,C){var A=h!==null?h.key:null;if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return A!==null?null:r(y,h,""+v,C);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Fo:return v.key===A?c(y,h,v,C):null;case Oi:return v.key===A?f(y,h,v,C):null;case Bt:return A=v._init,v=A(v._payload),p(y,h,v,C)}if(Yi(v)||Li(v))return A!==null?null:d(y,h,v,C,null);if(typeof v.then=="function")return p(y,h,Xo(v),C);if(v.$$typeof===Et)return p(y,h,Ko(y,v),C);Zo(y,v)}return null}function g(y,h,v,C,A){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return y=y.get(v)||null,r(h,y,""+C,A);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Fo:return y=y.get(C.key===null?v:C.key)||null,c(h,y,C,A);case Oi:return y=y.get(C.key===null?v:C.key)||null,f(h,y,C,A);case Bt:var D=C._init;return C=D(C._payload),g(y,h,v,C,A)}if(Yi(C)||Li(C))return y=y.get(v)||null,d(h,y,C,A,null);if(typeof C.then=="function")return g(y,h,v,Xo(C),A);if(C.$$typeof===Et)return g(y,h,v,Ko(h,C),A);Zo(h,C)}return null}function T(y,h,v,C){for(var A=null,D=null,M=h,R=h=0,N=null;M!==null&&R<v.length;R++){M.index>R?(N=M,M=null):N=M.sibling;var w=p(y,M,v[R],C);if(w===null){M===null&&(M=N);break}t&&M&&w.alternate===null&&e(y,M),h=l(w,h,R),D===null?A=w:D.sibling=w,D=w,M=N}if(R===v.length)return n(y,M),Y&&dn(y,R),A;if(M===null){for(;R<v.length;R++)M=m(y,v[R],C),M!==null&&(h=l(M,h,R),D===null?A=M:D.sibling=M,D=M);return Y&&dn(y,R),A}for(M=i(M);R<v.length;R++)N=g(M,y,R,v[R],C),N!==null&&(t&&N.alternate!==null&&M.delete(N.key===null?R:N.key),h=l(N,h,R),D===null?A=N:D.sibling=N,D=N);return t&&M.forEach(function(L){return e(y,L)}),Y&&dn(y,R),A}function S(y,h,v,C){if(v==null)throw Error(x(151));for(var A=null,D=null,M=h,R=h=0,N=null,w=v.next();M!==null&&!w.done;R++,w=v.next()){M.index>R?(N=M,M=null):N=M.sibling;var L=p(y,M,w.value,C);if(L===null){M===null&&(M=N);break}t&&M&&L.alternate===null&&e(y,M),h=l(L,h,R),D===null?A=L:D.sibling=L,D=L,M=N}if(w.done)return n(y,M),Y&&dn(y,R),A;if(M===null){for(;!w.done;R++,w=v.next())w=m(y,w.value,C),w!==null&&(h=l(w,h,R),D===null?A=w:D.sibling=w,D=w);return Y&&dn(y,R),A}for(M=i(M);!w.done;R++,w=v.next())w=g(M,y,R,w.value,C),w!==null&&(t&&w.alternate!==null&&M.delete(w.key===null?R:w.key),h=l(w,h,R),D===null?A=w:D.sibling=w,D=w);return t&&M.forEach(function(fe){return e(y,fe)}),Y&&dn(y,R),A}function _(y,h,v,C){if(typeof v=="object"&&v!==null&&v.type===Fn&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Fo:e:{for(var A=v.key;h!==null;){if(h.key===A){if(A=v.type,A===Fn){if(h.tag===7){n(y,h.sibling),C=o(h,v.props.children),C.return=y,y=C;break e}}else if(h.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Bt&&gc(A)===h.type){n(y,h.sibling),C=o(h,v.props),Bi(C,v),C.return=y,y=C;break e}n(y,h);break}else e(y,h);h=h.sibling}v.type===Fn?(C=gn(v.props.children,y.mode,C,v.key),C.return=y,y=C):(C=rl(v.type,v.key,v.props,null,y.mode,C),Bi(C,v),C.return=y,y=C)}return u(y);case Oi:e:{for(A=v.key;h!==null;){if(h.key===A)if(h.tag===4&&h.stateNode.containerInfo===v.containerInfo&&h.stateNode.implementation===v.implementation){n(y,h.sibling),C=o(h,v.children||[]),C.return=y,y=C;break e}else{n(y,h);break}else e(y,h);h=h.sibling}C=Ba(v,y.mode,C),C.return=y,y=C}return u(y);case Bt:return A=v._init,v=A(v._payload),_(y,h,v,C)}if(Yi(v))return T(y,h,v,C);if(Li(v)){if(A=Li(v),typeof A!="function")throw Error(x(150));return v=A.call(v),S(y,h,v,C)}if(typeof v.then=="function")return _(y,h,Xo(v),C);if(v.$$typeof===Et)return _(y,h,Ko(y,v),C);Zo(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint"?(v=""+v,h!==null&&h.tag===6?(n(y,h.sibling),C=o(h,v),C.return=y,y=C):(n(y,h),C=Pa(v,y.mode,C),C.return=y,y=C),u(y)):n(y,h)}return function(y,h,v,C){try{yo=0;var A=_(y,h,v,C);return ui=null,A}catch(M){if(M===qo||M===ca)throw M;var D=Fe(29,M,null,y.mode);return D.lanes=C,D.return=y,D}finally{}}}var vi=rp(!0),cp=rp(!1),ot=ht(null),gt=null;function kt(t){var e=t.alternate;le(Te,Te.current&1),le(ot,t),gt===null&&(e===null||hi.current!==null||e.memoizedState!==null)&&(gt=t)}function fp(t){if(t.tag===22){if(le(Te,Te.current),le(ot,t),gt===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(gt=t)}}else Ft()}function Ft(){le(Te,Te.current),le(ot,ot.current)}function Mt(t){_e(ot),gt===t&&(gt=null),_e(Te)}var Te=ht(0);function Ll(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||eu(n)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function ka(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:te({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ps={enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Je(),o=Xt(i);o.payload=e,n!=null&&(o.callback=n),e=Zt(t,o,i),e!==null&&(Qe(e,t,i),eo(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Je(),o=Xt(i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Zt(t,o,i),e!==null&&(Qe(e,t,i),eo(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Je(),i=Xt(n);i.tag=2,e!=null&&(i.callback=e),e=Zt(t,i,n),e!==null&&(Qe(e,t,n),eo(e,t,n))}};function hc(t,e,n,i,o,l,u){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,l,u):e.prototype&&e.prototype.isPureReactComponent?!po(n,i)||!po(o,l):!0}function yc(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Ps.enqueueReplaceState(e,e.state,null)}function Mn(t,e){var n=e;if("ref"in e){n={};for(var i in e)i!=="ref"&&(n[i]=e[i])}if(t=t.defaultProps){n===e&&(n=te({},n));for(var o in t)n[o]===void 0&&(n[o]=t[o])}return n}var Vl=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function dp(t){Vl(t)}function mp(t){console.error(t)}function pp(t){Vl(t)}function Gl(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function vc(t,e,n){try{var i=t.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Bs(t,e,n){return n=Xt(n),n.tag=3,n.payload={element:null},n.callback=function(){Gl(t,e)},n}function gp(t){return t=Xt(t),t.tag=3,t}function hp(t,e,n,i){var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var l=i.value;t.payload=function(){return o(l)},t.callback=function(){vc(e,n,i)}}var u=n.stateNode;u!==null&&typeof u.componentDidCatch=="function"&&(t.callback=function(){vc(e,n,i),typeof o!="function"&&(Wt===null?Wt=new Set([this]):Wt.add(this));var r=i.stack;this.componentDidCatch(i.value,{componentStack:r!==null?r:""})})}function jy(t,e,n,i,o){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=n.alternate,e!==null&&Uo(e,n,o,!0),n=ot.current,n!==null){switch(n.tag){case 13:return gt===null?Qs():n.alternate===null&&ce===0&&(ce=3),n.flags&=-257,n.flags|=65536,n.lanes=o,i===ws?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([i]):e.add(i),ja(t,i,o)),!1;case 22:return n.flags|=65536,i===ws?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([i]):n.add(i)),ja(t,i,o)),!1}throw Error(x(435,n.tag))}return ja(t,i,o),Qs(),!1}if(Y)return e=ot.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=o,i!==Ms&&(t=Error(x(422),{cause:i}),go(tt(t,n)))):(i!==Ms&&(e=Error(x(423),{cause:i}),go(tt(e,n))),t=t.current.alternate,t.flags|=65536,o&=-o,t.lanes|=o,i=tt(i,n),o=Bs(t.stateNode,i,o),Ha(t,o),ce!==4&&(ce=2)),!1;var l=Error(x(520),{cause:i});if(l=tt(l,n),ao===null?ao=[l]:ao.push(l),ce!==4&&(ce=2),e===null)return!0;i=tt(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=o&-o,n.lanes|=t,t=Bs(n.stateNode,i,t),Ha(n,t),!1;case 1:if(e=n.type,l=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||l!==null&&typeof l.componentDidCatch=="function"&&(Wt===null||!Wt.has(l))))return n.flags|=65536,o&=-o,n.lanes|=o,o=gp(o),hp(o,t,n,i),Ha(n,o),!1}n=n.return}while(n!==null);return!1}var yp=Error(x(461)),Ae=!1;function xe(t,e,n,i){e.child=t===null?cp(e,null,n,i):vi(e,t.child,n,i)}function Tc(t,e,n,i,o){n=n.render;var l=e.ref;if("ref"in i){var u={};for(var r in i)r!=="ref"&&(u[r]=i[r])}else u=i;return _n(e),i=Ku(t,e,n,u,l,o),r=$u(),t!==null&&!Ae?(Xu(t,e,o),wt(t,e,o)):(Y&&r&&zu(e),e.flags|=1,xe(t,e,i,o),e.child)}function Cc(t,e,n,i,o){if(t===null){var l=n.type;return typeof l=="function"&&!Hu(l)&&l.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=l,vp(t,e,l,i,o)):(t=rl(n.type,null,i,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(l=t.child,!lr(t,o)){var u=l.memoizedProps;if(n=n.compare,n=n!==null?n:po,n(u,i)&&t.ref===e.ref)return wt(t,e,o)}return e.flags|=1,t=Rt(l,i),t.ref=e.ref,t.return=e,e.child=t}function vp(t,e,n,i,o){if(t!==null){var l=t.memoizedProps;if(po(l,i)&&t.ref===e.ref)if(Ae=!1,e.pendingProps=i=l,lr(t,o))t.flags&131072&&(Ae=!0);else return e.lanes=t.lanes,wt(t,e,o)}return Hs(t,e,n,i,o)}function Tp(t,e,n){var i=e.pendingProps,o=i.children,l=t!==null?t.memoizedState:null;if(i.mode==="hidden"){if(e.flags&128){if(i=l!==null?l.baseLanes|n:n,t!==null){for(o=e.child=t.child,l=0;o!==null;)l=l|o.lanes|o.childLanes,o=o.sibling;e.childLanes=l&~i}else e.childLanes=0,e.child=null;return Sc(t,e,i,n)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&cl(e,l!==null?l.cachePool:null),l!==null?uc(e,l):qs(),fp(e);else return e.lanes=e.childLanes=536870912,Sc(t,e,l!==null?l.baseLanes|n:n,n)}else l!==null?(cl(e,l.cachePool),uc(e,l),Ft(),e.memoizedState=null):(t!==null&&cl(e,null),qs(),Ft());return xe(t,e,o,n),e.child}function Sc(t,e,n,i){var o=Ou();return o=o===null?null:{parent:ve._currentValue,pool:o},e.memoizedState={baseLanes:n,cachePool:o},t!==null&&cl(e,null),qs(),fp(e),t!==null&&Uo(t,e,i,!0),null}function ml(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(x(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function Hs(t,e,n,i,o){return _n(e),n=Ku(t,e,n,i,void 0,o),i=$u(),t!==null&&!Ae?(Xu(t,e,o),wt(t,e,o)):(Y&&i&&zu(e),e.flags|=1,xe(t,e,n,o),e.child)}function Ec(t,e,n,i,o,l){return _n(e),e.updateQueue=null,n=Um(e,i,n,o),wm(t),i=$u(),t!==null&&!Ae?(Xu(t,e,l),wt(t,e,l)):(Y&&i&&zu(e),e.flags|=1,xe(t,e,n,l),e.child)}function Ac(t,e,n,i,o){if(_n(e),e.stateNode===null){var l=Zn,u=n.contextType;typeof u=="object"&&u!==null&&(l=be(u)),l=new n(i,l),e.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Ps,e.stateNode=l,l._reactInternals=e,l=e.stateNode,l.props=i,l.state=e.memoizedState,l.refs={},Yu(e),u=n.contextType,l.context=typeof u=="object"&&u!==null?be(u):Zn,l.state=e.memoizedState,u=n.getDerivedStateFromProps,typeof u=="function"&&(ka(e,n,u,i),l.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(u=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),u!==l.state&&Ps.enqueueReplaceState(l,l.state,null),no(e,i,l,o),to(),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){l=e.stateNode;var r=e.memoizedProps,c=Mn(n,r);l.props=c;var f=l.context,d=n.contextType;u=Zn,typeof d=="object"&&d!==null&&(u=be(d));var m=n.getDerivedStateFromProps;d=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function",r=e.pendingProps!==r,d||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(r||f!==u)&&yc(e,l,i,u),Ht=!1;var p=e.memoizedState;l.state=p,no(e,i,l,o),to(),f=e.memoizedState,r||p!==f||Ht?(typeof m=="function"&&(ka(e,n,m,i),f=e.memoizedState),(c=Ht||hc(e,n,c,i,p,f,u))?(d||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=f),l.props=i,l.state=f,l.context=u,i=c):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{l=e.stateNode,Us(t,e),u=e.memoizedProps,d=Mn(n,u),l.props=d,m=e.pendingProps,p=l.context,f=n.contextType,c=Zn,typeof f=="object"&&f!==null&&(c=be(f)),r=n.getDerivedStateFromProps,(f=typeof r=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==m||p!==c)&&yc(e,l,i,c),Ht=!1,p=e.memoizedState,l.state=p,no(e,i,l,o),to();var g=e.memoizedState;u!==m||p!==g||Ht||t!==null&&t.dependencies!==null&&bl(t.dependencies)?(typeof r=="function"&&(ka(e,n,r,i),g=e.memoizedState),(d=Ht||hc(e,n,d,i,p,g,c)||t!==null&&t.dependencies!==null&&bl(t.dependencies))?(f||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(i,g,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(i,g,c)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=g),l.props=i,l.state=g,l.context=c,i=d):(typeof l.componentDidUpdate!="function"||u===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),i=!1)}return l=i,ml(t,e),i=(e.flags&128)!==0,l||i?(l=e.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:l.render(),e.flags|=1,t!==null&&i?(e.child=vi(e,t.child,null,o),e.child=vi(e,null,n,o)):xe(t,e,n,o),e.memoizedState=l.state,t=e.child):t=wt(t,e,o),t}function _c(t,e,n,i){return wo(),e.flags|=256,xe(t,e,n,i),e.child}var Fa={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Oa(t){return{baseLanes:t,cachePool:Mm()}}function Ya(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=nt),t}function Cp(t,e,n){var i=e.pendingProps,o=!1,l=(e.flags&128)!==0,u;if((u=l)||(u=t!==null&&t.memoizedState===null?!1:(Te.current&2)!==0),u&&(o=!0,e.flags&=-129),u=(e.flags&32)!==0,e.flags&=-33,t===null){if(Y){if(o?kt(e):Ft(),Y){var r=re,c;if(c=r){e:{for(c=r,r=ft;c.nodeType!==8;){if(!r){r=null;break e}if(c=ut(c.nextSibling),c===null){r=null;break e}}r=c}r!==null?(e.memoizedState={dehydrated:r,treeContext:hn!==null?{id:At,overflow:_t}:null,retryLane:536870912,hydrationErrors:null},c=Fe(18,null,null,0),c.stateNode=r,c.return=e,e.child=c,Ue=e,re=null,c=!0):c=!1}c||An(e)}if(r=e.memoizedState,r!==null&&(r=r.dehydrated,r!==null))return eu(r)?e.lanes=32:e.lanes=536870912,null;Mt(e)}return r=i.children,i=i.fallback,o?(Ft(),o=e.mode,r=Pl({mode:"hidden",children:r},o),i=gn(i,o,n,null),r.return=e,i.return=e,r.sibling=i,e.child=r,o=e.child,o.memoizedState=Oa(n),o.childLanes=Ya(t,u,n),e.memoizedState=Fa,i):(kt(e),zs(e,r))}if(c=t.memoizedState,c!==null&&(r=c.dehydrated,r!==null)){if(l)e.flags&256?(kt(e),e.flags&=-257,e=Ja(t,e,n)):e.memoizedState!==null?(Ft(),e.child=t.child,e.flags|=128,e=null):(Ft(),o=i.fallback,r=e.mode,i=Pl({mode:"visible",children:i.children},r),o=gn(o,r,n,null),o.flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,vi(e,t.child,null,n),i=e.child,i.memoizedState=Oa(n),i.childLanes=Ya(t,u,n),e.memoizedState=Fa,e=o);else if(kt(e),eu(r)){if(u=r.nextSibling&&r.nextSibling.dataset,u)var f=u.dgst;u=f,i=Error(x(419)),i.stack="",i.digest=u,go({value:i,source:null,stack:null}),e=Ja(t,e,n)}else if(Ae||Uo(t,e,n,!1),u=(n&t.childLanes)!==0,Ae||u){if(u=j,u!==null&&(i=n&-n,i=i&42?1:Nu(i),i=i&(u.suspendedLanes|n)?0:i,i!==0&&i!==c.retryLane))throw c.retryLane=i,Mi(t,i),Qe(u,t,i),yp;r.data==="$?"||Qs(),e=Ja(t,e,n)}else r.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=c.treeContext,re=ut(r.nextSibling),Ue=e,Y=!0,yn=null,ft=!1,t!==null&&(We[je++]=At,We[je++]=_t,We[je++]=hn,At=t.id,_t=t.overflow,hn=e),e=zs(e,i.children),e.flags|=4096);return e}return o?(Ft(),o=i.fallback,r=e.mode,c=t.child,f=c.sibling,i=Rt(c,{mode:"hidden",children:i.children}),i.subtreeFlags=c.subtreeFlags&65011712,f!==null?o=Rt(f,o):(o=gn(o,r,n,null),o.flags|=2),o.return=e,i.return=e,i.sibling=o,e.child=i,i=o,o=e.child,r=t.child.memoizedState,r===null?r=Oa(n):(c=r.cachePool,c!==null?(f=ve._currentValue,c=c.parent!==f?{parent:f,pool:f}:c):c=Mm(),r={baseLanes:r.baseLanes|n,cachePool:c}),o.memoizedState=r,o.childLanes=Ya(t,u,n),e.memoizedState=Fa,i):(kt(e),n=t.child,t=n.sibling,n=Rt(n,{mode:"visible",children:i.children}),n.return=e,n.sibling=null,t!==null&&(u=e.deletions,u===null?(e.deletions=[t],e.flags|=16):u.push(t)),e.child=n,e.memoizedState=null,n)}function zs(t,e){return e=Pl({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Pl(t,e){return t=Fe(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Ja(t,e,n){return vi(e,t.child,null,n),t=zs(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function xc(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Ds(t.return,e,n)}function Qa(t,e,n,i,o){var l=t.memoizedState;l===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:o}:(l.isBackwards=e,l.rendering=null,l.renderingStartTime=0,l.last=i,l.tail=n,l.tailMode=o)}function Sp(t,e,n){var i=e.pendingProps,o=i.revealOrder,l=i.tail;if(xe(t,e,i.children,n),i=Te.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xc(t,n,e);else if(t.tag===19)xc(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}switch(le(Te,i),o){case"forwards":for(n=e.child,o=null;n!==null;)t=n.alternate,t!==null&&Ll(t)===null&&(o=n),n=n.sibling;n=o,n===null?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),Qa(e,!1,o,n,l);break;case"backwards":for(n=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&Ll(t)===null){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}Qa(e,!0,n,null,l);break;case"together":Qa(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function wt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),an|=e.lanes,!(n&e.childLanes))if(t!==null){if(Uo(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(x(153));if(e.child!==null){for(t=e.child,n=Rt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Rt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function lr(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&bl(t)))}function ev(t,e,n){switch(e.tag){case 3:El(e,e.stateNode.containerInfo),zt(e,ve,t.memoizedState.cache),wo();break;case 27:case 5:hs(e);break;case 4:El(e,e.stateNode.containerInfo);break;case 10:zt(e,e.type,e.memoizedProps.value);break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(kt(e),e.flags|=128,null):n&e.child.childLanes?Cp(t,e,n):(kt(e),t=wt(t,e,n),t!==null?t.sibling:null);kt(e);break;case 19:var o=(t.flags&128)!==0;if(i=(n&e.childLanes)!==0,i||(Uo(t,e,n,!1),i=(n&e.childLanes)!==0),o){if(i)return Sp(t,e,n);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),le(Te,Te.current),i)break;return null;case 22:case 23:return e.lanes=0,Tp(t,e,n);case 24:zt(e,ve,t.memoizedState.cache)}return wt(t,e,n)}function Ep(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Ae=!0;else{if(!lr(t,n)&&!(e.flags&128))return Ae=!1,ev(t,e,n);Ae=!!(t.flags&131072)}else Ae=!1,Y&&e.flags&1048576&&_m(e,Nl,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var i=e.elementType,o=i._init;if(i=o(i._payload),e.type=i,typeof i=="function")Hu(i)?(t=Mn(i,t),e.tag=1,e=Ac(null,e,i,t,n)):(e.tag=0,e=Hs(null,e,i,t,n));else{if(i!=null){if(o=i.$$typeof,o===Mu){e.tag=11,e=Tc(null,e,i,t,n);break e}else if(o===Ru){e.tag=14,e=Cc(null,e,i,t,n);break e}}throw e=ps(i)||i,Error(x(306,e,""))}}return e;case 0:return Hs(t,e,e.type,e.pendingProps,n);case 1:return i=e.type,o=Mn(i,e.pendingProps),Ac(t,e,i,o,n);case 3:e:{if(El(e,e.stateNode.containerInfo),t===null)throw Error(x(387));i=e.pendingProps;var l=e.memoizedState;o=l.element,Us(t,e),no(e,i,null,n);var u=e.memoizedState;if(i=u.cache,zt(e,ve,i),i!==l.cache&&Ns(e,[ve],n,!0),to(),i=u.element,l.isDehydrated)if(l={element:i,isDehydrated:!1,cache:u.cache},e.updateQueue.baseState=l,e.memoizedState=l,e.flags&256){e=_c(t,e,i,n);break e}else if(i!==o){o=tt(Error(x(424)),e),go(o),e=_c(t,e,i,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(re=ut(t.firstChild),Ue=e,Y=!0,yn=null,ft=!0,n=cp(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(wo(),i===o){e=wt(t,e,n);break e}xe(t,e,i,n)}e=e.child}return e;case 26:return ml(t,e),t===null?(n=kc(e.type,null,e.pendingProps,null))?e.memoizedState=n:Y||(n=e.type,t=e.pendingProps,i=Yl($t.current).createElement(n),i[Ne]=e,i[Pe]=t,Re(i,n,t),Ee(i),e.stateNode=i):e.memoizedState=kc(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return hs(e),t===null&&Y&&(i=e.stateNode=ug(e.type,e.pendingProps,$t.current),Ue=e,ft=!0,o=re,un(e.type)?(tu=o,re=ut(i.firstChild)):re=o),xe(t,e,e.pendingProps.children,n),ml(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Y&&((o=i=re)&&(i=Dv(i,e.type,e.pendingProps,ft),i!==null?(e.stateNode=i,Ue=e,re=ut(i.firstChild),ft=!1,o=!0):o=!1),o||An(e)),hs(e),o=e.type,l=e.pendingProps,u=t!==null?t.memoizedProps:null,i=l.children,Ws(o,l)?i=null:u!==null&&Ws(o,u)&&(e.flags|=32),e.memoizedState!==null&&(o=Ku(t,e,Jy,null,null,n),So._currentValue=o),ml(t,e),xe(t,e,i,n),e.child;case 6:return t===null&&Y&&((t=n=re)&&(n=Nv(n,e.pendingProps,ft),n!==null?(e.stateNode=n,Ue=e,re=null,t=!0):t=!1),t||An(e)),null;case 13:return Cp(t,e,n);case 4:return El(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=vi(e,null,i,n):xe(t,e,i,n),e.child;case 11:return Tc(t,e,e.type,e.pendingProps,n);case 7:return xe(t,e,e.pendingProps,n),e.child;case 8:return xe(t,e,e.pendingProps.children,n),e.child;case 12:return xe(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,zt(e,e.type,i.value),xe(t,e,i.children,n),e.child;case 9:return o=e.type._context,i=e.pendingProps.children,_n(e),o=be(o),i=i(o),e.flags|=1,xe(t,e,i,n),e.child;case 14:return Cc(t,e,e.type,e.pendingProps,n);case 15:return vp(t,e,e.type,e.pendingProps,n);case 19:return Sp(t,e,n);case 31:return i=e.pendingProps,n=e.mode,i={mode:i.mode,children:i.children},t===null?(n=Pl(i,n),n.ref=e.ref,e.child=n,n.return=e,e=n):(n=Rt(t.child,i),n.ref=e.ref,e.child=n,n.return=e,e=n),e;case 22:return Tp(t,e,n);case 24:return _n(e),i=be(ve),t===null?(o=Ou(),o===null&&(o=j,l=Fu(),o.pooledCache=l,l.refCount++,l!==null&&(o.pooledCacheLanes|=n),o=l),e.memoizedState={parent:i,cache:o},Yu(e),zt(e,ve,o)):(t.lanes&n&&(Us(t,e),no(e,null,null,n),to()),o=t.memoizedState,l=e.memoizedState,o.parent!==i?(o={parent:i,cache:i},e.memoizedState=o,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=o),zt(e,ve,i)):(i=l.cache,zt(e,ve,i),i!==o.cache&&Ns(e,[ve],n,!0))),xe(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(x(156,e.tag))}function Tt(t){t.flags|=4}function Mc(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!fg(e)){if(e=ot.current,e!==null&&((F&4194048)===F?gt!==null:(F&62914560)!==F&&!(F&536870912)||e!==gt))throw ji=ws,Rm;t.flags|=8192}}function Wo(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?Kd():536870912,t.lanes|=e,Ti|=e)}function Hi(t,e){if(!Y)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function se(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var o=t.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags&65011712,i|=o.flags&65011712,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function tv(t,e,n){var i=e.pendingProps;switch(ku(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(e),null;case 1:return se(e),null;case 3:return n=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),Dt(ve),di(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Pi(e)?Tt(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,nc())),se(e),null;case 26:return n=e.memoizedState,t===null?(Tt(e),n!==null?(se(e),Mc(e,n)):(se(e),e.flags&=-16777217)):n?n!==t.memoizedState?(Tt(e),se(e),Mc(e,n)):(se(e),e.flags&=-16777217):(t.memoizedProps!==i&&Tt(e),se(e),e.flags&=-16777217),null;case 27:Al(e),n=$t.current;var o=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Tt(e);else{if(!i){if(e.stateNode===null)throw Error(x(166));return se(e),null}t=mt.current,Pi(e)?ec(e):(t=ug(o,i,n),e.stateNode=t,Tt(e))}return se(e),null;case 5:if(Al(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Tt(e);else{if(!i){if(e.stateNode===null)throw Error(x(166));return se(e),null}if(t=mt.current,Pi(e))ec(e);else{switch(o=Yl($t.current),t){case 1:t=o.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=o.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof i.is=="string"?o.createElement("select",{is:i.is}):o.createElement("select"),i.multiple?t.multiple=!0:i.size&&(t.size=i.size);break;default:t=typeof i.is=="string"?o.createElement(n,{is:i.is}):o.createElement(n)}}t[Ne]=e,t[Pe]=i;e:for(o=e.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===e)break e;for(;o.sibling===null;){if(o.return===null||o.return===e)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}e.stateNode=t;e:switch(Re(t,n,i),n){case"button":case"input":case"select":case"textarea":t=!!i.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Tt(e)}}return se(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==i&&Tt(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(x(166));if(t=$t.current,Pi(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,o=Ue,o!==null)switch(o.tag){case 27:case 5:i=o.memoizedProps}t[Ne]=e,t=!!(t.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||lg(t.nodeValue,n)),t||An(e)}else t=Yl(t).createTextNode(i),t[Ne]=e,e.stateNode=t}return se(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(o=Pi(e),i!==null&&i.dehydrated!==null){if(t===null){if(!o)throw Error(x(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(x(317));o[Ne]=e}else wo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;se(e),o=!1}else o=nc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=o),o=!0;if(!o)return e.flags&256?(Mt(e),e):(Mt(e),null)}if(Mt(e),e.flags&128)return e.lanes=n,e;if(n=i!==null,t=t!==null&&t.memoizedState!==null,n){i=e.child,o=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(o=i.alternate.memoizedState.cachePool.pool);var l=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==o&&(i.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),Wo(e,e.updateQueue),se(e),null;case 4:return di(),t===null&&mr(e.stateNode.containerInfo),se(e),null;case 10:return Dt(e.type),se(e),null;case 19:if(_e(Te),o=e.memoizedState,o===null)return se(e),null;if(i=(e.flags&128)!==0,l=o.rendering,l===null)if(i)Hi(o,!1);else{if(ce!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=Ll(t),l!==null){for(e.flags|=128,Hi(o,!1),t=l.updateQueue,e.updateQueue=t,Wo(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)Am(n,t),n=n.sibling;return le(Te,Te.current&1|2),e.child}t=t.sibling}o.tail!==null&&pt()>Hl&&(e.flags|=128,i=!0,Hi(o,!1),e.lanes=4194304)}else{if(!i)if(t=Ll(l),t!==null){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,Wo(e,t),Hi(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!Y)return se(e),null}else 2*pt()-o.renderingStartTime>Hl&&n!==536870912&&(e.flags|=128,i=!0,Hi(o,!1),e.lanes=4194304);o.isBackwards?(l.sibling=e.child,e.child=l):(t=o.last,t!==null?t.sibling=l:e.child=l,o.last=l)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=pt(),e.sibling=null,t=Te.current,le(Te,i?t&1|2:t&1),e):(se(e),null);case 22:case 23:return Mt(e),Ju(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?n&536870912&&!(e.flags&128)&&(se(e),e.subtreeFlags&6&&(e.flags|=8192)):se(e),n=e.updateQueue,n!==null&&Wo(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),t!==null&&_e(vn),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Dt(ve),se(e),null;case 25:return null;case 30:return null}throw Error(x(156,e.tag))}function nv(t,e){switch(ku(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Dt(ve),di(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Al(e),null;case 13:if(Mt(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(x(340));wo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return _e(Te),null;case 4:return di(),null;case 10:return Dt(e.type),null;case 22:case 23:return Mt(e),Ju(),t!==null&&_e(vn),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Dt(ve),null;case 25:return null;default:return null}}function Ap(t,e){switch(ku(e),e.tag){case 3:Dt(ve),di();break;case 26:case 27:case 5:Al(e);break;case 4:di();break;case 13:Mt(e);break;case 19:_e(Te);break;case 10:Dt(e.type);break;case 22:case 23:Mt(e),Ju(),t!==null&&_e(vn);break;case 24:Dt(ve)}}function Go(t,e){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var o=i.next;n=o;do{if((n.tag&t)===t){i=void 0;var l=n.create,u=n.inst;i=l(),u.destroy=i}n=n.next}while(n!==o)}}catch(r){W(e,e.return,r)}}function ln(t,e,n){try{var i=e.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var l=o.next;i=l;do{if((i.tag&t)===t){var u=i.inst,r=u.destroy;if(r!==void 0){u.destroy=void 0,o=e;var c=n,f=r;try{f()}catch(d){W(o,c,d)}}}i=i.next}while(i!==l)}}catch(d){W(e,e.return,d)}}function _p(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{bm(e,n)}catch(i){W(t,t.return,i)}}}function xp(t,e,n){n.props=Mn(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){W(t,e,i)}}function oo(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof n=="function"?t.refCleanup=n(i):n.current=i}}catch(o){W(t,e,o)}}function dt(t,e){var n=t.ref,i=t.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(o){W(t,e,o)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(o){W(t,e,o)}else n.current=null}function Mp(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(o){W(t,t.return,o)}}function Ka(t,e,n){try{var i=t.stateNode;Av(i,t.type,n,e),i[Pe]=e}catch(o){W(t,t.return,o)}}function Rp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&un(t.type)||t.tag===4}function $a(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Rp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&un(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ks(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ya));else if(i!==4&&(i===27&&un(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(ks(t,e,n),t=t.sibling;t!==null;)ks(t,e,n),t=t.sibling}function Bl(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(i===27&&un(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Bl(t,e,n),t=t.sibling;t!==null;)Bl(t,e,n),t=t.sibling}function Dp(t){var e=t.stateNode,n=t.memoizedProps;try{for(var i=t.type,o=e.attributes;o.length;)e.removeAttributeNode(o[0]);Re(e,i,n),e[Ne]=t,e[Pe]=n}catch(l){W(t,t.return,l)}}var St=!1,me=!1,Xa=!1,Rc=typeof WeakSet=="function"?WeakSet:Set,Se=null;function iv(t,e){if(t=t.containerInfo,Xs=$l,t=gm(t),Gu(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var o=i.anchorOffset,l=i.focusNode;i=i.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var u=0,r=-1,c=-1,f=0,d=0,m=t,p=null;t:for(;;){for(var g;m!==n||o!==0&&m.nodeType!==3||(r=u+o),m!==l||i!==0&&m.nodeType!==3||(c=u+i),m.nodeType===3&&(u+=m.nodeValue.length),(g=m.firstChild)!==null;)p=m,m=g;for(;;){if(m===t)break t;if(p===n&&++f===o&&(r=u),p===l&&++d===i&&(c=u),(g=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=g}n=r===-1||c===-1?null:{start:r,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zs={focusedElem:t,selectionRange:n},$l=!1,Se=e;Se!==null;)if(e=Se,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,Se=t;else for(;Se!==null;){switch(e=Se,l=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&l!==null){t=void 0,n=e,o=l.memoizedProps,l=l.memoizedState,i=n.stateNode;try{var T=Mn(n.type,o,n.elementType===n.type);t=i.getSnapshotBeforeUpdate(T,l),i.__reactInternalSnapshotBeforeUpdate=t}catch(S){W(n,n.return,S)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)js(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":js(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(x(163))}if(t=e.sibling,t!==null){t.return=e.return,Se=t;break}Se=e.return}}function Np(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Gt(t,n),i&4&&Go(5,n);break;case 1:if(Gt(t,n),i&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(u){W(n,n.return,u)}else{var o=Mn(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(o,e,t.__reactInternalSnapshotBeforeUpdate)}catch(u){W(n,n.return,u)}}i&64&&_p(n),i&512&&oo(n,n.return);break;case 3:if(Gt(t,n),i&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{bm(t,e)}catch(u){W(n,n.return,u)}}break;case 27:e===null&&i&4&&Dp(n);case 26:case 5:Gt(t,n),e===null&&i&4&&Mp(n),i&512&&oo(n,n.return);break;case 12:Gt(t,n);break;case 13:Gt(t,n),i&4&&Up(t,n),i&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=dv.bind(null,n),bv(t,n))));break;case 22:if(i=n.memoizedState!==null||St,!i){e=e!==null&&e.memoizedState!==null||me,o=St;var l=me;St=i,(me=e)&&!l?Pt(t,n,(n.subtreeFlags&8772)!==0):Gt(t,n),St=o,me=l}break;case 30:break;default:Gt(t,n)}}function bp(t){var e=t.alternate;e!==null&&(t.alternate=null,bp(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&wu(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ie=null,Ve=!1;function Ct(t,e,n){for(n=n.child;n!==null;)wp(t,e,n),n=n.sibling}function wp(t,e,n){if(Oe&&typeof Oe.onCommitFiberUnmount=="function")try{Oe.onCommitFiberUnmount(Mo,n)}catch{}switch(n.tag){case 26:me||dt(n,e),Ct(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:me||dt(n,e);var i=ie,o=Ve;un(n.type)&&(ie=n.stateNode,Ve=!1),Ct(t,e,n),uo(n.stateNode),ie=i,Ve=o;break;case 5:me||dt(n,e);case 6:if(i=ie,o=Ve,ie=null,Ct(t,e,n),ie=i,Ve=o,ie!==null)if(Ve)try{(ie.nodeType===9?ie.body:ie.nodeName==="HTML"?ie.ownerDocument.body:ie).removeChild(n.stateNode)}catch(l){W(n,e,l)}else try{ie.removeChild(n.stateNode)}catch(l){W(n,e,l)}break;case 18:ie!==null&&(Ve?(t=ie,Bc(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),_o(t)):Bc(ie,n.stateNode));break;case 4:i=ie,o=Ve,ie=n.stateNode.containerInfo,Ve=!0,Ct(t,e,n),ie=i,Ve=o;break;case 0:case 11:case 14:case 15:me||ln(2,n,e),me||ln(4,n,e),Ct(t,e,n);break;case 1:me||(dt(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"&&xp(n,e,i)),Ct(t,e,n);break;case 21:Ct(t,e,n);break;case 22:me=(i=me)||n.memoizedState!==null,Ct(t,e,n),me=i;break;default:Ct(t,e,n)}}function Up(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{_o(t)}catch(n){W(e,e.return,n)}}function ov(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Rc),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Rc),e;default:throw Error(x(435,t.tag))}}function Za(t,e){var n=ov(t);e.forEach(function(i){var o=mv.bind(null,t,i);n.has(i)||(n.add(i),i.then(o,o))})}function He(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var o=n[i],l=t,u=e,r=u;e:for(;r!==null;){switch(r.tag){case 27:if(un(r.type)){ie=r.stateNode,Ve=!1;break e}break;case 5:ie=r.stateNode,Ve=!1;break e;case 3:case 4:ie=r.stateNode.containerInfo,Ve=!0;break e}r=r.return}if(ie===null)throw Error(x(160));wp(l,u,o),ie=null,Ve=!1,l=o.alternate,l!==null&&(l.return=null),o.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)Ip(e,t),e=e.sibling}var st=null;function Ip(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:He(e,t),ze(t),i&4&&(ln(3,t,t.return),Go(3,t),ln(5,t,t.return));break;case 1:He(e,t),ze(t),i&512&&(me||n===null||dt(n,n.return)),i&64&&St&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var o=st;if(He(e,t),ze(t),i&512&&(me||n===null||dt(n,n.return)),i&4){var l=n!==null?n.memoizedState:null;if(i=t.memoizedState,n===null)if(i===null)if(t.stateNode===null){e:{i=t.type,n=t.memoizedProps,o=o.ownerDocument||o;t:switch(i){case"title":l=o.getElementsByTagName("title")[0],(!l||l[No]||l[Ne]||l.namespaceURI==="http://www.w3.org/2000/svg"||l.hasAttribute("itemprop"))&&(l=o.createElement(i),o.head.insertBefore(l,o.querySelector("head > title"))),Re(l,i,n),l[Ne]=t,Ee(l),i=l;break e;case"link":var u=Oc("link","href",o).get(i+(n.href||""));if(u){for(var r=0;r<u.length;r++)if(l=u[r],l.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&l.getAttribute("rel")===(n.rel==null?null:n.rel)&&l.getAttribute("title")===(n.title==null?null:n.title)&&l.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){u.splice(r,1);break t}}l=o.createElement(i),Re(l,i,n),o.head.appendChild(l);break;case"meta":if(u=Oc("meta","content",o).get(i+(n.content||""))){for(r=0;r<u.length;r++)if(l=u[r],l.getAttribute("content")===(n.content==null?null:""+n.content)&&l.getAttribute("name")===(n.name==null?null:n.name)&&l.getAttribute("property")===(n.property==null?null:n.property)&&l.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&l.getAttribute("charset")===(n.charSet==null?null:n.charSet)){u.splice(r,1);break t}}l=o.createElement(i),Re(l,i,n),o.head.appendChild(l);break;default:throw Error(x(468,i))}l[Ne]=t,Ee(l),i=l}t.stateNode=i}else Yc(o,t.type,t.stateNode);else t.stateNode=Fc(o,i,t.memoizedProps);else l!==i?(l===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):l.count--,i===null?Yc(o,t.type,t.stateNode):Fc(o,i,t.memoizedProps)):i===null&&t.stateNode!==null&&Ka(t,t.memoizedProps,n.memoizedProps)}break;case 27:He(e,t),ze(t),i&512&&(me||n===null||dt(n,n.return)),n!==null&&i&4&&Ka(t,t.memoizedProps,n.memoizedProps);break;case 5:if(He(e,t),ze(t),i&512&&(me||n===null||dt(n,n.return)),t.flags&32){o=t.stateNode;try{pi(o,"")}catch(g){W(t,t.return,g)}}i&4&&t.stateNode!=null&&(o=t.memoizedProps,Ka(t,o,n!==null?n.memoizedProps:o)),i&1024&&(Xa=!0);break;case 6:if(He(e,t),ze(t),i&4){if(t.stateNode===null)throw Error(x(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(g){W(t,t.return,g)}}break;case 3:if(hl=null,o=st,st=Jl(e.containerInfo),He(e,t),st=o,ze(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{_o(e.containerInfo)}catch(g){W(t,t.return,g)}Xa&&(Xa=!1,qp(t));break;case 4:i=st,st=Jl(t.stateNode.containerInfo),He(e,t),ze(t),st=i;break;case 12:He(e,t),ze(t);break;case 13:He(e,t),ze(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(cr=pt()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Za(t,i)));break;case 22:o=t.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,f=St,d=me;if(St=f||o,me=d||c,He(e,t),me=d,St=f,ze(t),i&8192)e:for(e=t.stateNode,e._visibility=o?e._visibility&-2:e._visibility|1,o&&(n===null||c||St||me||mn(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){c=n=e;try{if(l=c.stateNode,o)u=l.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none";else{r=c.stateNode;var m=c.memoizedProps.style,p=m!=null&&m.hasOwnProperty("display")?m.display:null;r.style.display=p==null||typeof p=="boolean"?"":(""+p).trim()}}catch(g){W(c,c.return,g)}}}else if(e.tag===6){if(n===null){c=e;try{c.stateNode.nodeValue=o?"":c.memoizedProps}catch(g){W(c,c.return,g)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=t.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Za(t,n))));break;case 19:He(e,t),ze(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Za(t,i)));break;case 30:break;case 21:break;default:He(e,t),ze(t)}}function ze(t){var e=t.flags;if(e&2){try{for(var n,i=t.return;i!==null;){if(Rp(i)){n=i;break}i=i.return}if(n==null)throw Error(x(160));switch(n.tag){case 27:var o=n.stateNode,l=$a(t);Bl(t,l,o);break;case 5:var u=n.stateNode;n.flags&32&&(pi(u,""),n.flags&=-33);var r=$a(t);Bl(t,r,u);break;case 3:case 4:var c=n.stateNode.containerInfo,f=$a(t);ks(t,f,c);break;default:throw Error(x(161))}}catch(d){W(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function qp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;qp(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Gt(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Np(t,e.alternate,e),e=e.sibling}function mn(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:ln(4,e,e.return),mn(e);break;case 1:dt(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&xp(e,e.return,n),mn(e);break;case 27:uo(e.stateNode);case 26:case 5:dt(e,e.return),mn(e);break;case 22:e.memoizedState===null&&mn(e);break;case 30:mn(e);break;default:mn(e)}t=t.sibling}}function Pt(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,o=t,l=e,u=l.flags;switch(l.tag){case 0:case 11:case 15:Pt(o,l,n),Go(4,l);break;case 1:if(Pt(o,l,n),i=l,o=i.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(f){W(i,i.return,f)}if(i=l,o=i.updateQueue,o!==null){var r=i.stateNode;try{var c=o.shared.hiddenCallbacks;if(c!==null)for(o.shared.hiddenCallbacks=null,o=0;o<c.length;o++)Nm(c[o],r)}catch(f){W(i,i.return,f)}}n&&u&64&&_p(l),oo(l,l.return);break;case 27:Dp(l);case 26:case 5:Pt(o,l,n),n&&i===null&&u&4&&Mp(l),oo(l,l.return);break;case 12:Pt(o,l,n);break;case 13:Pt(o,l,n),n&&u&4&&Up(o,l);break;case 22:l.memoizedState===null&&Pt(o,l,n),oo(l,l.return);break;case 30:break;default:Pt(o,l,n)}e=e.sibling}}function ar(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Io(n))}function sr(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Io(t))}function ct(t,e,n,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Lp(t,e,n,i),e=e.sibling}function Lp(t,e,n,i){var o=e.flags;switch(e.tag){case 0:case 11:case 15:ct(t,e,n,i),o&2048&&Go(9,e);break;case 1:ct(t,e,n,i);break;case 3:ct(t,e,n,i),o&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Io(t)));break;case 12:if(o&2048){ct(t,e,n,i),t=e.stateNode;try{var l=e.memoizedProps,u=l.id,r=l.onPostCommit;typeof r=="function"&&r(u,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(c){W(e,e.return,c)}}else ct(t,e,n,i);break;case 13:ct(t,e,n,i);break;case 23:break;case 22:l=e.stateNode,u=e.alternate,e.memoizedState!==null?l._visibility&2?ct(t,e,n,i):lo(t,e):l._visibility&2?ct(t,e,n,i):(l._visibility|=2,zn(t,e,n,i,(e.subtreeFlags&10256)!==0)),o&2048&&ar(u,e);break;case 24:ct(t,e,n,i),o&2048&&sr(e.alternate,e);break;default:ct(t,e,n,i)}}function zn(t,e,n,i,o){for(o=o&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var l=t,u=e,r=n,c=i,f=u.flags;switch(u.tag){case 0:case 11:case 15:zn(l,u,r,c,o),Go(8,u);break;case 23:break;case 22:var d=u.stateNode;u.memoizedState!==null?d._visibility&2?zn(l,u,r,c,o):lo(l,u):(d._visibility|=2,zn(l,u,r,c,o)),o&&f&2048&&ar(u.alternate,u);break;case 24:zn(l,u,r,c,o),o&&f&2048&&sr(u.alternate,u);break;default:zn(l,u,r,c,o)}e=e.sibling}}function lo(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,i=e,o=i.flags;switch(i.tag){case 22:lo(n,i),o&2048&&ar(i.alternate,i);break;case 24:lo(n,i),o&2048&&sr(i.alternate,i);break;default:lo(n,i)}e=e.sibling}}var Qi=8192;function Gn(t){if(t.subtreeFlags&Qi)for(t=t.child;t!==null;)Vp(t),t=t.sibling}function Vp(t){switch(t.tag){case 26:Gn(t),t.flags&Qi&&t.memoizedState!==null&&Fv(st,t.memoizedState,t.memoizedProps);break;case 5:Gn(t);break;case 3:case 4:var e=st;st=Jl(t.stateNode.containerInfo),Gn(t),st=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=Qi,Qi=16777216,Gn(t),Qi=e):Gn(t));break;default:Gn(t)}}function Gp(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function zi(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];Se=i,Bp(i,t)}Gp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Pp(t),t=t.sibling}function Pp(t){switch(t.tag){case 0:case 11:case 15:zi(t),t.flags&2048&&ln(9,t,t.return);break;case 3:zi(t);break;case 12:zi(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,pl(t)):zi(t);break;default:zi(t)}}function pl(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];Se=i,Bp(i,t)}Gp(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:ln(8,e,e.return),pl(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,pl(e));break;default:pl(e)}t=t.sibling}}function Bp(t,e){for(;Se!==null;){var n=Se;switch(n.tag){case 0:case 11:case 15:ln(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Io(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Se=i;else e:for(n=t;Se!==null;){i=Se;var o=i.sibling,l=i.return;if(bp(i),i===n){Se=null;break e}if(o!==null){o.return=l,Se=o;break e}Se=l}}}var lv={getCacheForType:function(t){var e=be(ve),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},av=typeof WeakMap=="function"?WeakMap:Map,K=0,j=null,H=null,F=0,Q=0,ke=null,Qt=!1,Ri=!1,ur=!1,Ut=0,ce=0,an=0,Tn=0,rr=0,nt=0,Ti=0,ao=null,Ge=null,Fs=!1,cr=0,Hl=1/0,zl=null,Wt=null,Me=0,jt=null,Ci=null,ri=0,Os=0,Ys=null,Hp=null,so=0,Js=null;function Je(){if(K&2&&F!==0)return F&-F;if(q.T!==null){var t=gi;return t!==0?t:dr()}return Zd()}function zp(){nt===0&&(nt=!(F&536870912)||Y?Qd():536870912);var t=ot.current;return t!==null&&(t.flags|=32),nt}function Qe(t,e,n){(t===j&&(Q===2||Q===9)||t.cancelPendingCommit!==null)&&(Si(t,0),Kt(t,F,nt,!1)),Do(t,n),(!(K&2)||t!==j)&&(t===j&&(!(K&2)&&(Tn|=n),ce===4&&Kt(t,F,nt,!1)),yt(t))}function kp(t,e,n){if(K&6)throw Error(x(327));var i=!n&&(e&124)===0&&(e&t.expiredLanes)===0||Ro(t,e),o=i?rv(t,e):Wa(t,e,!0),l=i;do{if(o===0){Ri&&!i&&Kt(t,e,0,!1);break}else{if(n=t.current.alternate,l&&!sv(n)){o=Wa(t,e,!1),l=!1;continue}if(o===2){if(l=e,t.errorRecoveryDisabledLanes&l)var u=0;else u=t.pendingLanes&-536870913,u=u!==0?u:u&536870912?536870912:0;if(u!==0){e=u;e:{var r=t;o=ao;var c=r.current.memoizedState.isDehydrated;if(c&&(Si(r,u).flags|=256),u=Wa(r,u,!1),u!==2){if(ur&&!c){r.errorRecoveryDisabledLanes|=l,Tn|=l,o=4;break e}l=Ge,Ge=o,l!==null&&(Ge===null?Ge=l:Ge.push.apply(Ge,l))}o=u}if(l=!1,o!==2)continue}}if(o===1){Si(t,0),Kt(t,e,0,!0);break}e:{switch(i=t,l=o,l){case 0:case 1:throw Error(x(345));case 4:if((e&4194048)!==e)break;case 6:Kt(i,e,nt,!Qt);break e;case 2:Ge=null;break;case 3:case 5:break;default:throw Error(x(329))}if((e&62914560)===e&&(o=cr+300-pt(),10<o)){if(Kt(i,e,nt,!Qt),oa(i,0,!0)!==0)break e;i.timeoutHandle=sg(Dc.bind(null,i,n,Ge,zl,Fs,e,nt,Tn,Ti,Qt,l,2,-0,0),o);break e}Dc(i,n,Ge,zl,Fs,e,nt,Tn,Ti,Qt,l,0,-0,0)}}break}while(1);yt(t)}function Dc(t,e,n,i,o,l,u,r,c,f,d,m,p,g){if(t.timeoutHandle=-1,m=e.subtreeFlags,(m&8192||(m&16785408)===16785408)&&(Co={stylesheets:null,count:0,unsuspend:kv},Vp(e),m=Ov(),m!==null)){t.cancelPendingCommit=m(bc.bind(null,t,e,l,n,i,o,u,r,c,d,1,p,g)),Kt(t,l,u,!f);return}bc(t,e,l,n,i,o,u,r,c)}function sv(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var o=n[i],l=o.getSnapshot;o=o.value;try{if(!Ke(l(),o))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Kt(t,e,n,i){e&=~rr,e&=~Tn,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var o=e;0<o;){var l=31-Ye(o),u=1<<l;i[l]=-1,o&=~u}n!==0&&$d(t,n,e)}function pa(){return K&6?!0:(Po(0,!1),!1)}function fr(){if(H!==null){if(Q===0)var t=H.return;else t=H,xt=wn=null,Zu(t),ui=null,yo=0,t=H;for(;t!==null;)Ap(t.alternate,t),t=t.return;H=null}}function Si(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,xv(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),fr(),j=t,H=n=Rt(t.current,null),F=e,Q=0,ke=null,Qt=!1,Ri=Ro(t,e),ur=!1,Ti=nt=rr=Tn=an=ce=0,Ge=ao=null,Fs=!1,e&8&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var o=31-Ye(i),l=1<<o;e|=t[o],i&=~l}return Ut=e,ua(),n}function Fp(t,e){P=null,q.H=ql,e===qo||e===ca?(e=ac(),Q=3):e===Rm?(e=ac(),Q=4):Q=e===yp?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,ke=e,H===null&&(ce=1,Gl(t,tt(e,t.current)))}function Op(){var t=q.H;return q.H=ql,t===null?ql:t}function Yp(){var t=q.A;return q.A=lv,t}function Qs(){ce=4,Qt||(F&4194048)!==F&&ot.current!==null||(Ri=!0),!(an&134217727)&&!(Tn&134217727)||j===null||Kt(j,F,nt,!1)}function Wa(t,e,n){var i=K;K|=2;var o=Op(),l=Yp();(j!==t||F!==e)&&(zl=null,Si(t,e)),e=!1;var u=ce;e:do try{if(Q!==0&&H!==null){var r=H,c=ke;switch(Q){case 8:fr(),u=6;break e;case 3:case 2:case 9:case 6:ot.current===null&&(e=!0);var f=Q;if(Q=0,ke=null,ei(t,r,c,f),n&&Ri){u=0;break e}break;default:f=Q,Q=0,ke=null,ei(t,r,c,f)}}uv(),u=ce;break}catch(d){Fp(t,d)}while(1);return e&&t.shellSuspendCounter++,xt=wn=null,K=i,q.H=o,q.A=l,H===null&&(j=null,F=0,ua()),u}function uv(){for(;H!==null;)Jp(H)}function rv(t,e){var n=K;K|=2;var i=Op(),o=Yp();j!==t||F!==e?(zl=null,Hl=pt()+500,Si(t,e)):Ri=Ro(t,e);e:do try{if(Q!==0&&H!==null){e=H;var l=ke;t:switch(Q){case 1:Q=0,ke=null,ei(t,e,l,1);break;case 2:case 9:if(lc(l)){Q=0,ke=null,Nc(e);break}e=function(){Q!==2&&Q!==9||j!==t||(Q=7),yt(t)},l.then(e,e);break e;case 3:Q=7;break e;case 4:Q=5;break e;case 7:lc(l)?(Q=0,ke=null,Nc(e)):(Q=0,ke=null,ei(t,e,l,7));break;case 5:var u=null;switch(H.tag){case 26:u=H.memoizedState;case 5:case 27:var r=H;if(!u||fg(u)){Q=0,ke=null;var c=r.sibling;if(c!==null)H=c;else{var f=r.return;f!==null?(H=f,ga(f)):H=null}break t}}Q=0,ke=null,ei(t,e,l,5);break;case 6:Q=0,ke=null,ei(t,e,l,6);break;case 8:fr(),ce=6;break e;default:throw Error(x(462))}}cv();break}catch(d){Fp(t,d)}while(1);return xt=wn=null,q.H=i,q.A=o,K=n,H!==null?0:(j=null,F=0,ua(),ce)}function cv(){for(;H!==null&&!Uh();)Jp(H)}function Jp(t){var e=Ep(t.alternate,t,Ut);t.memoizedProps=t.pendingProps,e===null?ga(t):H=e}function Nc(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Ec(n,e,e.pendingProps,e.type,void 0,F);break;case 11:e=Ec(n,e,e.pendingProps,e.type.render,e.ref,F);break;case 5:Zu(e);default:Ap(n,e),e=H=Am(e,Ut),e=Ep(n,e,Ut)}t.memoizedProps=t.pendingProps,e===null?ga(t):H=e}function ei(t,e,n,i){xt=wn=null,Zu(e),ui=null,yo=0;var o=e.return;try{if(jy(t,o,e,n,F)){ce=1,Gl(t,tt(n,t.current)),H=null;return}}catch(l){if(o!==null)throw H=o,l;ce=1,Gl(t,tt(n,t.current)),H=null;return}e.flags&32768?(Y||i===1?t=!0:Ri||F&536870912?t=!1:(Qt=t=!0,(i===2||i===9||i===3||i===6)&&(i=ot.current,i!==null&&i.tag===13&&(i.flags|=16384))),Qp(e,t)):ga(e)}function ga(t){var e=t;do{if(e.flags&32768){Qp(e,Qt);return}t=e.return;var n=tv(e.alternate,e,Ut);if(n!==null){H=n;return}if(e=e.sibling,e!==null){H=e;return}H=e=t}while(e!==null);ce===0&&(ce=5)}function Qp(t,e){do{var n=nv(t.alternate,t);if(n!==null){n.flags&=32767,H=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){H=t;return}H=t=n}while(t!==null);ce=6,H=null}function bc(t,e,n,i,o,l,u,r,c){t.cancelPendingCommit=null;do ha();while(Me!==0);if(K&6)throw Error(x(327));if(e!==null){if(e===t.current)throw Error(x(177));if(l=e.lanes|e.childLanes,l|=Pu,kh(t,n,l,u,r,c),t===j&&(H=j=null,F=0),Ci=e,jt=t,ri=n,Os=l,Ys=o,Hp=i,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,pv(_l,function(){return Wp(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(e.flags&13878)!==0,e.subtreeFlags&13878||i){i=q.T,q.T=null,o=J.p,J.p=2,u=K,K|=4;try{iv(t,e,n)}finally{K=u,J.p=o,q.T=i}}Me=1,Kp(),$p(),Xp()}}function Kp(){if(Me===1){Me=0;var t=jt,e=Ci,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=q.T,q.T=null;var i=J.p;J.p=2;var o=K;K|=4;try{Ip(e,t);var l=Zs,u=gm(t.containerInfo),r=l.focusedElem,c=l.selectionRange;if(u!==r&&r&&r.ownerDocument&&pm(r.ownerDocument.documentElement,r)){if(c!==null&&Gu(r)){var f=c.start,d=c.end;if(d===void 0&&(d=f),"selectionStart"in r)r.selectionStart=f,r.selectionEnd=Math.min(d,r.value.length);else{var m=r.ownerDocument||document,p=m&&m.defaultView||window;if(p.getSelection){var g=p.getSelection(),T=r.textContent.length,S=Math.min(c.start,T),_=c.end===void 0?S:Math.min(c.end,T);!g.extend&&S>_&&(u=_,_=S,S=u);var y=Zr(r,S),h=Zr(r,_);if(y&&h&&(g.rangeCount!==1||g.anchorNode!==y.node||g.anchorOffset!==y.offset||g.focusNode!==h.node||g.focusOffset!==h.offset)){var v=m.createRange();v.setStart(y.node,y.offset),g.removeAllRanges(),S>_?(g.addRange(v),g.extend(h.node,h.offset)):(v.setEnd(h.node,h.offset),g.addRange(v))}}}}for(m=[],g=r;g=g.parentNode;)g.nodeType===1&&m.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<m.length;r++){var C=m[r];C.element.scrollLeft=C.left,C.element.scrollTop=C.top}}$l=!!Xs,Zs=Xs=null}finally{K=o,J.p=i,q.T=n}}t.current=e,Me=2}}function $p(){if(Me===2){Me=0;var t=jt,e=Ci,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=q.T,q.T=null;var i=J.p;J.p=2;var o=K;K|=4;try{Np(t,e.alternate,e)}finally{K=o,J.p=i,q.T=n}}Me=3}}function Xp(){if(Me===4||Me===3){Me=0,Ih();var t=jt,e=Ci,n=ri,i=Hp;e.subtreeFlags&10256||e.flags&10256?Me=5:(Me=0,Ci=jt=null,Zp(t,t.pendingLanes));var o=t.pendingLanes;if(o===0&&(Wt=null),bu(n),e=e.stateNode,Oe&&typeof Oe.onCommitFiberRoot=="function")try{Oe.onCommitFiberRoot(Mo,e,void 0,(e.current.flags&128)===128)}catch{}if(i!==null){e=q.T,o=J.p,J.p=2,q.T=null;try{for(var l=t.onRecoverableError,u=0;u<i.length;u++){var r=i[u];l(r.value,{componentStack:r.stack})}}finally{q.T=e,J.p=o}}ri&3&&ha(),yt(t),o=t.pendingLanes,n&4194090&&o&42?t===Js?so++:(so=0,Js=t):so=0,Po(0,!1)}}function Zp(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Io(e)))}function ha(t){return Kp(),$p(),Xp(),Wp()}function Wp(){if(Me!==5)return!1;var t=jt,e=Os;Os=0;var n=bu(ri),i=q.T,o=J.p;try{J.p=32>n?32:n,q.T=null,n=Ys,Ys=null;var l=jt,u=ri;if(Me=0,Ci=jt=null,ri=0,K&6)throw Error(x(331));var r=K;if(K|=4,Pp(l.current),Lp(l,l.current,u,n),K=r,Po(0,!1),Oe&&typeof Oe.onPostCommitFiberRoot=="function")try{Oe.onPostCommitFiberRoot(Mo,l)}catch{}return!0}finally{J.p=o,q.T=i,Zp(t,e)}}function wc(t,e,n){e=tt(n,e),e=Bs(t.stateNode,e,2),t=Zt(t,e,2),t!==null&&(Do(t,2),yt(t))}function W(t,e,n){if(t.tag===3)wc(t,t,n);else for(;e!==null;){if(e.tag===3){wc(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Wt===null||!Wt.has(i))){t=tt(n,t),n=gp(2),i=Zt(e,n,2),i!==null&&(hp(n,i,e,t),Do(i,2),yt(i));break}}e=e.return}}function ja(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new av;var o=new Set;i.set(e,o)}else o=i.get(e),o===void 0&&(o=new Set,i.set(e,o));o.has(n)||(ur=!0,o.add(n),t=fv.bind(null,t,e,n),e.then(t,t))}function fv(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,j===t&&(F&n)===n&&(ce===4||ce===3&&(F&62914560)===F&&300>pt()-cr?!(K&2)&&Si(t,0):rr|=n,Ti===F&&(Ti=0)),yt(t)}function jp(t,e){e===0&&(e=Kd()),t=Mi(t,e),t!==null&&(Do(t,e),yt(t))}function dv(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),jp(t,n)}function mv(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,o=t.memoizedState;o!==null&&(n=o.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(x(314))}i!==null&&i.delete(e),jp(t,n)}function pv(t,e){return Du(t,e)}var kl=null,kn=null,Ks=!1,Fl=!1,es=!1,Cn=0;function yt(t){t!==kn&&t.next===null&&(kn===null?kl=kn=t:kn=kn.next=t),Fl=!0,Ks||(Ks=!0,hv())}function Po(t,e){if(!es&&Fl){es=!0;do for(var n=!1,i=kl;i!==null;){if(!e)if(t!==0){var o=i.pendingLanes;if(o===0)var l=0;else{var u=i.suspendedLanes,r=i.pingedLanes;l=(1<<31-Ye(42|t)+1)-1,l&=o&~(u&~r),l=l&201326741?l&201326741|1:l?l|2:0}l!==0&&(n=!0,Uc(i,l))}else l=F,l=oa(i,i===j?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(l&3)||Ro(i,l)||(n=!0,Uc(i,l));i=i.next}while(n);es=!1}}function gv(){eg()}function eg(){Fl=Ks=!1;var t=0;Cn!==0&&(_v()&&(t=Cn),Cn=0);for(var e=pt(),n=null,i=kl;i!==null;){var o=i.next,l=tg(i,e);l===0?(i.next=null,n===null?kl=o:n.next=o,o===null&&(kn=n)):(n=i,(t!==0||l&3)&&(Fl=!0)),i=o}Po(t,!1)}function tg(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,o=t.expirationTimes,l=t.pendingLanes&-62914561;0<l;){var u=31-Ye(l),r=1<<u,c=o[u];c===-1?(!(r&n)||r&i)&&(o[u]=zh(r,e)):c<=e&&(t.expiredLanes|=r),l&=~r}if(e=j,n=F,n=oa(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,n===0||t===e&&(Q===2||Q===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&Ma(i),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Ro(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(i!==null&&Ma(i),bu(n)){case 2:case 8:n=Yd;break;case 32:n=_l;break;case 268435456:n=Jd;break;default:n=_l}return i=ng.bind(null,t),n=Du(n,i),t.callbackPriority=e,t.callbackNode=n,e}return i!==null&&i!==null&&Ma(i),t.callbackPriority=2,t.callbackNode=null,2}function ng(t,e){if(Me!==0&&Me!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(ha()&&t.callbackNode!==n)return null;var i=F;return i=oa(t,t===j?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(kp(t,i,e),tg(t,pt()),t.callbackNode!=null&&t.callbackNode===n?ng.bind(null,t):null)}function Uc(t,e){if(ha())return null;kp(t,e,!0)}function hv(){Mv(function(){K&6?Du(Od,gv):eg()})}function dr(){return Cn===0&&(Cn=Qd()),Cn}function Ic(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:al(""+t)}function qc(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function yv(t,e,n,i,o){if(e==="submit"&&n&&n.stateNode===o){var l=Ic((o[Pe]||null).action),u=i.submitter;u&&(e=(e=u[Pe]||null)?Ic(e.formAction):u.getAttribute("formAction"),e!==null&&(l=e,u=null));var r=new la("action","action",null,i,o);t.push({event:r,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Cn!==0){var c=u?qc(o,u):new FormData(o);Gs(n,{pending:!0,data:c,method:o.method,action:l},null,c)}}else typeof l=="function"&&(r.preventDefault(),c=u?qc(o,u):new FormData(o),Gs(n,{pending:!0,data:c,method:o.method,action:l},l,c))},currentTarget:o}]})}}for(var ts=0;ts<xs.length;ts++){var ns=xs[ts],vv=ns.toLowerCase(),Tv=ns[0].toUpperCase()+ns.slice(1);rt(vv,"on"+Tv)}rt(ym,"onAnimationEnd");rt(vm,"onAnimationIteration");rt(Tm,"onAnimationStart");rt("dblclick","onDoubleClick");rt("focusin","onFocus");rt("focusout","onBlur");rt(Vy,"onTransitionRun");rt(Gy,"onTransitionStart");rt(Py,"onTransitionCancel");rt(Cm,"onTransitionEnd");mi("onMouseEnter",["mouseout","mouseover"]);mi("onMouseLeave",["mouseout","mouseover"]);mi("onPointerEnter",["pointerout","pointerover"]);mi("onPointerLeave",["pointerout","pointerover"]);Dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Dn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vo));function ig(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],o=i.event;i=i.listeners;e:{var l=void 0;if(e)for(var u=i.length-1;0<=u;u--){var r=i[u],c=r.instance,f=r.currentTarget;if(r=r.listener,c!==l&&o.isPropagationStopped())break e;l=r,o.currentTarget=f;try{l(o)}catch(d){Vl(d)}o.currentTarget=null,l=c}else for(u=0;u<i.length;u++){if(r=i[u],c=r.instance,f=r.currentTarget,r=r.listener,c!==l&&o.isPropagationStopped())break e;l=r,o.currentTarget=f;try{l(o)}catch(d){Vl(d)}o.currentTarget=null,l=c}}}}function B(t,e){var n=e[vs];n===void 0&&(n=e[vs]=new Set);var i=t+"__bubble";n.has(i)||(og(e,t,2,!1),n.add(i))}function is(t,e,n){var i=0;e&&(i|=4),og(n,t,i,e)}var jo="_reactListening"+Math.random().toString(36).slice(2);function mr(t){if(!t[jo]){t[jo]=!0,Wd.forEach(function(n){n!=="selectionchange"&&(Cv.has(n)||is(n,!1,t),is(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[jo]||(e[jo]=!0,is("selectionchange",!1,e))}}function og(t,e,n,i){switch(hg(e)){case 2:var o=Qv;break;case 8:o=Kv;break;default:o=yr}n=o.bind(null,e,n,t),o=void 0,!Es||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),i?o!==void 0?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):o!==void 0?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function os(t,e,n,i,o){var l=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var u=i.tag;if(u===3||u===4){var r=i.stateNode.containerInfo;if(r===o)break;if(u===4)for(u=i.return;u!==null;){var c=u.tag;if((c===3||c===4)&&u.stateNode.containerInfo===o)return;u=u.return}for(;r!==null;){if(u=Yn(r),u===null)return;if(c=u.tag,c===5||c===6||c===26||c===27){i=l=u;continue e}r=r.parentNode}}i=i.return}am(function(){var f=l,d=Iu(n),m=[];e:{var p=Sm.get(t);if(p!==void 0){var g=la,T=t;switch(t){case"keypress":if(ul(n)===0)break e;case"keydown":case"keyup":g=py;break;case"focusin":T="focus",g=qa;break;case"focusout":T="blur",g=qa;break;case"beforeblur":case"afterblur":g=qa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=zr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=ny;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=yy;break;case ym:case vm:case Tm:g=ly;break;case Cm:g=Ty;break;case"scroll":case"scrollend":g=ey;break;case"wheel":g=Sy;break;case"copy":case"cut":case"paste":g=sy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Fr;break;case"toggle":case"beforetoggle":g=Ay}var S=(e&4)!==0,_=!S&&(t==="scroll"||t==="scrollend"),y=S?p!==null?p+"Capture":null:p;S=[];for(var h=f,v;h!==null;){var C=h;if(v=C.stateNode,C=C.tag,C!==5&&C!==26&&C!==27||v===null||y===null||(C=fo(h,y),C!=null&&S.push(To(h,C,v))),_)break;h=h.return}0<S.length&&(p=new g(p,T,null,n,d),m.push({event:p,listeners:S}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==Ss&&(T=n.relatedTarget||n.fromElement)&&(Yn(T)||T[_i]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(T=n.relatedTarget||n.toElement,g=f,T=T?Yn(T):null,T!==null&&(_=xo(T),S=T.tag,T!==_||S!==5&&S!==27&&S!==6)&&(T=null)):(g=null,T=f),g!==T)){if(S=zr,C="onMouseLeave",y="onMouseEnter",h="mouse",(t==="pointerout"||t==="pointerover")&&(S=Fr,C="onPointerLeave",y="onPointerEnter",h="pointer"),_=g==null?p:Ji(g),v=T==null?p:Ji(T),p=new S(C,h+"leave",g,n,d),p.target=_,p.relatedTarget=v,C=null,Yn(d)===f&&(S=new S(y,h+"enter",T,n,d),S.target=v,S.relatedTarget=_,C=S),_=C,g&&T)t:{for(S=g,y=T,h=0,v=S;v;v=Pn(v))h++;for(v=0,C=y;C;C=Pn(C))v++;for(;0<h-v;)S=Pn(S),h--;for(;0<v-h;)y=Pn(y),v--;for(;h--;){if(S===y||y!==null&&S===y.alternate)break t;S=Pn(S),y=Pn(y)}S=null}else S=null;g!==null&&Lc(m,p,g,S,!1),T!==null&&_!==null&&Lc(m,_,T,S,!0)}}e:{if(p=f?Ji(f):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var A=Qr;else if(Jr(p))if(dm)A=Iy;else{A=wy;var D=by}else g=p.nodeName,!g||g.toLowerCase()!=="input"||p.type!=="checkbox"&&p.type!=="radio"?f&&Uu(f.elementType)&&(A=Qr):A=Uy;if(A&&(A=A(t,f))){fm(m,A,n,d);break e}D&&D(t,p,f),t==="focusout"&&f&&p.type==="number"&&f.memoizedProps.value!=null&&Cs(p,"number",p.value)}switch(D=f?Ji(f):window,t){case"focusin":(Jr(D)||D.contentEditable==="true")&&(Kn=D,As=f,Zi=null);break;case"focusout":Zi=As=Kn=null;break;case"mousedown":_s=!0;break;case"contextmenu":case"mouseup":case"dragend":_s=!1,Wr(m,n,d);break;case"selectionchange":if(Ly)break;case"keydown":case"keyup":Wr(m,n,d)}var M;if(Vu)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Qn?rm(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(um&&n.locale!=="ko"&&(Qn||R!=="onCompositionStart"?R==="onCompositionEnd"&&Qn&&(M=sm()):(Jt=d,qu="value"in Jt?Jt.value:Jt.textContent,Qn=!0)),D=Ol(f,R),0<D.length&&(R=new kr(R,t,null,n,d),m.push({event:R,listeners:D}),M?R.data=M:(M=cm(n),M!==null&&(R.data=M)))),(M=xy?My(t,n):Ry(t,n))&&(R=Ol(f,"onBeforeInput"),0<R.length&&(D=new kr("onBeforeInput","beforeinput",null,n,d),m.push({event:D,listeners:R}),D.data=M)),yv(m,t,f,n,d)}ig(m,e)})}function To(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ol(t,e){for(var n=e+"Capture",i=[];t!==null;){var o=t,l=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||l===null||(o=fo(t,n),o!=null&&i.unshift(To(t,o,l)),o=fo(t,e),o!=null&&i.push(To(t,o,l))),t.tag===3)return i;t=t.return}return[]}function Pn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Lc(t,e,n,i,o){for(var l=e._reactName,u=[];n!==null&&n!==i;){var r=n,c=r.alternate,f=r.stateNode;if(r=r.tag,c!==null&&c===i)break;r!==5&&r!==26&&r!==27||f===null||(c=f,o?(f=fo(n,l),f!=null&&u.unshift(To(n,f,c))):o||(f=fo(n,l),f!=null&&u.push(To(n,f,c)))),n=n.return}u.length!==0&&t.push({event:e,listeners:u})}var Sv=/\r\n?/g,Ev=/\u0000|\uFFFD/g;function Vc(t){return(typeof t=="string"?t:""+t).replace(Sv,`
`).replace(Ev,"")}function lg(t,e){return e=Vc(e),Vc(t)===e}function ya(){}function X(t,e,n,i,o,l){switch(n){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||pi(t,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&pi(t,""+i);break;case"className":Jo(t,"class",i);break;case"tabIndex":Jo(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Jo(t,n,i);break;case"style":lm(t,i,l);break;case"data":if(e!=="object"){Jo(t,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=al(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof l=="function"&&(n==="formAction"?(e!=="input"&&X(t,e,"name",o.name,o,null),X(t,e,"formEncType",o.formEncType,o,null),X(t,e,"formMethod",o.formMethod,o,null),X(t,e,"formTarget",o.formTarget,o,null)):(X(t,e,"encType",o.encType,o,null),X(t,e,"method",o.method,o,null),X(t,e,"target",o.target,o,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=al(""+i),t.setAttribute(n,i);break;case"onClick":i!=null&&(t.onclick=ya);break;case"onScroll":i!=null&&B("scroll",t);break;case"onScrollEnd":i!=null&&B("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(x(61));if(n=i.__html,n!=null){if(o.children!=null)throw Error(x(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}n=al(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":i===!0?t.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":B("beforetoggle",t),B("toggle",t),ll(t,"popover",i);break;case"xlinkActuate":vt(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":vt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":vt(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":vt(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":vt(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":vt(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":vt(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":vt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":vt(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":ll(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Wh.get(n)||n,ll(t,n,i))}}function $s(t,e,n,i,o,l){switch(n){case"style":lm(t,i,l);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(x(61));if(n=i.__html,n!=null){if(o.children!=null)throw Error(x(60));t.innerHTML=n}}break;case"children":typeof i=="string"?pi(t,i):(typeof i=="number"||typeof i=="bigint")&&pi(t,""+i);break;case"onScroll":i!=null&&B("scroll",t);break;case"onScrollEnd":i!=null&&B("scrollend",t);break;case"onClick":i!=null&&(t.onclick=ya);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jd.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(o=n.endsWith("Capture"),e=n.slice(2,o?n.length-7:void 0),l=t[Pe]||null,l=l!=null?l[n]:null,typeof l=="function"&&t.removeEventListener(e,l,o),typeof i=="function")){typeof l!="function"&&l!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,o);break e}n in t?t[n]=i:i===!0?t.setAttribute(n,""):ll(t,n,i)}}}function Re(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":B("error",t),B("load",t);var i=!1,o=!1,l;for(l in n)if(n.hasOwnProperty(l)){var u=n[l];if(u!=null)switch(l){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(x(137,e));default:X(t,e,l,u,n,null)}}o&&X(t,e,"srcSet",n.srcSet,n,null),i&&X(t,e,"src",n.src,n,null);return;case"input":B("invalid",t);var r=l=u=o=null,c=null,f=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(d!=null)switch(i){case"name":o=d;break;case"type":u=d;break;case"checked":c=d;break;case"defaultChecked":f=d;break;case"value":l=d;break;case"defaultValue":r=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(x(137,e));break;default:X(t,e,i,d,n,null)}}nm(t,l,r,c,f,u,o,!1),xl(t);return;case"select":B("invalid",t),i=u=l=null;for(o in n)if(n.hasOwnProperty(o)&&(r=n[o],r!=null))switch(o){case"value":l=r;break;case"defaultValue":u=r;break;case"multiple":i=r;default:X(t,e,o,r,n,null)}e=l,n=u,t.multiple=!!i,e!=null?ii(t,!!i,e,!1):n!=null&&ii(t,!!i,n,!0);return;case"textarea":B("invalid",t),l=o=i=null;for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"value":i=r;break;case"defaultValue":o=r;break;case"children":l=r;break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(x(91));break;default:X(t,e,u,r,n,null)}om(t,i,o,l),xl(t);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:X(t,e,c,i,n,null)}return;case"dialog":B("beforetoggle",t),B("toggle",t),B("cancel",t),B("close",t);break;case"iframe":case"object":B("load",t);break;case"video":case"audio":for(i=0;i<vo.length;i++)B(vo[i],t);break;case"image":B("error",t),B("load",t);break;case"details":B("toggle",t);break;case"embed":case"source":case"link":B("error",t),B("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(f in n)if(n.hasOwnProperty(f)&&(i=n[f],i!=null))switch(f){case"children":case"dangerouslySetInnerHTML":throw Error(x(137,e));default:X(t,e,f,i,n,null)}return;default:if(Uu(e)){for(d in n)n.hasOwnProperty(d)&&(i=n[d],i!==void 0&&$s(t,e,d,i,n,void 0));return}}for(r in n)n.hasOwnProperty(r)&&(i=n[r],i!=null&&X(t,e,r,i,n,null))}function Av(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,l=null,u=null,r=null,c=null,f=null,d=null;for(g in n){var m=n[g];if(n.hasOwnProperty(g)&&m!=null)switch(g){case"checked":break;case"value":break;case"defaultValue":c=m;default:i.hasOwnProperty(g)||X(t,e,g,null,i,m)}}for(var p in i){var g=i[p];if(m=n[p],i.hasOwnProperty(p)&&(g!=null||m!=null))switch(p){case"type":l=g;break;case"name":o=g;break;case"checked":f=g;break;case"defaultChecked":d=g;break;case"value":u=g;break;case"defaultValue":r=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(x(137,e));break;default:g!==m&&X(t,e,p,g,i,m)}}Ts(t,u,r,c,f,d,l,o);return;case"select":g=u=r=p=null;for(l in n)if(c=n[l],n.hasOwnProperty(l)&&c!=null)switch(l){case"value":break;case"multiple":g=c;default:i.hasOwnProperty(l)||X(t,e,l,null,i,c)}for(o in i)if(l=i[o],c=n[o],i.hasOwnProperty(o)&&(l!=null||c!=null))switch(o){case"value":p=l;break;case"defaultValue":r=l;break;case"multiple":u=l;default:l!==c&&X(t,e,o,l,i,c)}e=r,n=u,i=g,p!=null?ii(t,!!n,p,!1):!!i!=!!n&&(e!=null?ii(t,!!n,e,!0):ii(t,!!n,n?[]:"",!1));return;case"textarea":g=p=null;for(r in n)if(o=n[r],n.hasOwnProperty(r)&&o!=null&&!i.hasOwnProperty(r))switch(r){case"value":break;case"children":break;default:X(t,e,r,null,i,o)}for(u in i)if(o=i[u],l=n[u],i.hasOwnProperty(u)&&(o!=null||l!=null))switch(u){case"value":p=o;break;case"defaultValue":g=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(x(91));break;default:o!==l&&X(t,e,u,o,i,l)}im(t,p,g);return;case"option":for(var T in n)if(p=n[T],n.hasOwnProperty(T)&&p!=null&&!i.hasOwnProperty(T))switch(T){case"selected":t.selected=!1;break;default:X(t,e,T,null,i,p)}for(c in i)if(p=i[c],g=n[c],i.hasOwnProperty(c)&&p!==g&&(p!=null||g!=null))switch(c){case"selected":t.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:X(t,e,c,p,i,g)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var S in n)p=n[S],n.hasOwnProperty(S)&&p!=null&&!i.hasOwnProperty(S)&&X(t,e,S,null,i,p);for(f in i)if(p=i[f],g=n[f],i.hasOwnProperty(f)&&p!==g&&(p!=null||g!=null))switch(f){case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(x(137,e));break;default:X(t,e,f,p,i,g)}return;default:if(Uu(e)){for(var _ in n)p=n[_],n.hasOwnProperty(_)&&p!==void 0&&!i.hasOwnProperty(_)&&$s(t,e,_,void 0,i,p);for(d in i)p=i[d],g=n[d],!i.hasOwnProperty(d)||p===g||p===void 0&&g===void 0||$s(t,e,d,p,i,g);return}}for(var y in n)p=n[y],n.hasOwnProperty(y)&&p!=null&&!i.hasOwnProperty(y)&&X(t,e,y,null,i,p);for(m in i)p=i[m],g=n[m],!i.hasOwnProperty(m)||p===g||p==null&&g==null||X(t,e,m,p,i,g)}var Xs=null,Zs=null;function Yl(t){return t.nodeType===9?t:t.ownerDocument}function Gc(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ag(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Ws(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ls=null;function _v(){var t=window.event;return t&&t.type==="popstate"?t===ls?!1:(ls=t,!0):(ls=null,!1)}var sg=typeof setTimeout=="function"?setTimeout:void 0,xv=typeof clearTimeout=="function"?clearTimeout:void 0,Pc=typeof Promise=="function"?Promise:void 0,Mv=typeof queueMicrotask=="function"?queueMicrotask:typeof Pc<"u"?function(t){return Pc.resolve(null).then(t).catch(Rv)}:sg;function Rv(t){setTimeout(function(){throw t})}function un(t){return t==="head"}function Bc(t,e){var n=e,i=0,o=0;do{var l=n.nextSibling;if(t.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(0<i&&8>i){n=i;var u=t.ownerDocument;if(n&1&&uo(u.documentElement),n&2&&uo(u.body),n&4)for(n=u.head,uo(n),u=n.firstChild;u;){var r=u.nextSibling,c=u.nodeName;u[No]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&u.rel.toLowerCase()==="stylesheet"||n.removeChild(u),u=r}}if(o===0){t.removeChild(l),_o(e);return}o--}else n==="$"||n==="$?"||n==="$!"?o++:i=n.charCodeAt(0)-48;else i=0;n=l}while(n);_o(e)}function js(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":js(n),wu(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function Dv(t,e,n,i){for(;t.nodeType===1;){var o=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[No])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(l=t.getAttribute("rel"),l==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(l!==o.rel||t.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||t.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||t.getAttribute("title")!==(o.title==null?null:o.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(l=t.getAttribute("src"),(l!==(o.src==null?null:o.src)||t.getAttribute("type")!==(o.type==null?null:o.type)||t.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&l&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var l=o.name==null?null:""+o.name;if(o.type==="hidden"&&t.getAttribute("name")===l)return t}else return t;if(t=ut(t.nextSibling),t===null)break}return null}function Nv(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ut(t.nextSibling),t===null))return null;return t}function eu(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function bv(t,e){var n=t.ownerDocument;if(t.data!=="$?"||n.readyState==="complete")e();else{var i=function(){e(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function ut(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var tu=null;function Hc(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}function ug(t,e,n){switch(e=Yl(n),t){case"html":if(t=e.documentElement,!t)throw Error(x(452));return t;case"head":if(t=e.head,!t)throw Error(x(453));return t;case"body":if(t=e.body,!t)throw Error(x(454));return t;default:throw Error(x(451))}}function uo(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);wu(t)}var lt=new Map,zc=new Set;function Jl(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var It=J.d;J.d={f:wv,r:Uv,D:Iv,C:qv,L:Lv,m:Vv,X:Pv,S:Gv,M:Bv};function wv(){var t=It.f(),e=pa();return t||e}function Uv(t){var e=xi(t);e!==null&&e.tag===5&&e.type==="form"?tp(e):It.r(t)}var Di=typeof document>"u"?null:document;function rg(t,e,n){var i=Di;if(i&&typeof e=="string"&&e){var o=et(e);o='link[rel="'+t+'"][href="'+o+'"]',typeof n=="string"&&(o+='[crossorigin="'+n+'"]'),zc.has(o)||(zc.add(o),t={rel:t,crossOrigin:n,href:e},i.querySelector(o)===null&&(e=i.createElement("link"),Re(e,"link",t),Ee(e),i.head.appendChild(e)))}}function Iv(t){It.D(t),rg("dns-prefetch",t,null)}function qv(t,e){It.C(t,e),rg("preconnect",t,e)}function Lv(t,e,n){It.L(t,e,n);var i=Di;if(i&&t&&e){var o='link[rel="preload"][as="'+et(e)+'"]';e==="image"&&n&&n.imageSrcSet?(o+='[imagesrcset="'+et(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(o+='[imagesizes="'+et(n.imageSizes)+'"]')):o+='[href="'+et(t)+'"]';var l=o;switch(e){case"style":l=Ei(t);break;case"script":l=Ni(t)}lt.has(l)||(t=te({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),lt.set(l,t),i.querySelector(o)!==null||e==="style"&&i.querySelector(Bo(l))||e==="script"&&i.querySelector(Ho(l))||(e=i.createElement("link"),Re(e,"link",t),Ee(e),i.head.appendChild(e)))}}function Vv(t,e){It.m(t,e);var n=Di;if(n&&t){var i=e&&typeof e.as=="string"?e.as:"script",o='link[rel="modulepreload"][as="'+et(i)+'"][href="'+et(t)+'"]',l=o;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":l=Ni(t)}if(!lt.has(l)&&(t=te({rel:"modulepreload",href:t},e),lt.set(l,t),n.querySelector(o)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ho(l)))return}i=n.createElement("link"),Re(i,"link",t),Ee(i),n.head.appendChild(i)}}}function Gv(t,e,n){It.S(t,e,n);var i=Di;if(i&&t){var o=ni(i).hoistableStyles,l=Ei(t);e=e||"default";var u=o.get(l);if(!u){var r={loading:0,preload:null};if(u=i.querySelector(Bo(l)))r.loading=5;else{t=te({rel:"stylesheet",href:t,"data-precedence":e},n),(n=lt.get(l))&&pr(t,n);var c=u=i.createElement("link");Ee(c),Re(c,"link",t),c._p=new Promise(function(f,d){c.onload=f,c.onerror=d}),c.addEventListener("load",function(){r.loading|=1}),c.addEventListener("error",function(){r.loading|=2}),r.loading|=4,gl(u,e,i)}u={type:"stylesheet",instance:u,count:1,state:r},o.set(l,u)}}}function Pv(t,e){It.X(t,e);var n=Di;if(n&&t){var i=ni(n).hoistableScripts,o=Ni(t),l=i.get(o);l||(l=n.querySelector(Ho(o)),l||(t=te({src:t,async:!0},e),(e=lt.get(o))&&gr(t,e),l=n.createElement("script"),Ee(l),Re(l,"link",t),n.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},i.set(o,l))}}function Bv(t,e){It.M(t,e);var n=Di;if(n&&t){var i=ni(n).hoistableScripts,o=Ni(t),l=i.get(o);l||(l=n.querySelector(Ho(o)),l||(t=te({src:t,async:!0,type:"module"},e),(e=lt.get(o))&&gr(t,e),l=n.createElement("script"),Ee(l),Re(l,"link",t),n.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},i.set(o,l))}}function kc(t,e,n,i){var o=(o=$t.current)?Jl(o):null;if(!o)throw Error(x(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Ei(n.href),n=ni(o).hoistableStyles,i=n.get(e),i||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Ei(n.href);var l=ni(o).hoistableStyles,u=l.get(t);if(u||(o=o.ownerDocument||o,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},l.set(t,u),(l=o.querySelector(Bo(t)))&&!l._p&&(u.instance=l,u.state.loading=5),lt.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},lt.set(t,n),l||Hv(o,t,n,u.state))),e&&i===null)throw Error(x(528,""));return u}if(e&&i!==null)throw Error(x(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Ni(n),n=ni(o).hoistableScripts,i=n.get(e),i||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(x(444,t))}}function Ei(t){return'href="'+et(t)+'"'}function Bo(t){return'link[rel="stylesheet"]['+t+"]"}function cg(t){return te({},t,{"data-precedence":t.precedence,precedence:null})}function Hv(t,e,n,i){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=t.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),Re(e,"link",n),Ee(e),t.head.appendChild(e))}function Ni(t){return'[src="'+et(t)+'"]'}function Ho(t){return"script[async]"+t}function Fc(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+et(n.href)+'"]');if(i)return e.instance=i,Ee(i),i;var o=te({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),Ee(i),Re(i,"style",o),gl(i,n.precedence,t),e.instance=i;case"stylesheet":o=Ei(n.href);var l=t.querySelector(Bo(o));if(l)return e.state.loading|=4,e.instance=l,Ee(l),l;i=cg(n),(o=lt.get(o))&&pr(i,o),l=(t.ownerDocument||t).createElement("link"),Ee(l);var u=l;return u._p=new Promise(function(r,c){u.onload=r,u.onerror=c}),Re(l,"link",i),e.state.loading|=4,gl(l,n.precedence,t),e.instance=l;case"script":return l=Ni(n.src),(o=t.querySelector(Ho(l)))?(e.instance=o,Ee(o),o):(i=n,(o=lt.get(l))&&(i=te({},n),gr(i,o)),t=t.ownerDocument||t,o=t.createElement("script"),Ee(o),Re(o,"link",i),t.head.appendChild(o),e.instance=o);case"void":return null;default:throw Error(x(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(i=e.instance,e.state.loading|=4,gl(i,n.precedence,t));return e.instance}function gl(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=i.length?i[i.length-1]:null,l=o,u=0;u<i.length;u++){var r=i[u];if(r.dataset.precedence===e)l=r;else if(l!==o)break}l?l.parentNode.insertBefore(t,l.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function pr(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function gr(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var hl=null;function Oc(t,e,n){if(hl===null){var i=new Map,o=hl=new Map;o.set(n,i)}else o=hl,i=o.get(n),i||(i=new Map,o.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),o=0;o<n.length;o++){var l=n[o];if(!(l[No]||l[Ne]||t==="link"&&l.getAttribute("rel")==="stylesheet")&&l.namespaceURI!=="http://www.w3.org/2000/svg"){var u=l.getAttribute(e)||"";u=t+u;var r=i.get(u);r?r.push(l):i.set(u,[l])}}return i}function Yc(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function zv(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function fg(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var Co=null;function kv(){}function Fv(t,e,n){if(Co===null)throw Error(x(475));var i=Co;if(e.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var o=Ei(n.href),l=t.querySelector(Bo(o));if(l){t=l._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(i.count++,i=Ql.bind(i),t.then(i,i)),e.state.loading|=4,e.instance=l,Ee(l);return}l=t.ownerDocument||t,n=cg(n),(o=lt.get(o))&&pr(n,o),l=l.createElement("link"),Ee(l);var u=l;u._p=new Promise(function(r,c){u.onload=r,u.onerror=c}),Re(l,"link",n),e.instance=l}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(i.count++,e=Ql.bind(i),t.addEventListener("load",e),t.addEventListener("error",e))}}function Ov(){if(Co===null)throw Error(x(475));var t=Co;return t.stylesheets&&t.count===0&&nu(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&nu(t,t.stylesheets),t.unsuspend){var i=t.unsuspend;t.unsuspend=null,i()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}function Ql(){if(this.count--,this.count===0){if(this.stylesheets)nu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Kl=null;function nu(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Kl=new Map,e.forEach(Yv,t),Kl=null,Ql.call(t))}function Yv(t,e){if(!(e.state.loading&4)){var n=Kl.get(t);if(n)var i=n.get(null);else{n=new Map,Kl.set(t,n);for(var o=t.querySelectorAll("link[data-precedence],style[data-precedence]"),l=0;l<o.length;l++){var u=o[l];(u.nodeName==="LINK"||u.getAttribute("media")!=="not all")&&(n.set(u.dataset.precedence,u),i=u)}i&&n.set(null,i)}o=e.instance,u=o.getAttribute("data-precedence"),l=n.get(u)||i,l===i&&n.set(null,o),n.set(u,o),this.count++,i=Ql.bind(this),o.addEventListener("load",i),o.addEventListener("error",i),l?l.parentNode.insertBefore(o,l.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(o,t.firstChild)),e.state.loading|=4}}var So={$$typeof:Et,Provider:null,Consumer:null,_currentValue:pn,_currentValue2:pn,_threadCount:0};function Jv(t,e,n,i,o,l,u,r){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ra(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ra(0),this.hiddenUpdates=Ra(null),this.identifierPrefix=i,this.onUncaughtError=o,this.onCaughtError=l,this.onRecoverableError=u,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=r,this.incompleteTransitions=new Map}function dg(t,e,n,i,o,l,u,r,c,f,d,m){return t=new Jv(t,e,n,u,r,c,f,m),e=1,l===!0&&(e|=24),l=Fe(3,null,null,e),t.current=l,l.stateNode=t,e=Fu(),e.refCount++,t.pooledCache=e,e.refCount++,l.memoizedState={element:i,isDehydrated:n,cache:e},Yu(l),t}function mg(t){return t?(t=Zn,t):Zn}function pg(t,e,n,i,o,l){o=mg(o),i.context===null?i.context=o:i.pendingContext=o,i=Xt(e),i.payload={element:n},l=l===void 0?null:l,l!==null&&(i.callback=l),n=Zt(t,i,e),n!==null&&(Qe(n,t,e),eo(n,t,e))}function Jc(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function hr(t,e){Jc(t,e),(t=t.alternate)&&Jc(t,e)}function gg(t){if(t.tag===13){var e=Mi(t,67108864);e!==null&&Qe(e,t,67108864),hr(t,67108864)}}var $l=!0;function Qv(t,e,n,i){var o=q.T;q.T=null;var l=J.p;try{J.p=2,yr(t,e,n,i)}finally{J.p=l,q.T=o}}function Kv(t,e,n,i){var o=q.T;q.T=null;var l=J.p;try{J.p=8,yr(t,e,n,i)}finally{J.p=l,q.T=o}}function yr(t,e,n,i){if($l){var o=iu(i);if(o===null)os(t,e,i,Xl,n),Qc(t,i);else if(Xv(o,t,e,n,i))i.stopPropagation();else if(Qc(t,i),e&4&&-1<$v.indexOf(t)){for(;o!==null;){var l=xi(o);if(l!==null)switch(l.tag){case 3:if(l=l.stateNode,l.current.memoizedState.isDehydrated){var u=fn(l.pendingLanes);if(u!==0){var r=l;for(r.pendingLanes|=2,r.entangledLanes|=2;u;){var c=1<<31-Ye(u);r.entanglements[1]|=c,u&=~c}yt(l),!(K&6)&&(Hl=pt()+500,Po(0,!1))}}break;case 13:r=Mi(l,2),r!==null&&Qe(r,l,2),pa(),hr(l,2)}if(l=iu(i),l===null&&os(t,e,i,Xl,n),l===o)break;o=l}o!==null&&i.stopPropagation()}else os(t,e,i,null,n)}}function iu(t){return t=Iu(t),vr(t)}var Xl=null;function vr(t){if(Xl=null,t=Yn(t),t!==null){var e=xo(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=Hd(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Xl=t,null}function hg(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qh()){case Od:return 2;case Yd:return 8;case _l:case Lh:return 32;case Jd:return 268435456;default:return 32}default:return 32}}var ou=!1,en=null,tn=null,nn=null,Eo=new Map,Ao=new Map,Ot=[],$v="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Qc(t,e){switch(t){case"focusin":case"focusout":en=null;break;case"dragenter":case"dragleave":tn=null;break;case"mouseover":case"mouseout":nn=null;break;case"pointerover":case"pointerout":Eo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ao.delete(e.pointerId)}}function ki(t,e,n,i,o,l){return t===null||t.nativeEvent!==l?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:l,targetContainers:[o]},e!==null&&(e=xi(e),e!==null&&gg(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function Xv(t,e,n,i,o){switch(e){case"focusin":return en=ki(en,t,e,n,i,o),!0;case"dragenter":return tn=ki(tn,t,e,n,i,o),!0;case"mouseover":return nn=ki(nn,t,e,n,i,o),!0;case"pointerover":var l=o.pointerId;return Eo.set(l,ki(Eo.get(l)||null,t,e,n,i,o)),!0;case"gotpointercapture":return l=o.pointerId,Ao.set(l,ki(Ao.get(l)||null,t,e,n,i,o)),!0}return!1}function yg(t){var e=Yn(t.target);if(e!==null){var n=xo(e);if(n!==null){if(e=n.tag,e===13){if(e=Hd(n),e!==null){t.blockedOn=e,Fh(t.priority,function(){if(n.tag===13){var i=Je();i=Nu(i);var o=Mi(n,i);o!==null&&Qe(o,n,i),hr(n,i)}});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=iu(t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Ss=i,n.target.dispatchEvent(i),Ss=null}else return e=xi(n),e!==null&&gg(e),t.blockedOn=n,!1;e.shift()}return!0}function Kc(t,e,n){yl(t)&&n.delete(e)}function Zv(){ou=!1,en!==null&&yl(en)&&(en=null),tn!==null&&yl(tn)&&(tn=null),nn!==null&&yl(nn)&&(nn=null),Eo.forEach(Kc),Ao.forEach(Kc)}function el(t,e){t.blockedOn===e&&(t.blockedOn=null,ou||(ou=!0,Ce.unstable_scheduleCallback(Ce.unstable_NormalPriority,Zv)))}var tl=null;function $c(t){tl!==t&&(tl=t,Ce.unstable_scheduleCallback(Ce.unstable_NormalPriority,function(){tl===t&&(tl=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],o=t[e+2];if(typeof i!="function"){if(vr(i||n)===null)continue;break}var l=xi(n);l!==null&&(t.splice(e,3),e-=3,Gs(l,{pending:!0,data:o,method:n.method,action:i},i,o))}}))}function _o(t){function e(c){return el(c,t)}en!==null&&el(en,t),tn!==null&&el(tn,t),nn!==null&&el(nn,t),Eo.forEach(e),Ao.forEach(e);for(var n=0;n<Ot.length;n++){var i=Ot[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<Ot.length&&(n=Ot[0],n.blockedOn===null);)yg(n),n.blockedOn===null&&Ot.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var o=n[i],l=n[i+1],u=o[Pe]||null;if(typeof l=="function")u||$c(n);else if(u){var r=null;if(l&&l.hasAttribute("formAction")){if(o=l,u=l[Pe]||null)r=u.formAction;else if(vr(o)!==null)continue}else r=u.action;typeof r=="function"?n[i+1]=r:(n.splice(i,3),i-=3),$c(n)}}}function Tr(t){this._internalRoot=t}va.prototype.render=Tr.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(x(409));var n=e.current,i=Je();pg(n,i,t,e,null,null)};va.prototype.unmount=Tr.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;pg(t.current,2,null,t,null,null),pa(),e[_i]=null}};function va(t){this._internalRoot=t}va.prototype.unstable_scheduleHydration=function(t){if(t){var e=Zd();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ot.length&&e!==0&&e<Ot[n].priority;n++);Ot.splice(n,0,t),n===0&&yg(t)}};var Xc=Pd.version;if(Xc!=="19.1.0")throw Error(x(527,Xc,"19.1.0"));J.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(x(188)):(t=Object.keys(t).join(","),Error(x(268,t)));return t=Rh(e),t=t!==null?zd(t):null,t=t===null?null:t.stateNode,t};var Wv={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nl.isDisabled&&nl.supportsFiber)try{Mo=nl.inject(Wv),Oe=nl}catch{}}na.createRoot=function(t,e){if(!Bd(t))throw Error(x(299));var n=!1,i="",o=dp,l=mp,u=pp,r=null;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(o=e.onUncaughtError),e.onCaughtError!==void 0&&(l=e.onCaughtError),e.onRecoverableError!==void 0&&(u=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(r=e.unstable_transitionCallbacks)),e=dg(t,1,!1,null,null,n,i,o,l,u,r,null),t[_i]=e.current,mr(t),new Tr(e)};na.hydrateRoot=function(t,e,n){if(!Bd(t))throw Error(x(299));var i=!1,o="",l=dp,u=mp,r=pp,c=null,f=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(l=n.onUncaughtError),n.onCaughtError!==void 0&&(u=n.onCaughtError),n.onRecoverableError!==void 0&&(r=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(c=n.unstable_transitionCallbacks),n.formState!==void 0&&(f=n.formState)),e=dg(t,1,!0,e,n??null,i,o,l,u,r,c,f),e.context=mg(null),n=e.current,i=Je(),i=Nu(i),o=Xt(i),o.callback=null,Zt(n,o,i),n=i,e.current.lanes=n,Do(e,n),yt(e),t[_i]=e.current,mr(t),new va(e)};na.version="19.1.0";function vg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vg)}catch(t){console.error(t)}}vg(),Ud.exports=na;var jv=Ud.exports;const eT=Ed(jv);var De=(t=>(t.IDLE="IDLE",t.PROCESSING_PDF="PROCESSING_PDF",t.GENERATING="GENERATING",t.DONE_GENERATING="DONE_GENERATING",t.ERROR="ERROR",t))(De||{}),ue=(t=>(t.PENDING="pending",t.ACTIVE="active",t.DONE="done",t.ERROR="error",t))(ue||{});const Zc=[{id:"p0",text:"البروتوكول 0: تجهيز البيانات المصدر",status:ue.PENDING},{id:"p1",text:"البروتوكول 1: توليد المحتوى الطبي",status:ue.PENDING},{id:"p2",text:"البروتوكول 2: تصحيح توزيع الإجابات",status:ue.PENDING},{id:"p2.8",text:"البروتوكول 2.8: التدقيق النقدي والتصحيح الآلي",status:ue.PENDING},{id:"p2.7",text:"البروتوكول 2.7: تدقيق وتحسين التفسيرات",status:ue.PENDING},{id:"p3",text:"البروتوكول 3: توليد صفحة الاختبار النهائية",status:ue.PENDING},{id:"p4",text:"البروتوكول 4: المراجعة النهائية والختام",status:ue.PENDING}],tT=["زوجك الله بأربع نساء يا فتي... وإن كنتِ فتاة، ربنا يرزقك بثري خليجي!","إيه العظمة دي! أنت دكتور كبير أوي.","عاش يا وحش! شكلك كنت مركز أوي."],nT=["ماذا نحن بفاعلون؟ 😡 نأخذ من كل رجل قبيلة، يا ساقط.","شكلك كنت بتفتح فيسبوك وأنت بتمتحن!","لا تقلق، أول خطوة في طريق المليون ميل تبدأ بكَعبَلة."],iT=async t=>{const e=new FileReader;return new Promise((n,i)=>{e.onload=async o=>{var l;if(!((l=o.target)!=null&&l.result))return i(new Error("Failed to read file."));try{const u=new Uint8Array(o.target.result),r=await pdfjsLib.getDocument({data:u}).promise;let c="";for(let f=1;f<=r.numPages;f++){const p=(await(await r.getPage(f)).getTextContent()).items.map(g=>g.str).join(" ");c+=p+`

`}n({text:c.trim()})}catch(u){console.error("Error processing PDF:",u),i(new Error("Could not parse the PDF file. It might be corrupted or in an unsupported format."))}},e.onerror=()=>{i(new Error("Error reading file."))},e.readAsArrayBuffer(t)})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let oT,lT;function aT(){return{geminiUrl:oT,vertexUrl:lT}}function sT(t,e,n){var i,o,l;if(!(!((i=t.httpOptions)===null||i===void 0)&&i.baseUrl)){const u=aT();return t.vertexai?(o=u.vertexUrl)!==null&&o!==void 0?o:e:(l=u.geminiUrl)!==null&&l!==void 0?l:n}return t.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Un{}function U(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(i,o)=>{if(Object.prototype.hasOwnProperty.call(e,o)){const l=e[o];return l!=null?String(l):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function s(t,e,n){for(let l=0;l<e.length-1;l++){const u=e[l];if(u.endsWith("[]")){const r=u.slice(0,-2);if(!(r in t))if(Array.isArray(n))t[r]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${u}`);if(Array.isArray(t[r])){const c=t[r];if(Array.isArray(n))for(let f=0;f<c.length;f++){const d=c[f];s(d,e.slice(l+1),n[f])}else for(const f of c)s(f,e.slice(l+1),n)}return}else if(u.endsWith("[0]")){const r=u.slice(0,-3);r in t||(t[r]=[{}]);const c=t[r];s(c[0],e.slice(l+1),n);return}(!t[u]||typeof t[u]!="object")&&(t[u]={}),t=t[u]}const i=e[e.length-1],o=t[i];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else t[i]=n}function a(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const i=e[n];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const l=t[o];return Array.isArray(l)?l.map(u=>a(u,e.slice(n+1))):void 0}else return}else t=t[i]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Wc;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Wc||(Wc={}));var jc;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(jc||(jc={}));var k;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(k||(k={}));var ef;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(ef||(ef={}));var tf;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(tf||(tf={}));var nf;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(nf||(nf={}));var of;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(of||(of={}));var lf;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(lf||(lf={}));var af;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(af||(af={}));var sf;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(sf||(sf={}));var uf;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(uf||(uf={}));var rf;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(rf||(rf={}));var cf;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(cf||(cf={}));var ff;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(ff||(ff={}));var df;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(df||(df={}));var mf;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(mf||(mf={}));var Zl;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Zl||(Zl={}));var pf;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(pf||(pf={}));var lu;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(lu||(lu={}));var gf;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(gf||(gf={}));var hf;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(hf||(hf={}));var yf;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(yf||(yf={}));var vf;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(vf||(vf={}));var Tf;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(Tf||(Tf={}));var Cf;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Cf||(Cf={}));var Sf;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Sf||(Sf={}));var Ef;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(Ef||(Ef={}));var Af;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Af||(Af={}));var _f;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(_f||(_f={}));var xf;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(xf||(xf={}));var Mf;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Mf||(Mf={}));var Rf;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Rf||(Rf={}));var Df;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Df||(Df={}));var Nf;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(Nf||(Nf={}));var bf;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(bf||(bf={}));var wf;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(wf||(wf={}));var Uf;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Uf||(Uf={}));var If;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(If||(If={}));var qf;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(qf||(qf={}));var Lf;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Lf||(Lf={}));var Vf;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Vf||(Vf={}));var ti;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(ti||(ti={}));class au{constructor(e){const n={};for(const i of e.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Fi{get text(){var e,n,i,o,l,u,r,c;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",d=!1;const m=[];for(const p of(c=(r=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||r===void 0?void 0:r.parts)!==null&&c!==void 0?c:[]){for(const[g,T]of Object.entries(p))g!=="text"&&g!=="thought"&&(T!==null||T!==void 0)&&m.push(g);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;d=!0,f+=p.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?f:void 0}get data(){var e,n,i,o,l,u,r,c;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const d=[];for(const m of(c=(r=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||r===void 0?void 0:r.parts)!==null&&c!==void 0?c:[]){for(const[p,g]of Object.entries(m))p!=="inlineData"&&(g!==null||g!==void 0)&&d.push(p);m.inlineData&&typeof m.inlineData.data=="string"&&(f+=atob(m.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,n,i,o,l,u,r,c;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(c=(r=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||r===void 0?void 0:r.parts)===null||c===void 0?void 0:c.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,n,i,o,l,u,r,c,f;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(c=(r=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||r===void 0?void 0:r.parts)===null||c===void 0?void 0:c.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((d==null?void 0:d.length)!==0)return(f=d==null?void 0:d[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,n,i,o,l,u,r,c,f;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(c=(r=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||r===void 0?void 0:r.parts)===null||c===void 0?void 0:c.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((d==null?void 0:d.length)!==0)return(f=d==null?void 0:d[0])===null||f===void 0?void 0:f.output}}class Gf{}class Pf{}class uT{}class rT{}class Bf{}class Hf{}class zf{}class cT{}class kf{}class Ff{}class Of{}class fT{}class dT{}class mT{}class Yf{}class pT{get text(){var e,n,i;let o="",l=!1;const u=[];for(const r of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[c,f]of Object.entries(r))c!=="text"&&c!=="thought"&&f!==null&&u.push(c);if(typeof r.text=="string"){if(typeof r.thought=="boolean"&&r.thought)continue;l=!0,o+=r.text}}return u.length>0&&console.warn(`there are non-text parts ${u} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),l?o:void 0}get data(){var e,n,i;let o="";const l=[];for(const u of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[r,c]of Object.entries(u))r!=="inlineData"&&c!==null&&l.push(r);u.inlineData&&typeof u.inlineData.data=="string"&&(o+=atob(u.inlineData.data))}return l.length>0&&console.warn(`there are non-data parts ${l} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class gT{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Tg(t,e){const n=$(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function Cg(t){return Array.isArray(t)?t.map(e=>Wl(e)):[Wl(t)]}function Wl(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Sg(t){const e=Wl(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Eg(t){const e=Wl(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Jf(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Ag(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Jf(e)):[Jf(t)]}function su(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Qf(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Kf(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function we(t){if(t==null)throw new Error("ContentUnion is required");return su(t)?t:{role:"user",parts:Ag(t)}}function _g(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const i=we(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const n=we(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>we(n)):[we(e)]}function it(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Qf(t)||Kf(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[we(t)]}const e=[],n=[],i=su(t[0]);for(const o of t){const l=su(o);if(l!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(l)e.push(o);else{if(Qf(o)||Kf(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return i||e.push({role:"user",parts:Ag(n)}),e}function hT(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(i=>i!=="null");if(n.length===1)e.type=Object.values(k).includes(n[0].toUpperCase())?n[0].toUpperCase():k.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of n)e.anyOf.push({type:Object.values(k).includes(i.toUpperCase())?i.toUpperCase():k.TYPE_UNSPECIFIED})}}function ci(t){const e={},n=["items"],i=["anyOf"],o=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const l=t.anyOf;l!=null&&l.length==2&&(l[0].type==="null"?(e.nullable=!0,t=l[1]):l[1].type==="null"&&(e.nullable=!0,t=l[0])),t.type instanceof Array&&hT(t.type,e);for(const[u,r]of Object.entries(t))if(r!=null)if(u=="type"){if(r==="null")throw new Error("type: null can not be the only possible type for the field.");if(r instanceof Array)continue;e.type=Object.values(k).includes(r.toUpperCase())?r.toUpperCase():k.TYPE_UNSPECIFIED}else if(n.includes(u))e[u]=ci(r);else if(i.includes(u)){const c=[];for(const f of r){if(f.type=="null"){e.nullable=!0;continue}c.push(ci(f))}e[u]=c}else if(o.includes(u)){const c={};for(const[f,d]of Object.entries(r))c[f]=ci(d);e[u]=c}else{if(u==="additionalProperties")continue;e[u]=r}return e}function Cr(t){return ci(t)}function Sr(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Er(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function bi(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=ci(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=ci(e.response));return t}function wi(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function yT(t,e,n,i=1){const o=!e.startsWith(`${n}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:o?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:o?`${n}/${e}`:e}function qt(t,e){if(typeof e!="string")throw new Error("name must be a string");return yT(t,e,"cachedContents")}function xg(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Lt(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function vT(t){return t!=null&&typeof t=="object"&&"name"in t}function TT(t){return t!=null&&typeof t=="object"&&"video"in t}function CT(t){return t!=null&&typeof t=="object"&&"uri"in t}function Mg(t){var e;let n;if(vT(t)&&(n=t.name),!(CT(t)&&(n=t.uri,n===void 0))&&!(TT(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const o=n.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${n}`);n=o[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Rg(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function Dg(t){for(const e of["models","tunedModels","publisherModels"])if(ST(t,e))return t[e];return[]}function ST(t,e){return t!==null&&typeof t=="object"&&e in t}function ET(t,e={}){const n=t,i={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function AT(t,e={}){const n=[],i=new Set;for(const o of t){const l=o.name;if(i.has(l))throw new Error(`Duplicate function name ${l} found in MCP tools. Please ensure function names are unique.`);i.add(l);const u=ET(o,e);u.functionDeclarations&&n.push(...u.functionDeclarations)}return{functionDeclarations:n}}function Ng(t,e){if(typeof e!="string"&&!Array.isArray(e)){if(t&&t.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function _T(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Ui(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function bg(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xT(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const o=a(t,["startOffset"]);return o!=null&&s(e,["startOffset"],o),e}function MT(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["data"]);n!=null&&s(e,["data"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function RT(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function DT(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],xT(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const o=a(t,["inlineData"]);o!=null&&s(e,["inlineData"],MT(o));const l=a(t,["fileData"]);l!=null&&s(e,["fileData"],RT(l));const u=a(t,["thoughtSignature"]);u!=null&&s(e,["thoughtSignature"],u);const r=a(t,["codeExecutionResult"]);r!=null&&s(e,["codeExecutionResult"],r);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function wg(t){const e={},n=a(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>DT(l))),s(e,["parts"],o)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function NT(t){const e={},n=a(t,["anyOf"]);n!=null&&s(e,["anyOf"],n);const i=a(t,["default"]);i!=null&&s(e,["default"],i);const o=a(t,["description"]);o!=null&&s(e,["description"],o);const l=a(t,["enum"]);l!=null&&s(e,["enum"],l);const u=a(t,["example"]);u!=null&&s(e,["example"],u);const r=a(t,["format"]);r!=null&&s(e,["format"],r);const c=a(t,["items"]);c!=null&&s(e,["items"],c);const f=a(t,["maxItems"]);f!=null&&s(e,["maxItems"],f);const d=a(t,["maxLength"]);d!=null&&s(e,["maxLength"],d);const m=a(t,["maxProperties"]);m!=null&&s(e,["maxProperties"],m);const p=a(t,["maximum"]);p!=null&&s(e,["maximum"],p);const g=a(t,["minItems"]);g!=null&&s(e,["minItems"],g);const T=a(t,["minLength"]);T!=null&&s(e,["minLength"],T);const S=a(t,["minProperties"]);S!=null&&s(e,["minProperties"],S);const _=a(t,["minimum"]);_!=null&&s(e,["minimum"],_);const y=a(t,["nullable"]);y!=null&&s(e,["nullable"],y);const h=a(t,["pattern"]);h!=null&&s(e,["pattern"],h);const v=a(t,["properties"]);v!=null&&s(e,["properties"],v);const C=a(t,["propertyOrdering"]);C!=null&&s(e,["propertyOrdering"],C);const A=a(t,["required"]);A!=null&&s(e,["required"],A);const D=a(t,["title"]);D!=null&&s(e,["title"],D);const M=a(t,["type"]);return M!=null&&s(e,["type"],M),e}function bT(t){const e={};if(a(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=a(t,["category"]);n!=null&&s(e,["category"],n);const i=a(t,["threshold"]);return i!=null&&s(e,["threshold"],i),e}function wT(t){const e={},n=a(t,["behavior"]);n!=null&&s(e,["behavior"],n);const i=a(t,["description"]);i!=null&&s(e,["description"],i);const o=a(t,["name"]);o!=null&&s(e,["name"],o);const l=a(t,["parameters"]);l!=null&&s(e,["parameters"],l);const u=a(t,["parametersJsonSchema"]);u!=null&&s(e,["parametersJsonSchema"],u);const r=a(t,["response"]);r!=null&&s(e,["response"],r);const c=a(t,["responseJsonSchema"]);return c!=null&&s(e,["responseJsonSchema"],c),e}function UT(t){const e={},n=a(t,["startTime"]);n!=null&&s(e,["startTime"],n);const i=a(t,["endTime"]);return i!=null&&s(e,["endTime"],i),e}function IT(t){const e={},n=a(t,["timeRangeFilter"]);return n!=null&&s(e,["timeRangeFilter"],UT(n)),e}function qT(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["dynamicThreshold"]);return i!=null&&s(e,["dynamicThreshold"],i),e}function LT(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],qT(n)),e}function VT(){return{}}function GT(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>wT(f))),s(e,["functionDeclarations"],c)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=a(t,["googleSearch"]);i!=null&&s(e,["googleSearch"],IT(i));const o=a(t,["googleSearchRetrieval"]);if(o!=null&&s(e,["googleSearchRetrieval"],LT(o)),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(t,["urlContext"])!=null&&s(e,["urlContext"],VT());const u=a(t,["codeExecution"]);u!=null&&s(e,["codeExecution"],u);const r=a(t,["computerUse"]);return r!=null&&s(e,["computerUse"],r),e}function PT(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["allowedFunctionNames"]);return i!=null&&s(e,["allowedFunctionNames"],i),e}function BT(t){const e={},n=a(t,["latitude"]);n!=null&&s(e,["latitude"],n);const i=a(t,["longitude"]);return i!=null&&s(e,["longitude"],i),e}function HT(t){const e={},n=a(t,["latLng"]);n!=null&&s(e,["latLng"],BT(n));const i=a(t,["languageCode"]);return i!=null&&s(e,["languageCode"],i),e}function zT(t){const e={},n=a(t,["functionCallingConfig"]);n!=null&&s(e,["functionCallingConfig"],PT(n));const i=a(t,["retrievalConfig"]);return i!=null&&s(e,["retrievalConfig"],HT(i)),e}function kT(t){const e={},n=a(t,["voiceName"]);return n!=null&&s(e,["voiceName"],n),e}function Ug(t){const e={},n=a(t,["prebuiltVoiceConfig"]);return n!=null&&s(e,["prebuiltVoiceConfig"],kT(n)),e}function FT(t){const e={},n=a(t,["speaker"]);n!=null&&s(e,["speaker"],n);const i=a(t,["voiceConfig"]);return i!=null&&s(e,["voiceConfig"],Ug(i)),e}function OT(t){const e={},n=a(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>FT(o))),s(e,["speakerVoiceConfigs"],i)}return e}function YT(t){const e={},n=a(t,["voiceConfig"]);n!=null&&s(e,["voiceConfig"],Ug(n));const i=a(t,["multiSpeakerVoiceConfig"]);i!=null&&s(e,["multiSpeakerVoiceConfig"],OT(i));const o=a(t,["languageCode"]);return o!=null&&s(e,["languageCode"],o),e}function JT(t){const e={},n=a(t,["includeThoughts"]);n!=null&&s(e,["includeThoughts"],n);const i=a(t,["thinkingBudget"]);return i!=null&&s(e,["thinkingBudget"],i),e}function QT(t,e,n){const i={},o=a(e,["systemInstruction"]);n!==void 0&&o!=null&&s(n,["systemInstruction"],wg(we(o)));const l=a(e,["temperature"]);l!=null&&s(i,["temperature"],l);const u=a(e,["topP"]);u!=null&&s(i,["topP"],u);const r=a(e,["topK"]);r!=null&&s(i,["topK"],r);const c=a(e,["candidateCount"]);c!=null&&s(i,["candidateCount"],c);const f=a(e,["maxOutputTokens"]);f!=null&&s(i,["maxOutputTokens"],f);const d=a(e,["stopSequences"]);d!=null&&s(i,["stopSequences"],d);const m=a(e,["responseLogprobs"]);m!=null&&s(i,["responseLogprobs"],m);const p=a(e,["logprobs"]);p!=null&&s(i,["logprobs"],p);const g=a(e,["presencePenalty"]);g!=null&&s(i,["presencePenalty"],g);const T=a(e,["frequencyPenalty"]);T!=null&&s(i,["frequencyPenalty"],T);const S=a(e,["seed"]);S!=null&&s(i,["seed"],S);const _=a(e,["responseMimeType"]);_!=null&&s(i,["responseMimeType"],_);const y=a(e,["responseSchema"]);y!=null&&s(i,["responseSchema"],NT(Cr(y)));const h=a(e,["responseJsonSchema"]);if(h!=null&&s(i,["responseJsonSchema"],h),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const v=a(e,["safetySettings"]);if(n!==void 0&&v!=null){let L=v;Array.isArray(L)&&(L=L.map(fe=>bT(fe))),s(n,["safetySettings"],L)}const C=a(e,["tools"]);if(n!==void 0&&C!=null){let L=wi(C);Array.isArray(L)&&(L=L.map(fe=>GT(bi(fe)))),s(n,["tools"],L)}const A=a(e,["toolConfig"]);if(n!==void 0&&A!=null&&s(n,["toolConfig"],zT(A)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const D=a(e,["cachedContent"]);n!==void 0&&D!=null&&s(n,["cachedContent"],qt(t,D));const M=a(e,["responseModalities"]);M!=null&&s(i,["responseModalities"],M);const R=a(e,["mediaResolution"]);R!=null&&s(i,["mediaResolution"],R);const N=a(e,["speechConfig"]);if(N!=null&&s(i,["speechConfig"],YT(Sr(N))),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const w=a(e,["thinkingConfig"]);return w!=null&&s(i,["thinkingConfig"],JT(w)),i}function KT(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["request","model"],$(t,i));const o=a(e,["contents"]);if(o!=null){let u=it(o);Array.isArray(u)&&(u=u.map(r=>wg(r))),s(n,["request","contents"],u)}const l=a(e,["config"]);return l!=null&&s(n,["request","generationConfig"],QT(t,l,n)),n}function $T(t,e){const n={};if(a(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(a(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=a(e,["fileName"]);i!=null&&s(n,["fileName"],i);const o=a(e,["inlinedRequests"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>KT(t,u))),s(n,["requests","requests"],l)}return n}function XT(t,e){const n={},i=a(t,["displayName"]);if(e!==void 0&&i!=null&&s(e,["batch","displayName"],i),a(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function ZT(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],$(t,i));const o=a(e,["src"]);o!=null&&s(n,["batch","inputConfig"],$T(t,Ng(t,o)));const l=a(e,["config"]);return l!=null&&s(n,["config"],XT(l,n)),n}function WT(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],Ui(t,i));const o=a(e,["config"]);return o!=null&&s(n,["config"],o),n}function jT(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],Ui(t,i));const o=a(e,["config"]);return o!=null&&s(n,["config"],o),n}function e0(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&s(e,["_query","pageSize"],i);const o=a(t,["pageToken"]);if(e!==void 0&&o!=null&&s(e,["_query","pageToken"],o),a(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function t0(t){const e={},n=a(t,["config"]);return n!=null&&s(e,["config"],e0(n,e)),e}function n0(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],Ui(t,i));const o=a(e,["config"]);return o!=null&&s(n,["config"],o),n}function i0(t){const e={},n=a(t,["format"]);n!=null&&s(e,["instancesFormat"],n);const i=a(t,["gcsUri"]);i!=null&&s(e,["gcsSource","uris"],i);const o=a(t,["bigqueryUri"]);if(o!=null&&s(e,["bigquerySource","inputUri"],o),a(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function o0(t){const e={},n=a(t,["format"]);n!=null&&s(e,["predictionsFormat"],n);const i=a(t,["gcsUri"]);i!=null&&s(e,["gcsDestination","outputUriPrefix"],i);const o=a(t,["bigqueryUri"]);if(o!=null&&s(e,["bigqueryDestination","outputUri"],o),a(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function l0(t,e){const n={},i=a(t,["displayName"]);e!==void 0&&i!=null&&s(e,["displayName"],i);const o=a(t,["dest"]);return e!==void 0&&o!=null&&s(e,["outputConfig"],o0(_T(o))),n}function a0(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["model"],$(t,i));const o=a(e,["src"]);o!=null&&s(n,["inputConfig"],i0(Ng(t,o)));const l=a(e,["config"]);return l!=null&&s(n,["config"],l0(l,n)),n}function s0(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],Ui(t,i));const o=a(e,["config"]);return o!=null&&s(n,["config"],o),n}function u0(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],Ui(t,i));const o=a(e,["config"]);return o!=null&&s(n,["config"],o),n}function r0(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&s(e,["_query","pageSize"],i);const o=a(t,["pageToken"]);e!==void 0&&o!=null&&s(e,["_query","pageToken"],o);const l=a(t,["filter"]);return e!==void 0&&l!=null&&s(e,["_query","filter"],l),n}function c0(t){const e={},n=a(t,["config"]);return n!=null&&s(e,["config"],r0(n,e)),e}function f0(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],Ui(t,i));const o=a(e,["config"]);return o!=null&&s(n,["config"],o),n}function d0(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const o=a(t,["startOffset"]);return o!=null&&s(e,["startOffset"],o),e}function m0(t){const e={},n=a(t,["data"]);n!=null&&s(e,["data"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function p0(t){const e={},n=a(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function g0(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],d0(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const o=a(t,["inlineData"]);o!=null&&s(e,["inlineData"],m0(o));const l=a(t,["fileData"]);l!=null&&s(e,["fileData"],p0(l));const u=a(t,["thoughtSignature"]);u!=null&&s(e,["thoughtSignature"],u);const r=a(t,["codeExecutionResult"]);r!=null&&s(e,["codeExecutionResult"],r);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function h0(t){const e={},n=a(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>g0(l))),s(e,["parts"],o)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function y0(t){const e={},n=a(t,["citationSources"]);return n!=null&&s(e,["citations"],n),e}function v0(t){const e={},n=a(t,["retrievedUrl"]);n!=null&&s(e,["retrievedUrl"],n);const i=a(t,["urlRetrievalStatus"]);return i!=null&&s(e,["urlRetrievalStatus"],i),e}function T0(t){const e={},n=a(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>v0(o))),s(e,["urlMetadata"],i)}return e}function C0(t){const e={},n=a(t,["content"]);n!=null&&s(e,["content"],h0(n));const i=a(t,["citationMetadata"]);i!=null&&s(e,["citationMetadata"],y0(i));const o=a(t,["tokenCount"]);o!=null&&s(e,["tokenCount"],o);const l=a(t,["finishReason"]);l!=null&&s(e,["finishReason"],l);const u=a(t,["urlContextMetadata"]);u!=null&&s(e,["urlContextMetadata"],T0(u));const r=a(t,["avgLogprobs"]);r!=null&&s(e,["avgLogprobs"],r);const c=a(t,["groundingMetadata"]);c!=null&&s(e,["groundingMetadata"],c);const f=a(t,["index"]);f!=null&&s(e,["index"],f);const d=a(t,["logprobsResult"]);d!=null&&s(e,["logprobsResult"],d);const m=a(t,["safetyRatings"]);return m!=null&&s(e,["safetyRatings"],m),e}function S0(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&s(e,["sdkHttpResponse"],n);const i=a(t,["candidates"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(c=>C0(c))),s(e,["candidates"],r)}const o=a(t,["modelVersion"]);o!=null&&s(e,["modelVersion"],o);const l=a(t,["promptFeedback"]);l!=null&&s(e,["promptFeedback"],l);const u=a(t,["usageMetadata"]);return u!=null&&s(e,["usageMetadata"],u),e}function Ig(t){const e={},n=a(t,["details"]);n!=null&&s(e,["details"],n);const i=a(t,["code"]);i!=null&&s(e,["code"],i);const o=a(t,["message"]);return o!=null&&s(e,["message"],o),e}function E0(t){const e={},n=a(t,["response"]);n!=null&&s(e,["response"],S0(n));const i=a(t,["error"]);return i!=null&&s(e,["error"],Ig(i)),e}function A0(t){const e={},n=a(t,["responsesFile"]);n!=null&&s(e,["fileName"],n);const i=a(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>E0(l))),s(e,["inlinedResponses"],o)}return e}function uu(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["metadata","displayName"]);i!=null&&s(e,["displayName"],i);const o=a(t,["metadata","state"]);o!=null&&s(e,["state"],bg(o));const l=a(t,["metadata","createTime"]);l!=null&&s(e,["createTime"],l);const u=a(t,["metadata","endTime"]);u!=null&&s(e,["endTime"],u);const r=a(t,["metadata","updateTime"]);r!=null&&s(e,["updateTime"],r);const c=a(t,["metadata","model"]);c!=null&&s(e,["model"],c);const f=a(t,["metadata","output"]);return f!=null&&s(e,["dest"],A0(f)),e}function _0(t){const e={},n=a(t,["nextPageToken"]);n!=null&&s(e,["nextPageToken"],n);const i=a(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>uu(l))),s(e,["batchJobs"],o)}return e}function x0(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["done"]);i!=null&&s(e,["done"],i);const o=a(t,["error"]);return o!=null&&s(e,["error"],Ig(o)),e}function qg(t){const e={},n=a(t,["details"]);n!=null&&s(e,["details"],n);const i=a(t,["code"]);i!=null&&s(e,["code"],i);const o=a(t,["message"]);return o!=null&&s(e,["message"],o),e}function M0(t){const e={},n=a(t,["instancesFormat"]);n!=null&&s(e,["format"],n);const i=a(t,["gcsSource","uris"]);i!=null&&s(e,["gcsUri"],i);const o=a(t,["bigquerySource","inputUri"]);return o!=null&&s(e,["bigqueryUri"],o),e}function R0(t){const e={},n=a(t,["predictionsFormat"]);n!=null&&s(e,["format"],n);const i=a(t,["gcsDestination","outputUriPrefix"]);i!=null&&s(e,["gcsUri"],i);const o=a(t,["bigqueryDestination","outputUri"]);return o!=null&&s(e,["bigqueryUri"],o),e}function ru(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["displayName"]);i!=null&&s(e,["displayName"],i);const o=a(t,["state"]);o!=null&&s(e,["state"],bg(o));const l=a(t,["error"]);l!=null&&s(e,["error"],qg(l));const u=a(t,["createTime"]);u!=null&&s(e,["createTime"],u);const r=a(t,["startTime"]);r!=null&&s(e,["startTime"],r);const c=a(t,["endTime"]);c!=null&&s(e,["endTime"],c);const f=a(t,["updateTime"]);f!=null&&s(e,["updateTime"],f);const d=a(t,["model"]);d!=null&&s(e,["model"],d);const m=a(t,["inputConfig"]);m!=null&&s(e,["src"],M0(m));const p=a(t,["outputConfig"]);return p!=null&&s(e,["dest"],R0(p)),e}function D0(t){const e={},n=a(t,["nextPageToken"]);n!=null&&s(e,["nextPageToken"],n);const i=a(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>ru(l))),s(e,["batchJobs"],o)}return e}function N0(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["done"]);i!=null&&s(e,["done"],i);const o=a(t,["error"]);return o!=null&&s(e,["error"],qg(o)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Rn;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Rn||(Rn={}));class zo{constructor(e,n,i,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,i,o)}init(e,n,i){var o,l;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let u={config:{}};i?typeof i=="object"?u=Object.assign({},i):u=i:u={config:{}},u.config&&(u.config.pageToken=n.nextPageToken),this.paramsInternal=u,this.pageInternalSize=(l=(o=u.config)===null||o===void 0?void 0:o.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class b0 extends Un{constructor(e){super(),this.apiClient=e,this.create=async n=>{if(this.apiClient.isVertexAI()){const o=Date.now().toString();if(Array.isArray(n.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(n.config=n.config||{},n.config.displayName===void 0&&(n.config.displayName="genaiBatchJob_${timestampStr}"),n.config.dest===void 0&&typeof n.src=="string")if(n.src.startsWith("gs://")&&n.src.endsWith(".jsonl"))n.config.dest=`${n.src.slice(0,-6)}/dest`;else if(n.src.startsWith("bq://"))n.config.dest=`${n.src}_dest_${o}`;else throw new Error("Unsupported source:"+n.src)}return await this.createInternal(n)},this.list=async(n={})=>new zo(Rn.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n)}async createInternal(e){var n,i,o,l;let u,r="",c={};if(this.apiClient.isVertexAI()){const f=a0(this.apiClient,e);return r=U("batchPredictionJobs",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),u.then(d=>ru(d))}else{const f=ZT(this.apiClient,e);return r=U("{model}:batchGenerateContent",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),u.then(d=>uu(d))}}async get(e){var n,i,o,l;let u,r="",c={};if(this.apiClient.isVertexAI()){const f=s0(this.apiClient,e);return r=U("batchPredictionJobs/{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),u.then(d=>ru(d))}else{const f=WT(this.apiClient,e);return r=U("batches/{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),u.then(d=>uu(d))}}async cancel(e){var n,i,o,l;let u="",r={};if(this.apiClient.isVertexAI()){const c=u0(this.apiClient,e);u=U("batchPredictionJobs/{name}:cancel",c._url),r=c._query,delete c.config,delete c._url,delete c._query,await this.apiClient.request({path:u,queryParams:r,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const c=jT(this.apiClient,e);u=U("batches/{name}:cancel",c._url),r=c._query,delete c.config,delete c._url,delete c._query,await this.apiClient.request({path:u,queryParams:r,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var n,i,o,l;let u,r="",c={};if(this.apiClient.isVertexAI()){const f=c0(e);return r=U("batchPredictionJobs",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),u.then(d=>{const m=D0(d),p=new Yf;return Object.assign(p,m),p})}else{const f=t0(e);return r=U("batches",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),u.then(d=>{const m=_0(d),p=new Yf;return Object.assign(p,m),p})}}async delete(e){var n,i,o,l;let u,r="",c={};if(this.apiClient.isVertexAI()){const f=f0(this.apiClient,e);return r=U("batchPredictionJobs/{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),u.then(d=>N0(d))}else{const f=n0(this.apiClient,e);return r=U("batches/{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),u.then(d=>x0(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function w0(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const o=a(t,["startOffset"]);return o!=null&&s(e,["startOffset"],o),e}function U0(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["data"]);n!=null&&s(e,["data"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function I0(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function q0(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],w0(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const o=a(t,["inlineData"]);o!=null&&s(e,["inlineData"],U0(o));const l=a(t,["fileData"]);l!=null&&s(e,["fileData"],I0(l));const u=a(t,["thoughtSignature"]);u!=null&&s(e,["thoughtSignature"],u);const r=a(t,["codeExecutionResult"]);r!=null&&s(e,["codeExecutionResult"],r);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function $f(t){const e={},n=a(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>q0(l))),s(e,["parts"],o)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function L0(t){const e={},n=a(t,["behavior"]);n!=null&&s(e,["behavior"],n);const i=a(t,["description"]);i!=null&&s(e,["description"],i);const o=a(t,["name"]);o!=null&&s(e,["name"],o);const l=a(t,["parameters"]);l!=null&&s(e,["parameters"],l);const u=a(t,["parametersJsonSchema"]);u!=null&&s(e,["parametersJsonSchema"],u);const r=a(t,["response"]);r!=null&&s(e,["response"],r);const c=a(t,["responseJsonSchema"]);return c!=null&&s(e,["responseJsonSchema"],c),e}function V0(t){const e={},n=a(t,["startTime"]);n!=null&&s(e,["startTime"],n);const i=a(t,["endTime"]);return i!=null&&s(e,["endTime"],i),e}function G0(t){const e={},n=a(t,["timeRangeFilter"]);return n!=null&&s(e,["timeRangeFilter"],V0(n)),e}function P0(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["dynamicThreshold"]);return i!=null&&s(e,["dynamicThreshold"],i),e}function B0(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],P0(n)),e}function H0(){return{}}function z0(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>L0(f))),s(e,["functionDeclarations"],c)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=a(t,["googleSearch"]);i!=null&&s(e,["googleSearch"],G0(i));const o=a(t,["googleSearchRetrieval"]);if(o!=null&&s(e,["googleSearchRetrieval"],B0(o)),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(t,["urlContext"])!=null&&s(e,["urlContext"],H0());const u=a(t,["codeExecution"]);u!=null&&s(e,["codeExecution"],u);const r=a(t,["computerUse"]);return r!=null&&s(e,["computerUse"],r),e}function k0(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["allowedFunctionNames"]);return i!=null&&s(e,["allowedFunctionNames"],i),e}function F0(t){const e={},n=a(t,["latitude"]);n!=null&&s(e,["latitude"],n);const i=a(t,["longitude"]);return i!=null&&s(e,["longitude"],i),e}function O0(t){const e={},n=a(t,["latLng"]);n!=null&&s(e,["latLng"],F0(n));const i=a(t,["languageCode"]);return i!=null&&s(e,["languageCode"],i),e}function Y0(t){const e={},n=a(t,["functionCallingConfig"]);n!=null&&s(e,["functionCallingConfig"],k0(n));const i=a(t,["retrievalConfig"]);return i!=null&&s(e,["retrievalConfig"],O0(i)),e}function J0(t,e){const n={},i=a(t,["ttl"]);e!==void 0&&i!=null&&s(e,["ttl"],i);const o=a(t,["expireTime"]);e!==void 0&&o!=null&&s(e,["expireTime"],o);const l=a(t,["displayName"]);e!==void 0&&l!=null&&s(e,["displayName"],l);const u=a(t,["contents"]);if(e!==void 0&&u!=null){let d=it(u);Array.isArray(d)&&(d=d.map(m=>$f(m))),s(e,["contents"],d)}const r=a(t,["systemInstruction"]);e!==void 0&&r!=null&&s(e,["systemInstruction"],$f(we(r)));const c=a(t,["tools"]);if(e!==void 0&&c!=null){let d=c;Array.isArray(d)&&(d=d.map(m=>z0(m))),s(e,["tools"],d)}const f=a(t,["toolConfig"]);if(e!==void 0&&f!=null&&s(e,["toolConfig"],Y0(f)),a(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Q0(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["model"],Tg(t,i));const o=a(e,["config"]);return o!=null&&s(n,["config"],J0(o,n)),n}function K0(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],qt(t,i));const o=a(e,["config"]);return o!=null&&s(n,["config"],o),n}function $0(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],qt(t,i));const o=a(e,["config"]);return o!=null&&s(n,["config"],o),n}function X0(t,e){const n={},i=a(t,["ttl"]);e!==void 0&&i!=null&&s(e,["ttl"],i);const o=a(t,["expireTime"]);return e!==void 0&&o!=null&&s(e,["expireTime"],o),n}function Z0(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],qt(t,i));const o=a(e,["config"]);return o!=null&&s(n,["config"],X0(o,n)),n}function W0(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&s(e,["_query","pageSize"],i);const o=a(t,["pageToken"]);return e!==void 0&&o!=null&&s(e,["_query","pageToken"],o),n}function j0(t){const e={},n=a(t,["config"]);return n!=null&&s(e,["config"],W0(n,e)),e}function eC(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const o=a(t,["startOffset"]);return o!=null&&s(e,["startOffset"],o),e}function tC(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=a(t,["data"]);i!=null&&s(e,["data"],i);const o=a(t,["mimeType"]);return o!=null&&s(e,["mimeType"],o),e}function nC(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=a(t,["fileUri"]);i!=null&&s(e,["fileUri"],i);const o=a(t,["mimeType"]);return o!=null&&s(e,["mimeType"],o),e}function iC(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],eC(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const o=a(t,["inlineData"]);o!=null&&s(e,["inlineData"],tC(o));const l=a(t,["fileData"]);l!=null&&s(e,["fileData"],nC(l));const u=a(t,["thoughtSignature"]);u!=null&&s(e,["thoughtSignature"],u);const r=a(t,["codeExecutionResult"]);r!=null&&s(e,["codeExecutionResult"],r);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function Xf(t){const e={},n=a(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>iC(l))),s(e,["parts"],o)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function oC(t){const e={};if(a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=a(t,["description"]);n!=null&&s(e,["description"],n);const i=a(t,["name"]);i!=null&&s(e,["name"],i);const o=a(t,["parameters"]);o!=null&&s(e,["parameters"],o);const l=a(t,["parametersJsonSchema"]);l!=null&&s(e,["parametersJsonSchema"],l);const u=a(t,["response"]);u!=null&&s(e,["response"],u);const r=a(t,["responseJsonSchema"]);return r!=null&&s(e,["responseJsonSchema"],r),e}function lC(t){const e={},n=a(t,["startTime"]);n!=null&&s(e,["startTime"],n);const i=a(t,["endTime"]);return i!=null&&s(e,["endTime"],i),e}function aC(t){const e={},n=a(t,["timeRangeFilter"]);return n!=null&&s(e,["timeRangeFilter"],lC(n)),e}function sC(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["dynamicThreshold"]);return i!=null&&s(e,["dynamicThreshold"],i),e}function uC(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],sC(n)),e}function rC(){return{}}function cC(t){const e={},n=a(t,["apiKeyString"]);return n!=null&&s(e,["apiKeyString"],n),e}function fC(t){const e={},n=a(t,["apiKeyConfig"]);n!=null&&s(e,["apiKeyConfig"],cC(n));const i=a(t,["authType"]);i!=null&&s(e,["authType"],i);const o=a(t,["googleServiceAccountConfig"]);o!=null&&s(e,["googleServiceAccountConfig"],o);const l=a(t,["httpBasicAuthConfig"]);l!=null&&s(e,["httpBasicAuthConfig"],l);const u=a(t,["oauthConfig"]);u!=null&&s(e,["oauthConfig"],u);const r=a(t,["oidcConfig"]);return r!=null&&s(e,["oidcConfig"],r),e}function dC(t){const e={},n=a(t,["authConfig"]);return n!=null&&s(e,["authConfig"],fC(n)),e}function mC(){return{}}function pC(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(p=>oC(p))),s(e,["functionDeclarations"],m)}const i=a(t,["retrieval"]);i!=null&&s(e,["retrieval"],i);const o=a(t,["googleSearch"]);o!=null&&s(e,["googleSearch"],aC(o));const l=a(t,["googleSearchRetrieval"]);l!=null&&s(e,["googleSearchRetrieval"],uC(l)),a(t,["enterpriseWebSearch"])!=null&&s(e,["enterpriseWebSearch"],rC());const r=a(t,["googleMaps"]);r!=null&&s(e,["googleMaps"],dC(r)),a(t,["urlContext"])!=null&&s(e,["urlContext"],mC());const f=a(t,["codeExecution"]);f!=null&&s(e,["codeExecution"],f);const d=a(t,["computerUse"]);return d!=null&&s(e,["computerUse"],d),e}function gC(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["allowedFunctionNames"]);return i!=null&&s(e,["allowedFunctionNames"],i),e}function hC(t){const e={},n=a(t,["latitude"]);n!=null&&s(e,["latitude"],n);const i=a(t,["longitude"]);return i!=null&&s(e,["longitude"],i),e}function yC(t){const e={},n=a(t,["latLng"]);n!=null&&s(e,["latLng"],hC(n));const i=a(t,["languageCode"]);return i!=null&&s(e,["languageCode"],i),e}function vC(t){const e={},n=a(t,["functionCallingConfig"]);n!=null&&s(e,["functionCallingConfig"],gC(n));const i=a(t,["retrievalConfig"]);return i!=null&&s(e,["retrievalConfig"],yC(i)),e}function TC(t,e){const n={},i=a(t,["ttl"]);e!==void 0&&i!=null&&s(e,["ttl"],i);const o=a(t,["expireTime"]);e!==void 0&&o!=null&&s(e,["expireTime"],o);const l=a(t,["displayName"]);e!==void 0&&l!=null&&s(e,["displayName"],l);const u=a(t,["contents"]);if(e!==void 0&&u!=null){let m=it(u);Array.isArray(m)&&(m=m.map(p=>Xf(p))),s(e,["contents"],m)}const r=a(t,["systemInstruction"]);e!==void 0&&r!=null&&s(e,["systemInstruction"],Xf(we(r)));const c=a(t,["tools"]);if(e!==void 0&&c!=null){let m=c;Array.isArray(m)&&(m=m.map(p=>pC(p))),s(e,["tools"],m)}const f=a(t,["toolConfig"]);e!==void 0&&f!=null&&s(e,["toolConfig"],vC(f));const d=a(t,["kmsKeyName"]);return e!==void 0&&d!=null&&s(e,["encryption_spec","kmsKeyName"],d),n}function CC(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["model"],Tg(t,i));const o=a(e,["config"]);return o!=null&&s(n,["config"],TC(o,n)),n}function SC(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],qt(t,i));const o=a(e,["config"]);return o!=null&&s(n,["config"],o),n}function EC(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],qt(t,i));const o=a(e,["config"]);return o!=null&&s(n,["config"],o),n}function AC(t,e){const n={},i=a(t,["ttl"]);e!==void 0&&i!=null&&s(e,["ttl"],i);const o=a(t,["expireTime"]);return e!==void 0&&o!=null&&s(e,["expireTime"],o),n}function _C(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],qt(t,i));const o=a(e,["config"]);return o!=null&&s(n,["config"],AC(o,n)),n}function xC(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&s(e,["_query","pageSize"],i);const o=a(t,["pageToken"]);return e!==void 0&&o!=null&&s(e,["_query","pageToken"],o),n}function MC(t){const e={},n=a(t,["config"]);return n!=null&&s(e,["config"],xC(n,e)),e}function vl(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["displayName"]);i!=null&&s(e,["displayName"],i);const o=a(t,["model"]);o!=null&&s(e,["model"],o);const l=a(t,["createTime"]);l!=null&&s(e,["createTime"],l);const u=a(t,["updateTime"]);u!=null&&s(e,["updateTime"],u);const r=a(t,["expireTime"]);r!=null&&s(e,["expireTime"],r);const c=a(t,["usageMetadata"]);return c!=null&&s(e,["usageMetadata"],c),e}function RC(){return{}}function DC(t){const e={},n=a(t,["nextPageToken"]);n!=null&&s(e,["nextPageToken"],n);const i=a(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>vl(l))),s(e,["cachedContents"],o)}return e}function Tl(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["displayName"]);i!=null&&s(e,["displayName"],i);const o=a(t,["model"]);o!=null&&s(e,["model"],o);const l=a(t,["createTime"]);l!=null&&s(e,["createTime"],l);const u=a(t,["updateTime"]);u!=null&&s(e,["updateTime"],u);const r=a(t,["expireTime"]);r!=null&&s(e,["expireTime"],r);const c=a(t,["usageMetadata"]);return c!=null&&s(e,["usageMetadata"],c),e}function NC(){return{}}function bC(t){const e={},n=a(t,["nextPageToken"]);n!=null&&s(e,["nextPageToken"],n);const i=a(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>Tl(l))),s(e,["cachedContents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wC extends Un{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new zo(Rn.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(e){var n,i,o,l;let u,r="",c={};if(this.apiClient.isVertexAI()){const f=CC(this.apiClient,e);return r=U("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),u.then(d=>Tl(d))}else{const f=Q0(this.apiClient,e);return r=U("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),u.then(d=>vl(d))}}async get(e){var n,i,o,l;let u,r="",c={};if(this.apiClient.isVertexAI()){const f=SC(this.apiClient,e);return r=U("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),u.then(d=>Tl(d))}else{const f=K0(this.apiClient,e);return r=U("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),u.then(d=>vl(d))}}async delete(e){var n,i,o,l;let u,r="",c={};if(this.apiClient.isVertexAI()){const f=EC(this.apiClient,e);return r=U("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),u.then(()=>{const d=NC(),m=new Ff;return Object.assign(m,d),m})}else{const f=$0(this.apiClient,e);return r=U("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),u.then(()=>{const d=RC(),m=new Ff;return Object.assign(m,d),m})}}async update(e){var n,i,o,l;let u,r="",c={};if(this.apiClient.isVertexAI()){const f=_C(this.apiClient,e);return r=U("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),u.then(d=>Tl(d))}else{const f=Z0(this.apiClient,e);return r=U("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),u.then(d=>vl(d))}}async listInternal(e){var n,i,o,l;let u,r="",c={};if(this.apiClient.isVertexAI()){const f=MC(e);return r=U("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),u.then(d=>{const m=bC(d),p=new Of;return Object.assign(p,m),p})}else{const f=j0(e);return r=U("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),u.then(d=>{const m=DC(d),p=new Of;return Object.assign(p,m),p})}}}function Zf(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ee(t){return this instanceof ee?(this.v=t,this):new ee(t)}function fi(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),o,l=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),r("next"),r("throw"),r("return",u),o[Symbol.asyncIterator]=function(){return this},o;function u(g){return function(T){return Promise.resolve(T).then(g,m)}}function r(g,T){i[g]&&(o[g]=function(S){return new Promise(function(_,y){l.push([g,S,_,y])>1||c(g,S)})},T&&(o[g]=T(o[g])))}function c(g,T){try{f(i[g](T))}catch(S){p(l[0][3],S)}}function f(g){g.value instanceof ee?Promise.resolve(g.value.v).then(d,m):p(l[0][2],g)}function d(g){c("next",g)}function m(g){c("throw",g)}function p(g,T){g(T),l.shift(),l.length&&c(l[0][0],l[0][1])}}function ro(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Zf=="function"?Zf(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(l){n[l]=t[l]&&function(u){return new Promise(function(r,c){u=t[l](u),o(r,c,u.done,u.value)})}}function o(l,u,r,c){Promise.resolve(c).then(function(f){l({value:f,done:r})},u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UC(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:Lg(n)}function Lg(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function IC(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Wf(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let i=0;for(;i<n;)if(t[i].role==="user")e.push(t[i]),i++;else{const o=[];let l=!0;for(;i<n&&t[i].role==="model";)o.push(t[i]),l&&!Lg(t[i])&&(l=!1),i++;l?e.push(...o):e.pop()}return e}class qC{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new LC(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class LC{constructor(e,n,i,o={},l=[]){this.apiClient=e,this.modelsModule=n,this.model=i,this.config=o,this.history=l,this.sendPromise=Promise.resolve(),IC(l)}async sendMessage(e){var n;await this.sendPromise;const i=we(e.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var l,u,r;const c=await o,f=(u=(l=c.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content,d=c.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let p=[];d!=null&&(p=(r=d.slice(m))!==null&&r!==void 0?r:[]);const g=f?[f]:[];this.recordHistory(i,g,p)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(e){var n;await this.sendPromise;const i=we(e.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const l=await o;return this.processStreamResponse(l,i)}getHistory(e=!1){const n=e?Wf(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var i,o;return fi(this,arguments,function*(){var u,r,c,f;const d=[];try{for(var m=!0,p=ro(e),g;g=yield ee(p.next()),u=g.done,!u;m=!0){f=g.value,m=!1;const T=f;if(UC(T)){const S=(o=(i=T.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content;S!==void 0&&d.push(S)}yield yield ee(T)}}catch(T){r={error:T}}finally{try{!m&&!u&&(c=p.return)&&(yield ee(c.call(p)))}finally{if(r)throw r.error}}this.recordHistory(n,d)})}recordHistory(e,n,i){let o=[];n.length>0&&n.every(l=>l.role!==void 0)?o=n:o.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...Wf(i)):this.history.push(e),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ta extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Ta.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VC(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&s(e,["_query","pageSize"],i);const o=a(t,["pageToken"]);return e!==void 0&&o!=null&&s(e,["_query","pageToken"],o),n}function GC(t){const e={},n=a(t,["config"]);return n!=null&&s(e,["config"],VC(n,e)),e}function PC(t){const e={},n=a(t,["details"]);n!=null&&s(e,["details"],n);const i=a(t,["message"]);i!=null&&s(e,["message"],i);const o=a(t,["code"]);return o!=null&&s(e,["code"],o),e}function BC(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["displayName"]);i!=null&&s(e,["displayName"],i);const o=a(t,["mimeType"]);o!=null&&s(e,["mimeType"],o);const l=a(t,["sizeBytes"]);l!=null&&s(e,["sizeBytes"],l);const u=a(t,["createTime"]);u!=null&&s(e,["createTime"],u);const r=a(t,["expirationTime"]);r!=null&&s(e,["expirationTime"],r);const c=a(t,["updateTime"]);c!=null&&s(e,["updateTime"],c);const f=a(t,["sha256Hash"]);f!=null&&s(e,["sha256Hash"],f);const d=a(t,["uri"]);d!=null&&s(e,["uri"],d);const m=a(t,["downloadUri"]);m!=null&&s(e,["downloadUri"],m);const p=a(t,["state"]);p!=null&&s(e,["state"],p);const g=a(t,["source"]);g!=null&&s(e,["source"],g);const T=a(t,["videoMetadata"]);T!=null&&s(e,["videoMetadata"],T);const S=a(t,["error"]);return S!=null&&s(e,["error"],PC(S)),e}function HC(t){const e={},n=a(t,["file"]);n!=null&&s(e,["file"],BC(n));const i=a(t,["config"]);return i!=null&&s(e,["config"],i),e}function zC(t){const e={},n=a(t,["name"]);n!=null&&s(e,["_url","file"],Mg(n));const i=a(t,["config"]);return i!=null&&s(e,["config"],i),e}function kC(t){const e={},n=a(t,["name"]);n!=null&&s(e,["_url","file"],Mg(n));const i=a(t,["config"]);return i!=null&&s(e,["config"],i),e}function FC(t){const e={},n=a(t,["details"]);n!=null&&s(e,["details"],n);const i=a(t,["message"]);i!=null&&s(e,["message"],i);const o=a(t,["code"]);return o!=null&&s(e,["code"],o),e}function cu(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["displayName"]);i!=null&&s(e,["displayName"],i);const o=a(t,["mimeType"]);o!=null&&s(e,["mimeType"],o);const l=a(t,["sizeBytes"]);l!=null&&s(e,["sizeBytes"],l);const u=a(t,["createTime"]);u!=null&&s(e,["createTime"],u);const r=a(t,["expirationTime"]);r!=null&&s(e,["expirationTime"],r);const c=a(t,["updateTime"]);c!=null&&s(e,["updateTime"],c);const f=a(t,["sha256Hash"]);f!=null&&s(e,["sha256Hash"],f);const d=a(t,["uri"]);d!=null&&s(e,["uri"],d);const m=a(t,["downloadUri"]);m!=null&&s(e,["downloadUri"],m);const p=a(t,["state"]);p!=null&&s(e,["state"],p);const g=a(t,["source"]);g!=null&&s(e,["source"],g);const T=a(t,["videoMetadata"]);T!=null&&s(e,["videoMetadata"],T);const S=a(t,["error"]);return S!=null&&s(e,["error"],FC(S)),e}function OC(t){const e={},n=a(t,["nextPageToken"]);n!=null&&s(e,["nextPageToken"],n);const i=a(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>cu(l))),s(e,["files"],o)}return e}function YC(t){const e={},n=a(t,["sdkHttpResponse"]);return n!=null&&s(e,["sdkHttpResponse"],n),e}function JC(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class QC extends Un{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new zo(Rn.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>cu(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=GC(e);return l=U("files",r._url),u=r._query,delete r.config,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(r),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{const f=OC(c),d=new fT;return Object.assign(d,f),d})}}async createInternal(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=HC(e);return l=U("upload/v1beta/files",r._url),u=r._query,delete r.config,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{const f=YC(c),d=new dT;return Object.assign(d,f),d})}}async get(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=zC(e);return l=U("files/{file}",r._url),u=r._query,delete r.config,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(r),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>cu(c))}}async delete(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=kC(e);return l=U("files/{file}",r._url),u=r._query,delete r.config,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(r),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(()=>{const c=JC(),f=new mT;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KC(t){const e={},n=a(t,["voiceName"]);return n!=null&&s(e,["voiceName"],n),e}function Vg(t){const e={},n=a(t,["prebuiltVoiceConfig"]);return n!=null&&s(e,["prebuiltVoiceConfig"],KC(n)),e}function $C(t){const e={},n=a(t,["speaker"]);n!=null&&s(e,["speaker"],n);const i=a(t,["voiceConfig"]);return i!=null&&s(e,["voiceConfig"],Vg(i)),e}function XC(t){const e={},n=a(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>$C(o))),s(e,["speakerVoiceConfigs"],i)}return e}function ZC(t){const e={},n=a(t,["voiceConfig"]);n!=null&&s(e,["voiceConfig"],Vg(n));const i=a(t,["multiSpeakerVoiceConfig"]);i!=null&&s(e,["multiSpeakerVoiceConfig"],XC(i));const o=a(t,["languageCode"]);return o!=null&&s(e,["languageCode"],o),e}function WC(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const o=a(t,["startOffset"]);return o!=null&&s(e,["startOffset"],o),e}function jC(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["data"]);n!=null&&s(e,["data"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function eS(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function tS(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],WC(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const o=a(t,["inlineData"]);o!=null&&s(e,["inlineData"],jC(o));const l=a(t,["fileData"]);l!=null&&s(e,["fileData"],eS(l));const u=a(t,["thoughtSignature"]);u!=null&&s(e,["thoughtSignature"],u);const r=a(t,["codeExecutionResult"]);r!=null&&s(e,["codeExecutionResult"],r);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function nS(t){const e={},n=a(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>tS(l))),s(e,["parts"],o)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function iS(t){const e={},n=a(t,["behavior"]);n!=null&&s(e,["behavior"],n);const i=a(t,["description"]);i!=null&&s(e,["description"],i);const o=a(t,["name"]);o!=null&&s(e,["name"],o);const l=a(t,["parameters"]);l!=null&&s(e,["parameters"],l);const u=a(t,["parametersJsonSchema"]);u!=null&&s(e,["parametersJsonSchema"],u);const r=a(t,["response"]);r!=null&&s(e,["response"],r);const c=a(t,["responseJsonSchema"]);return c!=null&&s(e,["responseJsonSchema"],c),e}function oS(t){const e={},n=a(t,["startTime"]);n!=null&&s(e,["startTime"],n);const i=a(t,["endTime"]);return i!=null&&s(e,["endTime"],i),e}function lS(t){const e={},n=a(t,["timeRangeFilter"]);return n!=null&&s(e,["timeRangeFilter"],oS(n)),e}function aS(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["dynamicThreshold"]);return i!=null&&s(e,["dynamicThreshold"],i),e}function sS(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],aS(n)),e}function uS(){return{}}function rS(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>iS(f))),s(e,["functionDeclarations"],c)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=a(t,["googleSearch"]);i!=null&&s(e,["googleSearch"],lS(i));const o=a(t,["googleSearchRetrieval"]);if(o!=null&&s(e,["googleSearchRetrieval"],sS(o)),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(t,["urlContext"])!=null&&s(e,["urlContext"],uS());const u=a(t,["codeExecution"]);u!=null&&s(e,["codeExecution"],u);const r=a(t,["computerUse"]);return r!=null&&s(e,["computerUse"],r),e}function cS(t){const e={},n=a(t,["handle"]);if(n!=null&&s(e,["handle"],n),a(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function jf(){return{}}function fS(t){const e={},n=a(t,["disabled"]);n!=null&&s(e,["disabled"],n);const i=a(t,["startOfSpeechSensitivity"]);i!=null&&s(e,["startOfSpeechSensitivity"],i);const o=a(t,["endOfSpeechSensitivity"]);o!=null&&s(e,["endOfSpeechSensitivity"],o);const l=a(t,["prefixPaddingMs"]);l!=null&&s(e,["prefixPaddingMs"],l);const u=a(t,["silenceDurationMs"]);return u!=null&&s(e,["silenceDurationMs"],u),e}function dS(t){const e={},n=a(t,["automaticActivityDetection"]);n!=null&&s(e,["automaticActivityDetection"],fS(n));const i=a(t,["activityHandling"]);i!=null&&s(e,["activityHandling"],i);const o=a(t,["turnCoverage"]);return o!=null&&s(e,["turnCoverage"],o),e}function mS(t){const e={},n=a(t,["targetTokens"]);return n!=null&&s(e,["targetTokens"],n),e}function pS(t){const e={},n=a(t,["triggerTokens"]);n!=null&&s(e,["triggerTokens"],n);const i=a(t,["slidingWindow"]);return i!=null&&s(e,["slidingWindow"],mS(i)),e}function gS(t){const e={},n=a(t,["proactiveAudio"]);return n!=null&&s(e,["proactiveAudio"],n),e}function hS(t,e){const n={},i=a(t,["generationConfig"]);e!==void 0&&i!=null&&s(e,["setup","generationConfig"],i);const o=a(t,["responseModalities"]);e!==void 0&&o!=null&&s(e,["setup","generationConfig","responseModalities"],o);const l=a(t,["temperature"]);e!==void 0&&l!=null&&s(e,["setup","generationConfig","temperature"],l);const u=a(t,["topP"]);e!==void 0&&u!=null&&s(e,["setup","generationConfig","topP"],u);const r=a(t,["topK"]);e!==void 0&&r!=null&&s(e,["setup","generationConfig","topK"],r);const c=a(t,["maxOutputTokens"]);e!==void 0&&c!=null&&s(e,["setup","generationConfig","maxOutputTokens"],c);const f=a(t,["mediaResolution"]);e!==void 0&&f!=null&&s(e,["setup","generationConfig","mediaResolution"],f);const d=a(t,["seed"]);e!==void 0&&d!=null&&s(e,["setup","generationConfig","seed"],d);const m=a(t,["speechConfig"]);e!==void 0&&m!=null&&s(e,["setup","generationConfig","speechConfig"],ZC(Er(m)));const p=a(t,["enableAffectiveDialog"]);e!==void 0&&p!=null&&s(e,["setup","generationConfig","enableAffectiveDialog"],p);const g=a(t,["systemInstruction"]);e!==void 0&&g!=null&&s(e,["setup","systemInstruction"],nS(we(g)));const T=a(t,["tools"]);if(e!==void 0&&T!=null){let A=wi(T);Array.isArray(A)&&(A=A.map(D=>rS(bi(D)))),s(e,["setup","tools"],A)}const S=a(t,["sessionResumption"]);e!==void 0&&S!=null&&s(e,["setup","sessionResumption"],cS(S));const _=a(t,["inputAudioTranscription"]);e!==void 0&&_!=null&&s(e,["setup","inputAudioTranscription"],jf());const y=a(t,["outputAudioTranscription"]);e!==void 0&&y!=null&&s(e,["setup","outputAudioTranscription"],jf());const h=a(t,["realtimeInputConfig"]);e!==void 0&&h!=null&&s(e,["setup","realtimeInputConfig"],dS(h));const v=a(t,["contextWindowCompression"]);e!==void 0&&v!=null&&s(e,["setup","contextWindowCompression"],pS(v));const C=a(t,["proactivity"]);return e!==void 0&&C!=null&&s(e,["setup","proactivity"],gS(C)),n}function yS(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["setup","model"],$(t,i));const o=a(e,["config"]);return o!=null&&s(n,["config"],hS(o,n)),n}function vS(){return{}}function TS(){return{}}function CS(t){const e={},n=a(t,["media"]);n!=null&&s(e,["mediaChunks"],Cg(n));const i=a(t,["audio"]);i!=null&&s(e,["audio"],Eg(i));const o=a(t,["audioStreamEnd"]);o!=null&&s(e,["audioStreamEnd"],o);const l=a(t,["video"]);l!=null&&s(e,["video"],Sg(l));const u=a(t,["text"]);return u!=null&&s(e,["text"],u),a(t,["activityStart"])!=null&&s(e,["activityStart"],vS()),a(t,["activityEnd"])!=null&&s(e,["activityEnd"],TS()),e}function Gg(t){const e={},n=a(t,["text"]);n!=null&&s(e,["text"],n);const i=a(t,["weight"]);return i!=null&&s(e,["weight"],i),e}function SS(t){const e={},n=a(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Gg(o))),s(e,["weightedPrompts"],i)}return e}function Pg(t){const e={},n=a(t,["temperature"]);n!=null&&s(e,["temperature"],n);const i=a(t,["topK"]);i!=null&&s(e,["topK"],i);const o=a(t,["seed"]);o!=null&&s(e,["seed"],o);const l=a(t,["guidance"]);l!=null&&s(e,["guidance"],l);const u=a(t,["bpm"]);u!=null&&s(e,["bpm"],u);const r=a(t,["density"]);r!=null&&s(e,["density"],r);const c=a(t,["brightness"]);c!=null&&s(e,["brightness"],c);const f=a(t,["scale"]);f!=null&&s(e,["scale"],f);const d=a(t,["muteBass"]);d!=null&&s(e,["muteBass"],d);const m=a(t,["muteDrums"]);m!=null&&s(e,["muteDrums"],m);const p=a(t,["onlyBassAndDrums"]);return p!=null&&s(e,["onlyBassAndDrums"],p),e}function ES(t){const e={},n=a(t,["musicGenerationConfig"]);return n!=null&&s(e,["musicGenerationConfig"],Pg(n)),e}function Bg(t){const e={},n=a(t,["model"]);return n!=null&&s(e,["model"],n),e}function Hg(t){const e={},n=a(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Gg(o))),s(e,["weightedPrompts"],i)}return e}function fu(t){const e={},n=a(t,["setup"]);n!=null&&s(e,["setup"],Bg(n));const i=a(t,["clientContent"]);i!=null&&s(e,["clientContent"],Hg(i));const o=a(t,["musicGenerationConfig"]);o!=null&&s(e,["musicGenerationConfig"],Pg(o));const l=a(t,["playbackControl"]);return l!=null&&s(e,["playbackControl"],l),e}function AS(t){const e={},n=a(t,["voiceName"]);return n!=null&&s(e,["voiceName"],n),e}function _S(t){const e={},n=a(t,["prebuiltVoiceConfig"]);return n!=null&&s(e,["prebuiltVoiceConfig"],AS(n)),e}function xS(t){const e={},n=a(t,["voiceConfig"]);if(n!=null&&s(e,["voiceConfig"],_S(n)),a(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=a(t,["languageCode"]);return i!=null&&s(e,["languageCode"],i),e}function MS(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const o=a(t,["startOffset"]);return o!=null&&s(e,["startOffset"],o),e}function RS(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=a(t,["data"]);i!=null&&s(e,["data"],i);const o=a(t,["mimeType"]);return o!=null&&s(e,["mimeType"],o),e}function DS(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=a(t,["fileUri"]);i!=null&&s(e,["fileUri"],i);const o=a(t,["mimeType"]);return o!=null&&s(e,["mimeType"],o),e}function NS(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],MS(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const o=a(t,["inlineData"]);o!=null&&s(e,["inlineData"],RS(o));const l=a(t,["fileData"]);l!=null&&s(e,["fileData"],DS(l));const u=a(t,["thoughtSignature"]);u!=null&&s(e,["thoughtSignature"],u);const r=a(t,["codeExecutionResult"]);r!=null&&s(e,["codeExecutionResult"],r);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function bS(t){const e={},n=a(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>NS(l))),s(e,["parts"],o)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function wS(t){const e={};if(a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=a(t,["description"]);n!=null&&s(e,["description"],n);const i=a(t,["name"]);i!=null&&s(e,["name"],i);const o=a(t,["parameters"]);o!=null&&s(e,["parameters"],o);const l=a(t,["parametersJsonSchema"]);l!=null&&s(e,["parametersJsonSchema"],l);const u=a(t,["response"]);u!=null&&s(e,["response"],u);const r=a(t,["responseJsonSchema"]);return r!=null&&s(e,["responseJsonSchema"],r),e}function US(t){const e={},n=a(t,["startTime"]);n!=null&&s(e,["startTime"],n);const i=a(t,["endTime"]);return i!=null&&s(e,["endTime"],i),e}function IS(t){const e={},n=a(t,["timeRangeFilter"]);return n!=null&&s(e,["timeRangeFilter"],US(n)),e}function qS(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["dynamicThreshold"]);return i!=null&&s(e,["dynamicThreshold"],i),e}function LS(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],qS(n)),e}function VS(){return{}}function GS(t){const e={},n=a(t,["apiKeyString"]);return n!=null&&s(e,["apiKeyString"],n),e}function PS(t){const e={},n=a(t,["apiKeyConfig"]);n!=null&&s(e,["apiKeyConfig"],GS(n));const i=a(t,["authType"]);i!=null&&s(e,["authType"],i);const o=a(t,["googleServiceAccountConfig"]);o!=null&&s(e,["googleServiceAccountConfig"],o);const l=a(t,["httpBasicAuthConfig"]);l!=null&&s(e,["httpBasicAuthConfig"],l);const u=a(t,["oauthConfig"]);u!=null&&s(e,["oauthConfig"],u);const r=a(t,["oidcConfig"]);return r!=null&&s(e,["oidcConfig"],r),e}function BS(t){const e={},n=a(t,["authConfig"]);return n!=null&&s(e,["authConfig"],PS(n)),e}function HS(){return{}}function zS(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(p=>wS(p))),s(e,["functionDeclarations"],m)}const i=a(t,["retrieval"]);i!=null&&s(e,["retrieval"],i);const o=a(t,["googleSearch"]);o!=null&&s(e,["googleSearch"],IS(o));const l=a(t,["googleSearchRetrieval"]);l!=null&&s(e,["googleSearchRetrieval"],LS(l)),a(t,["enterpriseWebSearch"])!=null&&s(e,["enterpriseWebSearch"],VS());const r=a(t,["googleMaps"]);r!=null&&s(e,["googleMaps"],BS(r)),a(t,["urlContext"])!=null&&s(e,["urlContext"],HS());const f=a(t,["codeExecution"]);f!=null&&s(e,["codeExecution"],f);const d=a(t,["computerUse"]);return d!=null&&s(e,["computerUse"],d),e}function kS(t){const e={},n=a(t,["handle"]);n!=null&&s(e,["handle"],n);const i=a(t,["transparent"]);return i!=null&&s(e,["transparent"],i),e}function ed(){return{}}function FS(t){const e={},n=a(t,["disabled"]);n!=null&&s(e,["disabled"],n);const i=a(t,["startOfSpeechSensitivity"]);i!=null&&s(e,["startOfSpeechSensitivity"],i);const o=a(t,["endOfSpeechSensitivity"]);o!=null&&s(e,["endOfSpeechSensitivity"],o);const l=a(t,["prefixPaddingMs"]);l!=null&&s(e,["prefixPaddingMs"],l);const u=a(t,["silenceDurationMs"]);return u!=null&&s(e,["silenceDurationMs"],u),e}function OS(t){const e={},n=a(t,["automaticActivityDetection"]);n!=null&&s(e,["automaticActivityDetection"],FS(n));const i=a(t,["activityHandling"]);i!=null&&s(e,["activityHandling"],i);const o=a(t,["turnCoverage"]);return o!=null&&s(e,["turnCoverage"],o),e}function YS(t){const e={},n=a(t,["targetTokens"]);return n!=null&&s(e,["targetTokens"],n),e}function JS(t){const e={},n=a(t,["triggerTokens"]);n!=null&&s(e,["triggerTokens"],n);const i=a(t,["slidingWindow"]);return i!=null&&s(e,["slidingWindow"],YS(i)),e}function QS(t){const e={},n=a(t,["proactiveAudio"]);return n!=null&&s(e,["proactiveAudio"],n),e}function KS(t,e){const n={},i=a(t,["generationConfig"]);e!==void 0&&i!=null&&s(e,["setup","generationConfig"],i);const o=a(t,["responseModalities"]);e!==void 0&&o!=null&&s(e,["setup","generationConfig","responseModalities"],o);const l=a(t,["temperature"]);e!==void 0&&l!=null&&s(e,["setup","generationConfig","temperature"],l);const u=a(t,["topP"]);e!==void 0&&u!=null&&s(e,["setup","generationConfig","topP"],u);const r=a(t,["topK"]);e!==void 0&&r!=null&&s(e,["setup","generationConfig","topK"],r);const c=a(t,["maxOutputTokens"]);e!==void 0&&c!=null&&s(e,["setup","generationConfig","maxOutputTokens"],c);const f=a(t,["mediaResolution"]);e!==void 0&&f!=null&&s(e,["setup","generationConfig","mediaResolution"],f);const d=a(t,["seed"]);e!==void 0&&d!=null&&s(e,["setup","generationConfig","seed"],d);const m=a(t,["speechConfig"]);e!==void 0&&m!=null&&s(e,["setup","generationConfig","speechConfig"],xS(Er(m)));const p=a(t,["enableAffectiveDialog"]);e!==void 0&&p!=null&&s(e,["setup","generationConfig","enableAffectiveDialog"],p);const g=a(t,["systemInstruction"]);e!==void 0&&g!=null&&s(e,["setup","systemInstruction"],bS(we(g)));const T=a(t,["tools"]);if(e!==void 0&&T!=null){let A=wi(T);Array.isArray(A)&&(A=A.map(D=>zS(bi(D)))),s(e,["setup","tools"],A)}const S=a(t,["sessionResumption"]);e!==void 0&&S!=null&&s(e,["setup","sessionResumption"],kS(S));const _=a(t,["inputAudioTranscription"]);e!==void 0&&_!=null&&s(e,["setup","inputAudioTranscription"],ed());const y=a(t,["outputAudioTranscription"]);e!==void 0&&y!=null&&s(e,["setup","outputAudioTranscription"],ed());const h=a(t,["realtimeInputConfig"]);e!==void 0&&h!=null&&s(e,["setup","realtimeInputConfig"],OS(h));const v=a(t,["contextWindowCompression"]);e!==void 0&&v!=null&&s(e,["setup","contextWindowCompression"],JS(v));const C=a(t,["proactivity"]);return e!==void 0&&C!=null&&s(e,["setup","proactivity"],QS(C)),n}function $S(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["setup","model"],$(t,i));const o=a(e,["config"]);return o!=null&&s(n,["config"],KS(o,n)),n}function XS(){return{}}function ZS(){return{}}function WS(t){const e={},n=a(t,["media"]);n!=null&&s(e,["mediaChunks"],Cg(n));const i=a(t,["audio"]);i!=null&&s(e,["audio"],Eg(i));const o=a(t,["audioStreamEnd"]);o!=null&&s(e,["audioStreamEnd"],o);const l=a(t,["video"]);l!=null&&s(e,["video"],Sg(l));const u=a(t,["text"]);return u!=null&&s(e,["text"],u),a(t,["activityStart"])!=null&&s(e,["activityStart"],XS()),a(t,["activityEnd"])!=null&&s(e,["activityEnd"],ZS()),e}function jS(){return{}}function eE(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const o=a(t,["startOffset"]);return o!=null&&s(e,["startOffset"],o),e}function tE(t){const e={},n=a(t,["data"]);n!=null&&s(e,["data"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function nE(t){const e={},n=a(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function iE(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],eE(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const o=a(t,["inlineData"]);o!=null&&s(e,["inlineData"],tE(o));const l=a(t,["fileData"]);l!=null&&s(e,["fileData"],nE(l));const u=a(t,["thoughtSignature"]);u!=null&&s(e,["thoughtSignature"],u);const r=a(t,["codeExecutionResult"]);r!=null&&s(e,["codeExecutionResult"],r);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function oE(t){const e={},n=a(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>iE(l))),s(e,["parts"],o)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function td(t){const e={},n=a(t,["text"]);n!=null&&s(e,["text"],n);const i=a(t,["finished"]);return i!=null&&s(e,["finished"],i),e}function lE(t){const e={},n=a(t,["retrievedUrl"]);n!=null&&s(e,["retrievedUrl"],n);const i=a(t,["urlRetrievalStatus"]);return i!=null&&s(e,["urlRetrievalStatus"],i),e}function aE(t){const e={},n=a(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>lE(o))),s(e,["urlMetadata"],i)}return e}function sE(t){const e={},n=a(t,["modelTurn"]);n!=null&&s(e,["modelTurn"],oE(n));const i=a(t,["turnComplete"]);i!=null&&s(e,["turnComplete"],i);const o=a(t,["interrupted"]);o!=null&&s(e,["interrupted"],o);const l=a(t,["groundingMetadata"]);l!=null&&s(e,["groundingMetadata"],l);const u=a(t,["generationComplete"]);u!=null&&s(e,["generationComplete"],u);const r=a(t,["inputTranscription"]);r!=null&&s(e,["inputTranscription"],td(r));const c=a(t,["outputTranscription"]);c!=null&&s(e,["outputTranscription"],td(c));const f=a(t,["urlContextMetadata"]);return f!=null&&s(e,["urlContextMetadata"],aE(f)),e}function uE(t){const e={},n=a(t,["id"]);n!=null&&s(e,["id"],n);const i=a(t,["args"]);i!=null&&s(e,["args"],i);const o=a(t,["name"]);return o!=null&&s(e,["name"],o),e}function rE(t){const e={},n=a(t,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>uE(o))),s(e,["functionCalls"],i)}return e}function cE(t){const e={},n=a(t,["ids"]);return n!=null&&s(e,["ids"],n),e}function il(t){const e={},n=a(t,["modality"]);n!=null&&s(e,["modality"],n);const i=a(t,["tokenCount"]);return i!=null&&s(e,["tokenCount"],i),e}function fE(t){const e={},n=a(t,["promptTokenCount"]);n!=null&&s(e,["promptTokenCount"],n);const i=a(t,["cachedContentTokenCount"]);i!=null&&s(e,["cachedContentTokenCount"],i);const o=a(t,["responseTokenCount"]);o!=null&&s(e,["responseTokenCount"],o);const l=a(t,["toolUsePromptTokenCount"]);l!=null&&s(e,["toolUsePromptTokenCount"],l);const u=a(t,["thoughtsTokenCount"]);u!=null&&s(e,["thoughtsTokenCount"],u);const r=a(t,["totalTokenCount"]);r!=null&&s(e,["totalTokenCount"],r);const c=a(t,["promptTokensDetails"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(g=>il(g))),s(e,["promptTokensDetails"],p)}const f=a(t,["cacheTokensDetails"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>il(g))),s(e,["cacheTokensDetails"],p)}const d=a(t,["responseTokensDetails"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(g=>il(g))),s(e,["responseTokensDetails"],p)}const m=a(t,["toolUsePromptTokensDetails"]);if(m!=null){let p=m;Array.isArray(p)&&(p=p.map(g=>il(g))),s(e,["toolUsePromptTokensDetails"],p)}return e}function dE(t){const e={},n=a(t,["timeLeft"]);return n!=null&&s(e,["timeLeft"],n),e}function mE(t){const e={},n=a(t,["newHandle"]);n!=null&&s(e,["newHandle"],n);const i=a(t,["resumable"]);i!=null&&s(e,["resumable"],i);const o=a(t,["lastConsumedClientMessageIndex"]);return o!=null&&s(e,["lastConsumedClientMessageIndex"],o),e}function pE(t){const e={};a(t,["setupComplete"])!=null&&s(e,["setupComplete"],jS());const i=a(t,["serverContent"]);i!=null&&s(e,["serverContent"],sE(i));const o=a(t,["toolCall"]);o!=null&&s(e,["toolCall"],rE(o));const l=a(t,["toolCallCancellation"]);l!=null&&s(e,["toolCallCancellation"],cE(l));const u=a(t,["usageMetadata"]);u!=null&&s(e,["usageMetadata"],fE(u));const r=a(t,["goAway"]);r!=null&&s(e,["goAway"],dE(r));const c=a(t,["sessionResumptionUpdate"]);return c!=null&&s(e,["sessionResumptionUpdate"],mE(c)),e}function gE(){return{}}function hE(t){const e={},n=a(t,["text"]);n!=null&&s(e,["text"],n);const i=a(t,["weight"]);return i!=null&&s(e,["weight"],i),e}function yE(t){const e={},n=a(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>hE(o))),s(e,["weightedPrompts"],i)}return e}function vE(t){const e={},n=a(t,["temperature"]);n!=null&&s(e,["temperature"],n);const i=a(t,["topK"]);i!=null&&s(e,["topK"],i);const o=a(t,["seed"]);o!=null&&s(e,["seed"],o);const l=a(t,["guidance"]);l!=null&&s(e,["guidance"],l);const u=a(t,["bpm"]);u!=null&&s(e,["bpm"],u);const r=a(t,["density"]);r!=null&&s(e,["density"],r);const c=a(t,["brightness"]);c!=null&&s(e,["brightness"],c);const f=a(t,["scale"]);f!=null&&s(e,["scale"],f);const d=a(t,["muteBass"]);d!=null&&s(e,["muteBass"],d);const m=a(t,["muteDrums"]);m!=null&&s(e,["muteDrums"],m);const p=a(t,["onlyBassAndDrums"]);return p!=null&&s(e,["onlyBassAndDrums"],p),e}function TE(t){const e={},n=a(t,["clientContent"]);n!=null&&s(e,["clientContent"],yE(n));const i=a(t,["musicGenerationConfig"]);return i!=null&&s(e,["musicGenerationConfig"],vE(i)),e}function CE(t){const e={},n=a(t,["data"]);n!=null&&s(e,["data"],n);const i=a(t,["mimeType"]);i!=null&&s(e,["mimeType"],i);const o=a(t,["sourceMetadata"]);return o!=null&&s(e,["sourceMetadata"],TE(o)),e}function SE(t){const e={},n=a(t,["audioChunks"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>CE(o))),s(e,["audioChunks"],i)}return e}function EE(t){const e={},n=a(t,["text"]);n!=null&&s(e,["text"],n);const i=a(t,["filteredReason"]);return i!=null&&s(e,["filteredReason"],i),e}function AE(t){const e={};a(t,["setupComplete"])!=null&&s(e,["setupComplete"],gE());const i=a(t,["serverContent"]);i!=null&&s(e,["serverContent"],SE(i));const o=a(t,["filteredPrompt"]);return o!=null&&s(e,["filteredPrompt"],EE(o)),e}function _E(t){const e={},n=a(t,["sessionId"]);return n!=null&&s(e,["sessionId"],n),e}function xE(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const o=a(t,["startOffset"]);return o!=null&&s(e,["startOffset"],o),e}function ME(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=a(t,["data"]);i!=null&&s(e,["data"],i);const o=a(t,["mimeType"]);return o!=null&&s(e,["mimeType"],o),e}function RE(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=a(t,["fileUri"]);i!=null&&s(e,["fileUri"],i);const o=a(t,["mimeType"]);return o!=null&&s(e,["mimeType"],o),e}function DE(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],xE(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const o=a(t,["inlineData"]);o!=null&&s(e,["inlineData"],ME(o));const l=a(t,["fileData"]);l!=null&&s(e,["fileData"],RE(l));const u=a(t,["thoughtSignature"]);u!=null&&s(e,["thoughtSignature"],u);const r=a(t,["codeExecutionResult"]);r!=null&&s(e,["codeExecutionResult"],r);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function NE(t){const e={},n=a(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>DE(l))),s(e,["parts"],o)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function nd(t){const e={},n=a(t,["text"]);n!=null&&s(e,["text"],n);const i=a(t,["finished"]);return i!=null&&s(e,["finished"],i),e}function bE(t){const e={},n=a(t,["modelTurn"]);n!=null&&s(e,["modelTurn"],NE(n));const i=a(t,["turnComplete"]);i!=null&&s(e,["turnComplete"],i);const o=a(t,["interrupted"]);o!=null&&s(e,["interrupted"],o);const l=a(t,["groundingMetadata"]);l!=null&&s(e,["groundingMetadata"],l);const u=a(t,["generationComplete"]);u!=null&&s(e,["generationComplete"],u);const r=a(t,["inputTranscription"]);r!=null&&s(e,["inputTranscription"],nd(r));const c=a(t,["outputTranscription"]);return c!=null&&s(e,["outputTranscription"],nd(c)),e}function wE(t){const e={},n=a(t,["args"]);n!=null&&s(e,["args"],n);const i=a(t,["name"]);return i!=null&&s(e,["name"],i),e}function UE(t){const e={},n=a(t,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>wE(o))),s(e,["functionCalls"],i)}return e}function IE(t){const e={},n=a(t,["ids"]);return n!=null&&s(e,["ids"],n),e}function ol(t){const e={},n=a(t,["modality"]);n!=null&&s(e,["modality"],n);const i=a(t,["tokenCount"]);return i!=null&&s(e,["tokenCount"],i),e}function qE(t){const e={},n=a(t,["promptTokenCount"]);n!=null&&s(e,["promptTokenCount"],n);const i=a(t,["cachedContentTokenCount"]);i!=null&&s(e,["cachedContentTokenCount"],i);const o=a(t,["candidatesTokenCount"]);o!=null&&s(e,["responseTokenCount"],o);const l=a(t,["toolUsePromptTokenCount"]);l!=null&&s(e,["toolUsePromptTokenCount"],l);const u=a(t,["thoughtsTokenCount"]);u!=null&&s(e,["thoughtsTokenCount"],u);const r=a(t,["totalTokenCount"]);r!=null&&s(e,["totalTokenCount"],r);const c=a(t,["promptTokensDetails"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(T=>ol(T))),s(e,["promptTokensDetails"],g)}const f=a(t,["cacheTokensDetails"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(T=>ol(T))),s(e,["cacheTokensDetails"],g)}const d=a(t,["candidatesTokensDetails"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(T=>ol(T))),s(e,["responseTokensDetails"],g)}const m=a(t,["toolUsePromptTokensDetails"]);if(m!=null){let g=m;Array.isArray(g)&&(g=g.map(T=>ol(T))),s(e,["toolUsePromptTokensDetails"],g)}const p=a(t,["trafficType"]);return p!=null&&s(e,["trafficType"],p),e}function LE(t){const e={},n=a(t,["timeLeft"]);return n!=null&&s(e,["timeLeft"],n),e}function VE(t){const e={},n=a(t,["newHandle"]);n!=null&&s(e,["newHandle"],n);const i=a(t,["resumable"]);i!=null&&s(e,["resumable"],i);const o=a(t,["lastConsumedClientMessageIndex"]);return o!=null&&s(e,["lastConsumedClientMessageIndex"],o),e}function GE(t){const e={},n=a(t,["setupComplete"]);n!=null&&s(e,["setupComplete"],_E(n));const i=a(t,["serverContent"]);i!=null&&s(e,["serverContent"],bE(i));const o=a(t,["toolCall"]);o!=null&&s(e,["toolCall"],UE(o));const l=a(t,["toolCallCancellation"]);l!=null&&s(e,["toolCallCancellation"],IE(l));const u=a(t,["usageMetadata"]);u!=null&&s(e,["usageMetadata"],qE(u));const r=a(t,["goAway"]);r!=null&&s(e,["goAway"],LE(r));const c=a(t,["sessionResumptionUpdate"]);return c!=null&&s(e,["sessionResumptionUpdate"],VE(c)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PE(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const o=a(t,["startOffset"]);return o!=null&&s(e,["startOffset"],o),e}function BE(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["data"]);n!=null&&s(e,["data"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function HE(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function zE(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],PE(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const o=a(t,["inlineData"]);o!=null&&s(e,["inlineData"],BE(o));const l=a(t,["fileData"]);l!=null&&s(e,["fileData"],HE(l));const u=a(t,["thoughtSignature"]);u!=null&&s(e,["thoughtSignature"],u);const r=a(t,["codeExecutionResult"]);r!=null&&s(e,["codeExecutionResult"],r);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function Ca(t){const e={},n=a(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>zE(l))),s(e,["parts"],o)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function kE(t){const e={},n=a(t,["anyOf"]);n!=null&&s(e,["anyOf"],n);const i=a(t,["default"]);i!=null&&s(e,["default"],i);const o=a(t,["description"]);o!=null&&s(e,["description"],o);const l=a(t,["enum"]);l!=null&&s(e,["enum"],l);const u=a(t,["example"]);u!=null&&s(e,["example"],u);const r=a(t,["format"]);r!=null&&s(e,["format"],r);const c=a(t,["items"]);c!=null&&s(e,["items"],c);const f=a(t,["maxItems"]);f!=null&&s(e,["maxItems"],f);const d=a(t,["maxLength"]);d!=null&&s(e,["maxLength"],d);const m=a(t,["maxProperties"]);m!=null&&s(e,["maxProperties"],m);const p=a(t,["maximum"]);p!=null&&s(e,["maximum"],p);const g=a(t,["minItems"]);g!=null&&s(e,["minItems"],g);const T=a(t,["minLength"]);T!=null&&s(e,["minLength"],T);const S=a(t,["minProperties"]);S!=null&&s(e,["minProperties"],S);const _=a(t,["minimum"]);_!=null&&s(e,["minimum"],_);const y=a(t,["nullable"]);y!=null&&s(e,["nullable"],y);const h=a(t,["pattern"]);h!=null&&s(e,["pattern"],h);const v=a(t,["properties"]);v!=null&&s(e,["properties"],v);const C=a(t,["propertyOrdering"]);C!=null&&s(e,["propertyOrdering"],C);const A=a(t,["required"]);A!=null&&s(e,["required"],A);const D=a(t,["title"]);D!=null&&s(e,["title"],D);const M=a(t,["type"]);return M!=null&&s(e,["type"],M),e}function FE(t){const e={};if(a(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=a(t,["category"]);n!=null&&s(e,["category"],n);const i=a(t,["threshold"]);return i!=null&&s(e,["threshold"],i),e}function OE(t){const e={},n=a(t,["behavior"]);n!=null&&s(e,["behavior"],n);const i=a(t,["description"]);i!=null&&s(e,["description"],i);const o=a(t,["name"]);o!=null&&s(e,["name"],o);const l=a(t,["parameters"]);l!=null&&s(e,["parameters"],l);const u=a(t,["parametersJsonSchema"]);u!=null&&s(e,["parametersJsonSchema"],u);const r=a(t,["response"]);r!=null&&s(e,["response"],r);const c=a(t,["responseJsonSchema"]);return c!=null&&s(e,["responseJsonSchema"],c),e}function YE(t){const e={},n=a(t,["startTime"]);n!=null&&s(e,["startTime"],n);const i=a(t,["endTime"]);return i!=null&&s(e,["endTime"],i),e}function JE(t){const e={},n=a(t,["timeRangeFilter"]);return n!=null&&s(e,["timeRangeFilter"],YE(n)),e}function QE(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["dynamicThreshold"]);return i!=null&&s(e,["dynamicThreshold"],i),e}function KE(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],QE(n)),e}function $E(){return{}}function XE(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>OE(f))),s(e,["functionDeclarations"],c)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=a(t,["googleSearch"]);i!=null&&s(e,["googleSearch"],JE(i));const o=a(t,["googleSearchRetrieval"]);if(o!=null&&s(e,["googleSearchRetrieval"],KE(o)),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(t,["urlContext"])!=null&&s(e,["urlContext"],$E());const u=a(t,["codeExecution"]);u!=null&&s(e,["codeExecution"],u);const r=a(t,["computerUse"]);return r!=null&&s(e,["computerUse"],r),e}function ZE(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["allowedFunctionNames"]);return i!=null&&s(e,["allowedFunctionNames"],i),e}function WE(t){const e={},n=a(t,["latitude"]);n!=null&&s(e,["latitude"],n);const i=a(t,["longitude"]);return i!=null&&s(e,["longitude"],i),e}function jE(t){const e={},n=a(t,["latLng"]);n!=null&&s(e,["latLng"],WE(n));const i=a(t,["languageCode"]);return i!=null&&s(e,["languageCode"],i),e}function eA(t){const e={},n=a(t,["functionCallingConfig"]);n!=null&&s(e,["functionCallingConfig"],ZE(n));const i=a(t,["retrievalConfig"]);return i!=null&&s(e,["retrievalConfig"],jE(i)),e}function tA(t){const e={},n=a(t,["voiceName"]);return n!=null&&s(e,["voiceName"],n),e}function zg(t){const e={},n=a(t,["prebuiltVoiceConfig"]);return n!=null&&s(e,["prebuiltVoiceConfig"],tA(n)),e}function nA(t){const e={},n=a(t,["speaker"]);n!=null&&s(e,["speaker"],n);const i=a(t,["voiceConfig"]);return i!=null&&s(e,["voiceConfig"],zg(i)),e}function iA(t){const e={},n=a(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>nA(o))),s(e,["speakerVoiceConfigs"],i)}return e}function oA(t){const e={},n=a(t,["voiceConfig"]);n!=null&&s(e,["voiceConfig"],zg(n));const i=a(t,["multiSpeakerVoiceConfig"]);i!=null&&s(e,["multiSpeakerVoiceConfig"],iA(i));const o=a(t,["languageCode"]);return o!=null&&s(e,["languageCode"],o),e}function lA(t){const e={},n=a(t,["includeThoughts"]);n!=null&&s(e,["includeThoughts"],n);const i=a(t,["thinkingBudget"]);return i!=null&&s(e,["thinkingBudget"],i),e}function aA(t,e,n){const i={},o=a(e,["systemInstruction"]);n!==void 0&&o!=null&&s(n,["systemInstruction"],Ca(we(o)));const l=a(e,["temperature"]);l!=null&&s(i,["temperature"],l);const u=a(e,["topP"]);u!=null&&s(i,["topP"],u);const r=a(e,["topK"]);r!=null&&s(i,["topK"],r);const c=a(e,["candidateCount"]);c!=null&&s(i,["candidateCount"],c);const f=a(e,["maxOutputTokens"]);f!=null&&s(i,["maxOutputTokens"],f);const d=a(e,["stopSequences"]);d!=null&&s(i,["stopSequences"],d);const m=a(e,["responseLogprobs"]);m!=null&&s(i,["responseLogprobs"],m);const p=a(e,["logprobs"]);p!=null&&s(i,["logprobs"],p);const g=a(e,["presencePenalty"]);g!=null&&s(i,["presencePenalty"],g);const T=a(e,["frequencyPenalty"]);T!=null&&s(i,["frequencyPenalty"],T);const S=a(e,["seed"]);S!=null&&s(i,["seed"],S);const _=a(e,["responseMimeType"]);_!=null&&s(i,["responseMimeType"],_);const y=a(e,["responseSchema"]);y!=null&&s(i,["responseSchema"],kE(Cr(y)));const h=a(e,["responseJsonSchema"]);if(h!=null&&s(i,["responseJsonSchema"],h),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const v=a(e,["safetySettings"]);if(n!==void 0&&v!=null){let L=v;Array.isArray(L)&&(L=L.map(fe=>FE(fe))),s(n,["safetySettings"],L)}const C=a(e,["tools"]);if(n!==void 0&&C!=null){let L=wi(C);Array.isArray(L)&&(L=L.map(fe=>XE(bi(fe)))),s(n,["tools"],L)}const A=a(e,["toolConfig"]);if(n!==void 0&&A!=null&&s(n,["toolConfig"],eA(A)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const D=a(e,["cachedContent"]);n!==void 0&&D!=null&&s(n,["cachedContent"],qt(t,D));const M=a(e,["responseModalities"]);M!=null&&s(i,["responseModalities"],M);const R=a(e,["mediaResolution"]);R!=null&&s(i,["mediaResolution"],R);const N=a(e,["speechConfig"]);if(N!=null&&s(i,["speechConfig"],oA(Sr(N))),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const w=a(e,["thinkingConfig"]);return w!=null&&s(i,["thinkingConfig"],lA(w)),i}function id(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],$(t,i));const o=a(e,["contents"]);if(o!=null){let u=it(o);Array.isArray(u)&&(u=u.map(r=>Ca(r))),s(n,["contents"],u)}const l=a(e,["config"]);return l!=null&&s(n,["generationConfig"],aA(t,l,n)),n}function sA(t,e){const n={},i=a(t,["taskType"]);e!==void 0&&i!=null&&s(e,["requests[]","taskType"],i);const o=a(t,["title"]);e!==void 0&&o!=null&&s(e,["requests[]","title"],o);const l=a(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&s(e,["requests[]","outputDimensionality"],l),a(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function uA(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],$(t,i));const o=a(e,["contents"]);o!=null&&s(n,["requests[]","content"],_g(t,o));const l=a(e,["config"]);l!=null&&s(n,["config"],sA(l,n));const u=a(e,["model"]);return u!==void 0&&s(n,["requests[]","model"],$(t,u)),n}function rA(t,e){const n={};if(a(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=a(t,["numberOfImages"]);e!==void 0&&i!=null&&s(e,["parameters","sampleCount"],i);const o=a(t,["aspectRatio"]);e!==void 0&&o!=null&&s(e,["parameters","aspectRatio"],o);const l=a(t,["guidanceScale"]);if(e!==void 0&&l!=null&&s(e,["parameters","guidanceScale"],l),a(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=a(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&s(e,["parameters","safetySetting"],u);const r=a(t,["personGeneration"]);e!==void 0&&r!=null&&s(e,["parameters","personGeneration"],r);const c=a(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&s(e,["parameters","includeSafetyAttributes"],c);const f=a(t,["includeRaiReason"]);e!==void 0&&f!=null&&s(e,["parameters","includeRaiReason"],f);const d=a(t,["language"]);e!==void 0&&d!=null&&s(e,["parameters","language"],d);const m=a(t,["outputMimeType"]);e!==void 0&&m!=null&&s(e,["parameters","outputOptions","mimeType"],m);const p=a(t,["outputCompressionQuality"]);if(e!==void 0&&p!=null&&s(e,["parameters","outputOptions","compressionQuality"],p),a(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(a(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function cA(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],$(t,i));const o=a(e,["prompt"]);o!=null&&s(n,["instances[0]","prompt"],o);const l=a(e,["config"]);return l!=null&&s(n,["config"],rA(l,n)),n}function fA(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","name"],$(t,i));const o=a(e,["config"]);return o!=null&&s(n,["config"],o),n}function dA(t,e,n){const i={},o=a(e,["pageSize"]);n!==void 0&&o!=null&&s(n,["_query","pageSize"],o);const l=a(e,["pageToken"]);n!==void 0&&l!=null&&s(n,["_query","pageToken"],l);const u=a(e,["filter"]);n!==void 0&&u!=null&&s(n,["_query","filter"],u);const r=a(e,["queryBase"]);return n!==void 0&&r!=null&&s(n,["_url","models_url"],Rg(t,r)),i}function mA(t,e){const n={},i=a(e,["config"]);return i!=null&&s(n,["config"],dA(t,i,n)),n}function pA(t,e){const n={},i=a(t,["displayName"]);e!==void 0&&i!=null&&s(e,["displayName"],i);const o=a(t,["description"]);e!==void 0&&o!=null&&s(e,["description"],o);const l=a(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&s(e,["defaultCheckpointId"],l),n}function gA(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","name"],$(t,i));const o=a(e,["config"]);return o!=null&&s(n,["config"],pA(o,n)),n}function hA(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","name"],$(t,i));const o=a(e,["config"]);return o!=null&&s(n,["config"],o),n}function yA(t){const e={};if(a(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(a(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(a(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function vA(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],$(t,i));const o=a(e,["contents"]);if(o!=null){let u=it(o);Array.isArray(u)&&(u=u.map(r=>Ca(r))),s(n,["contents"],u)}const l=a(e,["config"]);return l!=null&&s(n,["config"],yA(l)),n}function TA(t){const e={};if(a(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=a(t,["imageBytes"]);n!=null&&s(e,["bytesBase64Encoded"],Lt(n));const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function CA(t,e){const n={},i=a(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&s(e,["parameters","sampleCount"],i),a(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=a(t,["durationSeconds"]);if(e!==void 0&&o!=null&&s(e,["parameters","durationSeconds"],o),a(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=a(t,["aspectRatio"]);if(e!==void 0&&l!=null&&s(e,["parameters","aspectRatio"],l),a(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const u=a(t,["personGeneration"]);if(e!==void 0&&u!=null&&s(e,["parameters","personGeneration"],u),a(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const r=a(t,["negativePrompt"]);e!==void 0&&r!=null&&s(e,["parameters","negativePrompt"],r);const c=a(t,["enhancePrompt"]);if(e!==void 0&&c!=null&&s(e,["parameters","enhancePrompt"],c),a(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(a(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(a(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function SA(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],$(t,i));const o=a(e,["prompt"]);o!=null&&s(n,["instances[0]","prompt"],o);const l=a(e,["image"]);if(l!=null&&s(n,["instances[0]","image"],TA(l)),a(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const u=a(e,["config"]);return u!=null&&s(n,["config"],CA(u,n)),n}function EA(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const o=a(t,["startOffset"]);return o!=null&&s(e,["startOffset"],o),e}function AA(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=a(t,["data"]);i!=null&&s(e,["data"],i);const o=a(t,["mimeType"]);return o!=null&&s(e,["mimeType"],o),e}function _A(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=a(t,["fileUri"]);i!=null&&s(e,["fileUri"],i);const o=a(t,["mimeType"]);return o!=null&&s(e,["mimeType"],o),e}function xA(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],EA(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const o=a(t,["inlineData"]);o!=null&&s(e,["inlineData"],AA(o));const l=a(t,["fileData"]);l!=null&&s(e,["fileData"],_A(l));const u=a(t,["thoughtSignature"]);u!=null&&s(e,["thoughtSignature"],u);const r=a(t,["codeExecutionResult"]);r!=null&&s(e,["codeExecutionResult"],r);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function Ii(t){const e={},n=a(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>xA(l))),s(e,["parts"],o)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function MA(t){const e={},n=a(t,["anyOf"]);n!=null&&s(e,["anyOf"],n);const i=a(t,["default"]);i!=null&&s(e,["default"],i);const o=a(t,["description"]);o!=null&&s(e,["description"],o);const l=a(t,["enum"]);l!=null&&s(e,["enum"],l);const u=a(t,["example"]);u!=null&&s(e,["example"],u);const r=a(t,["format"]);r!=null&&s(e,["format"],r);const c=a(t,["items"]);c!=null&&s(e,["items"],c);const f=a(t,["maxItems"]);f!=null&&s(e,["maxItems"],f);const d=a(t,["maxLength"]);d!=null&&s(e,["maxLength"],d);const m=a(t,["maxProperties"]);m!=null&&s(e,["maxProperties"],m);const p=a(t,["maximum"]);p!=null&&s(e,["maximum"],p);const g=a(t,["minItems"]);g!=null&&s(e,["minItems"],g);const T=a(t,["minLength"]);T!=null&&s(e,["minLength"],T);const S=a(t,["minProperties"]);S!=null&&s(e,["minProperties"],S);const _=a(t,["minimum"]);_!=null&&s(e,["minimum"],_);const y=a(t,["nullable"]);y!=null&&s(e,["nullable"],y);const h=a(t,["pattern"]);h!=null&&s(e,["pattern"],h);const v=a(t,["properties"]);v!=null&&s(e,["properties"],v);const C=a(t,["propertyOrdering"]);C!=null&&s(e,["propertyOrdering"],C);const A=a(t,["required"]);A!=null&&s(e,["required"],A);const D=a(t,["title"]);D!=null&&s(e,["title"],D);const M=a(t,["type"]);return M!=null&&s(e,["type"],M),e}function RA(t){const e={},n=a(t,["featureSelectionPreference"]);return n!=null&&s(e,["featureSelectionPreference"],n),e}function DA(t){const e={},n=a(t,["method"]);n!=null&&s(e,["method"],n);const i=a(t,["category"]);i!=null&&s(e,["category"],i);const o=a(t,["threshold"]);return o!=null&&s(e,["threshold"],o),e}function NA(t){const e={};if(a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=a(t,["description"]);n!=null&&s(e,["description"],n);const i=a(t,["name"]);i!=null&&s(e,["name"],i);const o=a(t,["parameters"]);o!=null&&s(e,["parameters"],o);const l=a(t,["parametersJsonSchema"]);l!=null&&s(e,["parametersJsonSchema"],l);const u=a(t,["response"]);u!=null&&s(e,["response"],u);const r=a(t,["responseJsonSchema"]);return r!=null&&s(e,["responseJsonSchema"],r),e}function bA(t){const e={},n=a(t,["startTime"]);n!=null&&s(e,["startTime"],n);const i=a(t,["endTime"]);return i!=null&&s(e,["endTime"],i),e}function wA(t){const e={},n=a(t,["timeRangeFilter"]);return n!=null&&s(e,["timeRangeFilter"],bA(n)),e}function UA(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["dynamicThreshold"]);return i!=null&&s(e,["dynamicThreshold"],i),e}function IA(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],UA(n)),e}function qA(){return{}}function LA(t){const e={},n=a(t,["apiKeyString"]);return n!=null&&s(e,["apiKeyString"],n),e}function VA(t){const e={},n=a(t,["apiKeyConfig"]);n!=null&&s(e,["apiKeyConfig"],LA(n));const i=a(t,["authType"]);i!=null&&s(e,["authType"],i);const o=a(t,["googleServiceAccountConfig"]);o!=null&&s(e,["googleServiceAccountConfig"],o);const l=a(t,["httpBasicAuthConfig"]);l!=null&&s(e,["httpBasicAuthConfig"],l);const u=a(t,["oauthConfig"]);u!=null&&s(e,["oauthConfig"],u);const r=a(t,["oidcConfig"]);return r!=null&&s(e,["oidcConfig"],r),e}function GA(t){const e={},n=a(t,["authConfig"]);return n!=null&&s(e,["authConfig"],VA(n)),e}function PA(){return{}}function kg(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(p=>NA(p))),s(e,["functionDeclarations"],m)}const i=a(t,["retrieval"]);i!=null&&s(e,["retrieval"],i);const o=a(t,["googleSearch"]);o!=null&&s(e,["googleSearch"],wA(o));const l=a(t,["googleSearchRetrieval"]);l!=null&&s(e,["googleSearchRetrieval"],IA(l)),a(t,["enterpriseWebSearch"])!=null&&s(e,["enterpriseWebSearch"],qA());const r=a(t,["googleMaps"]);r!=null&&s(e,["googleMaps"],GA(r)),a(t,["urlContext"])!=null&&s(e,["urlContext"],PA());const f=a(t,["codeExecution"]);f!=null&&s(e,["codeExecution"],f);const d=a(t,["computerUse"]);return d!=null&&s(e,["computerUse"],d),e}function BA(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["allowedFunctionNames"]);return i!=null&&s(e,["allowedFunctionNames"],i),e}function HA(t){const e={},n=a(t,["latitude"]);n!=null&&s(e,["latitude"],n);const i=a(t,["longitude"]);return i!=null&&s(e,["longitude"],i),e}function zA(t){const e={},n=a(t,["latLng"]);n!=null&&s(e,["latLng"],HA(n));const i=a(t,["languageCode"]);return i!=null&&s(e,["languageCode"],i),e}function kA(t){const e={},n=a(t,["functionCallingConfig"]);n!=null&&s(e,["functionCallingConfig"],BA(n));const i=a(t,["retrievalConfig"]);return i!=null&&s(e,["retrievalConfig"],zA(i)),e}function FA(t){const e={},n=a(t,["voiceName"]);return n!=null&&s(e,["voiceName"],n),e}function OA(t){const e={},n=a(t,["prebuiltVoiceConfig"]);return n!=null&&s(e,["prebuiltVoiceConfig"],FA(n)),e}function YA(t){const e={},n=a(t,["voiceConfig"]);if(n!=null&&s(e,["voiceConfig"],OA(n)),a(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=a(t,["languageCode"]);return i!=null&&s(e,["languageCode"],i),e}function JA(t){const e={},n=a(t,["includeThoughts"]);n!=null&&s(e,["includeThoughts"],n);const i=a(t,["thinkingBudget"]);return i!=null&&s(e,["thinkingBudget"],i),e}function QA(t,e,n){const i={},o=a(e,["systemInstruction"]);n!==void 0&&o!=null&&s(n,["systemInstruction"],Ii(we(o)));const l=a(e,["temperature"]);l!=null&&s(i,["temperature"],l);const u=a(e,["topP"]);u!=null&&s(i,["topP"],u);const r=a(e,["topK"]);r!=null&&s(i,["topK"],r);const c=a(e,["candidateCount"]);c!=null&&s(i,["candidateCount"],c);const f=a(e,["maxOutputTokens"]);f!=null&&s(i,["maxOutputTokens"],f);const d=a(e,["stopSequences"]);d!=null&&s(i,["stopSequences"],d);const m=a(e,["responseLogprobs"]);m!=null&&s(i,["responseLogprobs"],m);const p=a(e,["logprobs"]);p!=null&&s(i,["logprobs"],p);const g=a(e,["presencePenalty"]);g!=null&&s(i,["presencePenalty"],g);const T=a(e,["frequencyPenalty"]);T!=null&&s(i,["frequencyPenalty"],T);const S=a(e,["seed"]);S!=null&&s(i,["seed"],S);const _=a(e,["responseMimeType"]);_!=null&&s(i,["responseMimeType"],_);const y=a(e,["responseSchema"]);y!=null&&s(i,["responseSchema"],MA(Cr(y)));const h=a(e,["responseJsonSchema"]);h!=null&&s(i,["responseJsonSchema"],h);const v=a(e,["routingConfig"]);v!=null&&s(i,["routingConfig"],v);const C=a(e,["modelSelectionConfig"]);C!=null&&s(i,["modelConfig"],RA(C));const A=a(e,["safetySettings"]);if(n!==void 0&&A!=null){let ye=A;Array.isArray(ye)&&(ye=ye.map(b=>DA(b))),s(n,["safetySettings"],ye)}const D=a(e,["tools"]);if(n!==void 0&&D!=null){let ye=wi(D);Array.isArray(ye)&&(ye=ye.map(b=>kg(bi(b)))),s(n,["tools"],ye)}const M=a(e,["toolConfig"]);n!==void 0&&M!=null&&s(n,["toolConfig"],kA(M));const R=a(e,["labels"]);n!==void 0&&R!=null&&s(n,["labels"],R);const N=a(e,["cachedContent"]);n!==void 0&&N!=null&&s(n,["cachedContent"],qt(t,N));const w=a(e,["responseModalities"]);w!=null&&s(i,["responseModalities"],w);const L=a(e,["mediaResolution"]);L!=null&&s(i,["mediaResolution"],L);const fe=a(e,["speechConfig"]);fe!=null&&s(i,["speechConfig"],YA(Sr(fe)));const rn=a(e,["audioTimestamp"]);rn!=null&&s(i,["audioTimestamp"],rn);const In=a(e,["thinkingConfig"]);return In!=null&&s(i,["thinkingConfig"],JA(In)),i}function od(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],$(t,i));const o=a(e,["contents"]);if(o!=null){let u=it(o);Array.isArray(u)&&(u=u.map(r=>Ii(r))),s(n,["contents"],u)}const l=a(e,["config"]);return l!=null&&s(n,["generationConfig"],QA(t,l,n)),n}function KA(t,e){const n={},i=a(t,["taskType"]);e!==void 0&&i!=null&&s(e,["instances[]","task_type"],i);const o=a(t,["title"]);e!==void 0&&o!=null&&s(e,["instances[]","title"],o);const l=a(t,["outputDimensionality"]);e!==void 0&&l!=null&&s(e,["parameters","outputDimensionality"],l);const u=a(t,["mimeType"]);e!==void 0&&u!=null&&s(e,["instances[]","mimeType"],u);const r=a(t,["autoTruncate"]);return e!==void 0&&r!=null&&s(e,["parameters","autoTruncate"],r),n}function $A(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],$(t,i));const o=a(e,["contents"]);o!=null&&s(n,["instances[]","content"],_g(t,o));const l=a(e,["config"]);return l!=null&&s(n,["config"],KA(l,n)),n}function XA(t,e){const n={},i=a(t,["outputGcsUri"]);e!==void 0&&i!=null&&s(e,["parameters","storageUri"],i);const o=a(t,["negativePrompt"]);e!==void 0&&o!=null&&s(e,["parameters","negativePrompt"],o);const l=a(t,["numberOfImages"]);e!==void 0&&l!=null&&s(e,["parameters","sampleCount"],l);const u=a(t,["aspectRatio"]);e!==void 0&&u!=null&&s(e,["parameters","aspectRatio"],u);const r=a(t,["guidanceScale"]);e!==void 0&&r!=null&&s(e,["parameters","guidanceScale"],r);const c=a(t,["seed"]);e!==void 0&&c!=null&&s(e,["parameters","seed"],c);const f=a(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&s(e,["parameters","safetySetting"],f);const d=a(t,["personGeneration"]);e!==void 0&&d!=null&&s(e,["parameters","personGeneration"],d);const m=a(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&s(e,["parameters","includeSafetyAttributes"],m);const p=a(t,["includeRaiReason"]);e!==void 0&&p!=null&&s(e,["parameters","includeRaiReason"],p);const g=a(t,["language"]);e!==void 0&&g!=null&&s(e,["parameters","language"],g);const T=a(t,["outputMimeType"]);e!==void 0&&T!=null&&s(e,["parameters","outputOptions","mimeType"],T);const S=a(t,["outputCompressionQuality"]);e!==void 0&&S!=null&&s(e,["parameters","outputOptions","compressionQuality"],S);const _=a(t,["addWatermark"]);e!==void 0&&_!=null&&s(e,["parameters","addWatermark"],_);const y=a(t,["enhancePrompt"]);return e!==void 0&&y!=null&&s(e,["parameters","enhancePrompt"],y),n}function ZA(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],$(t,i));const o=a(e,["prompt"]);o!=null&&s(n,["instances[0]","prompt"],o);const l=a(e,["config"]);return l!=null&&s(n,["config"],XA(l,n)),n}function Sa(t){const e={},n=a(t,["gcsUri"]);n!=null&&s(e,["gcsUri"],n);const i=a(t,["imageBytes"]);i!=null&&s(e,["bytesBase64Encoded"],Lt(i));const o=a(t,["mimeType"]);return o!=null&&s(e,["mimeType"],o),e}function WA(t){const e={},n=a(t,["maskMode"]);n!=null&&s(e,["maskMode"],n);const i=a(t,["segmentationClasses"]);i!=null&&s(e,["maskClasses"],i);const o=a(t,["maskDilation"]);return o!=null&&s(e,["dilation"],o),e}function jA(t){const e={},n=a(t,["controlType"]);n!=null&&s(e,["controlType"],n);const i=a(t,["enableControlImageComputation"]);return i!=null&&s(e,["computeControl"],i),e}function e_(t){const e={},n=a(t,["styleDescription"]);return n!=null&&s(e,["styleDescription"],n),e}function t_(t){const e={},n=a(t,["subjectType"]);n!=null&&s(e,["subjectType"],n);const i=a(t,["subjectDescription"]);return i!=null&&s(e,["subjectDescription"],i),e}function n_(t){const e={},n=a(t,["referenceImage"]);n!=null&&s(e,["referenceImage"],Sa(n));const i=a(t,["referenceId"]);i!=null&&s(e,["referenceId"],i);const o=a(t,["referenceType"]);o!=null&&s(e,["referenceType"],o);const l=a(t,["maskImageConfig"]);l!=null&&s(e,["maskImageConfig"],WA(l));const u=a(t,["controlImageConfig"]);u!=null&&s(e,["controlImageConfig"],jA(u));const r=a(t,["styleImageConfig"]);r!=null&&s(e,["styleImageConfig"],e_(r));const c=a(t,["subjectImageConfig"]);return c!=null&&s(e,["subjectImageConfig"],t_(c)),e}function i_(t,e){const n={},i=a(t,["outputGcsUri"]);e!==void 0&&i!=null&&s(e,["parameters","storageUri"],i);const o=a(t,["negativePrompt"]);e!==void 0&&o!=null&&s(e,["parameters","negativePrompt"],o);const l=a(t,["numberOfImages"]);e!==void 0&&l!=null&&s(e,["parameters","sampleCount"],l);const u=a(t,["aspectRatio"]);e!==void 0&&u!=null&&s(e,["parameters","aspectRatio"],u);const r=a(t,["guidanceScale"]);e!==void 0&&r!=null&&s(e,["parameters","guidanceScale"],r);const c=a(t,["seed"]);e!==void 0&&c!=null&&s(e,["parameters","seed"],c);const f=a(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&s(e,["parameters","safetySetting"],f);const d=a(t,["personGeneration"]);e!==void 0&&d!=null&&s(e,["parameters","personGeneration"],d);const m=a(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&s(e,["parameters","includeSafetyAttributes"],m);const p=a(t,["includeRaiReason"]);e!==void 0&&p!=null&&s(e,["parameters","includeRaiReason"],p);const g=a(t,["language"]);e!==void 0&&g!=null&&s(e,["parameters","language"],g);const T=a(t,["outputMimeType"]);e!==void 0&&T!=null&&s(e,["parameters","outputOptions","mimeType"],T);const S=a(t,["outputCompressionQuality"]);e!==void 0&&S!=null&&s(e,["parameters","outputOptions","compressionQuality"],S);const _=a(t,["addWatermark"]);e!==void 0&&_!=null&&s(e,["parameters","addWatermark"],_);const y=a(t,["editMode"]);e!==void 0&&y!=null&&s(e,["parameters","editMode"],y);const h=a(t,["baseSteps"]);return e!==void 0&&h!=null&&s(e,["parameters","editConfig","baseSteps"],h),n}function o_(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],$(t,i));const o=a(e,["prompt"]);o!=null&&s(n,["instances[0]","prompt"],o);const l=a(e,["referenceImages"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>n_(c))),s(n,["instances[0]","referenceImages"],r)}const u=a(e,["config"]);return u!=null&&s(n,["config"],i_(u,n)),n}function l_(t,e){const n={},i=a(t,["includeRaiReason"]);e!==void 0&&i!=null&&s(e,["parameters","includeRaiReason"],i);const o=a(t,["outputMimeType"]);e!==void 0&&o!=null&&s(e,["parameters","outputOptions","mimeType"],o);const l=a(t,["outputCompressionQuality"]);e!==void 0&&l!=null&&s(e,["parameters","outputOptions","compressionQuality"],l);const u=a(t,["enhanceInputImage"]);e!==void 0&&u!=null&&s(e,["parameters","upscaleConfig","enhanceInputImage"],u);const r=a(t,["imagePreservationFactor"]);e!==void 0&&r!=null&&s(e,["parameters","upscaleConfig","imagePreservationFactor"],r);const c=a(t,["numberOfImages"]);e!==void 0&&c!=null&&s(e,["parameters","sampleCount"],c);const f=a(t,["mode"]);return e!==void 0&&f!=null&&s(e,["parameters","mode"],f),n}function a_(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],$(t,i));const o=a(e,["image"]);o!=null&&s(n,["instances[0]","image"],Sa(o));const l=a(e,["upscaleFactor"]);l!=null&&s(n,["parameters","upscaleConfig","upscaleFactor"],l);const u=a(e,["config"]);return u!=null&&s(n,["config"],l_(u,n)),n}function s_(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","name"],$(t,i));const o=a(e,["config"]);return o!=null&&s(n,["config"],o),n}function u_(t,e,n){const i={},o=a(e,["pageSize"]);n!==void 0&&o!=null&&s(n,["_query","pageSize"],o);const l=a(e,["pageToken"]);n!==void 0&&l!=null&&s(n,["_query","pageToken"],l);const u=a(e,["filter"]);n!==void 0&&u!=null&&s(n,["_query","filter"],u);const r=a(e,["queryBase"]);return n!==void 0&&r!=null&&s(n,["_url","models_url"],Rg(t,r)),i}function r_(t,e){const n={},i=a(e,["config"]);return i!=null&&s(n,["config"],u_(t,i,n)),n}function c_(t,e){const n={},i=a(t,["displayName"]);e!==void 0&&i!=null&&s(e,["displayName"],i);const o=a(t,["description"]);e!==void 0&&o!=null&&s(e,["description"],o);const l=a(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&s(e,["defaultCheckpointId"],l),n}function f_(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],$(t,i));const o=a(e,["config"]);return o!=null&&s(n,["config"],c_(o,n)),n}function d_(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","name"],$(t,i));const o=a(e,["config"]);return o!=null&&s(n,["config"],o),n}function m_(t,e){const n={},i=a(t,["systemInstruction"]);e!==void 0&&i!=null&&s(e,["systemInstruction"],Ii(we(i)));const o=a(t,["tools"]);if(e!==void 0&&o!=null){let u=o;Array.isArray(u)&&(u=u.map(r=>kg(r))),s(e,["tools"],u)}const l=a(t,["generationConfig"]);return e!==void 0&&l!=null&&s(e,["generationConfig"],l),n}function p_(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],$(t,i));const o=a(e,["contents"]);if(o!=null){let u=it(o);Array.isArray(u)&&(u=u.map(r=>Ii(r))),s(n,["contents"],u)}const l=a(e,["config"]);return l!=null&&s(n,["config"],m_(l,n)),n}function g_(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],$(t,i));const o=a(e,["contents"]);if(o!=null){let u=it(o);Array.isArray(u)&&(u=u.map(r=>Ii(r))),s(n,["contents"],u)}const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function h_(t){const e={},n=a(t,["uri"]);n!=null&&s(e,["gcsUri"],n);const i=a(t,["videoBytes"]);i!=null&&s(e,["bytesBase64Encoded"],Lt(i));const o=a(t,["mimeType"]);return o!=null&&s(e,["mimeType"],o),e}function y_(t,e){const n={},i=a(t,["numberOfVideos"]);e!==void 0&&i!=null&&s(e,["parameters","sampleCount"],i);const o=a(t,["outputGcsUri"]);e!==void 0&&o!=null&&s(e,["parameters","storageUri"],o);const l=a(t,["fps"]);e!==void 0&&l!=null&&s(e,["parameters","fps"],l);const u=a(t,["durationSeconds"]);e!==void 0&&u!=null&&s(e,["parameters","durationSeconds"],u);const r=a(t,["seed"]);e!==void 0&&r!=null&&s(e,["parameters","seed"],r);const c=a(t,["aspectRatio"]);e!==void 0&&c!=null&&s(e,["parameters","aspectRatio"],c);const f=a(t,["resolution"]);e!==void 0&&f!=null&&s(e,["parameters","resolution"],f);const d=a(t,["personGeneration"]);e!==void 0&&d!=null&&s(e,["parameters","personGeneration"],d);const m=a(t,["pubsubTopic"]);e!==void 0&&m!=null&&s(e,["parameters","pubsubTopic"],m);const p=a(t,["negativePrompt"]);e!==void 0&&p!=null&&s(e,["parameters","negativePrompt"],p);const g=a(t,["enhancePrompt"]);e!==void 0&&g!=null&&s(e,["parameters","enhancePrompt"],g);const T=a(t,["generateAudio"]);e!==void 0&&T!=null&&s(e,["parameters","generateAudio"],T);const S=a(t,["lastFrame"]);e!==void 0&&S!=null&&s(e,["instances[0]","lastFrame"],Sa(S));const _=a(t,["compressionQuality"]);return e!==void 0&&_!=null&&s(e,["parameters","compressionQuality"],_),n}function v_(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],$(t,i));const o=a(e,["prompt"]);o!=null&&s(n,["instances[0]","prompt"],o);const l=a(e,["image"]);l!=null&&s(n,["instances[0]","image"],Sa(l));const u=a(e,["video"]);u!=null&&s(n,["instances[0]","video"],h_(u));const r=a(e,["config"]);return r!=null&&s(n,["config"],y_(r,n)),n}function T_(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const o=a(t,["startOffset"]);return o!=null&&s(e,["startOffset"],o),e}function C_(t){const e={},n=a(t,["data"]);n!=null&&s(e,["data"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function S_(t){const e={},n=a(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function E_(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],T_(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const o=a(t,["inlineData"]);o!=null&&s(e,["inlineData"],C_(o));const l=a(t,["fileData"]);l!=null&&s(e,["fileData"],S_(l));const u=a(t,["thoughtSignature"]);u!=null&&s(e,["thoughtSignature"],u);const r=a(t,["codeExecutionResult"]);r!=null&&s(e,["codeExecutionResult"],r);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function A_(t){const e={},n=a(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>E_(l))),s(e,["parts"],o)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function __(t){const e={},n=a(t,["citationSources"]);return n!=null&&s(e,["citations"],n),e}function x_(t){const e={},n=a(t,["retrievedUrl"]);n!=null&&s(e,["retrievedUrl"],n);const i=a(t,["urlRetrievalStatus"]);return i!=null&&s(e,["urlRetrievalStatus"],i),e}function M_(t){const e={},n=a(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>x_(o))),s(e,["urlMetadata"],i)}return e}function R_(t){const e={},n=a(t,["content"]);n!=null&&s(e,["content"],A_(n));const i=a(t,["citationMetadata"]);i!=null&&s(e,["citationMetadata"],__(i));const o=a(t,["tokenCount"]);o!=null&&s(e,["tokenCount"],o);const l=a(t,["finishReason"]);l!=null&&s(e,["finishReason"],l);const u=a(t,["urlContextMetadata"]);u!=null&&s(e,["urlContextMetadata"],M_(u));const r=a(t,["avgLogprobs"]);r!=null&&s(e,["avgLogprobs"],r);const c=a(t,["groundingMetadata"]);c!=null&&s(e,["groundingMetadata"],c);const f=a(t,["index"]);f!=null&&s(e,["index"],f);const d=a(t,["logprobsResult"]);d!=null&&s(e,["logprobsResult"],d);const m=a(t,["safetyRatings"]);return m!=null&&s(e,["safetyRatings"],m),e}function ld(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&s(e,["sdkHttpResponse"],n);const i=a(t,["candidates"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(c=>R_(c))),s(e,["candidates"],r)}const o=a(t,["modelVersion"]);o!=null&&s(e,["modelVersion"],o);const l=a(t,["promptFeedback"]);l!=null&&s(e,["promptFeedback"],l);const u=a(t,["usageMetadata"]);return u!=null&&s(e,["usageMetadata"],u),e}function D_(t){const e={},n=a(t,["values"]);return n!=null&&s(e,["values"],n),e}function N_(){return{}}function b_(t){const e={},n=a(t,["embeddings"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>D_(l))),s(e,["embeddings"],o)}return a(t,["metadata"])!=null&&s(e,["metadata"],N_()),e}function w_(t){const e={},n=a(t,["bytesBase64Encoded"]);n!=null&&s(e,["imageBytes"],Lt(n));const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function Fg(t){const e={},n=a(t,["safetyAttributes","categories"]);n!=null&&s(e,["categories"],n);const i=a(t,["safetyAttributes","scores"]);i!=null&&s(e,["scores"],i);const o=a(t,["contentType"]);return o!=null&&s(e,["contentType"],o),e}function U_(t){const e={},n=a(t,["_self"]);n!=null&&s(e,["image"],w_(n));const i=a(t,["raiFilteredReason"]);i!=null&&s(e,["raiFilteredReason"],i);const o=a(t,["_self"]);return o!=null&&s(e,["safetyAttributes"],Fg(o)),e}function I_(t){const e={},n=a(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>U_(l))),s(e,["generatedImages"],o)}const i=a(t,["positivePromptSafetyAttributes"]);return i!=null&&s(e,["positivePromptSafetyAttributes"],Fg(i)),e}function q_(t){const e={},n=a(t,["baseModel"]);n!=null&&s(e,["baseModel"],n);const i=a(t,["createTime"]);i!=null&&s(e,["createTime"],i);const o=a(t,["updateTime"]);return o!=null&&s(e,["updateTime"],o),e}function du(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["displayName"]);i!=null&&s(e,["displayName"],i);const o=a(t,["description"]);o!=null&&s(e,["description"],o);const l=a(t,["version"]);l!=null&&s(e,["version"],l);const u=a(t,["_self"]);u!=null&&s(e,["tunedModelInfo"],q_(u));const r=a(t,["inputTokenLimit"]);r!=null&&s(e,["inputTokenLimit"],r);const c=a(t,["outputTokenLimit"]);c!=null&&s(e,["outputTokenLimit"],c);const f=a(t,["supportedGenerationMethods"]);return f!=null&&s(e,["supportedActions"],f),e}function L_(t){const e={},n=a(t,["nextPageToken"]);n!=null&&s(e,["nextPageToken"],n);const i=a(t,["_self"]);if(i!=null){let o=Dg(i);Array.isArray(o)&&(o=o.map(l=>du(l))),s(e,["models"],o)}return e}function V_(){return{}}function G_(t){const e={},n=a(t,["totalTokens"]);n!=null&&s(e,["totalTokens"],n);const i=a(t,["cachedContentTokenCount"]);return i!=null&&s(e,["cachedContentTokenCount"],i),e}function P_(t){const e={},n=a(t,["video","uri"]);n!=null&&s(e,["uri"],n);const i=a(t,["video","encodedVideo"]);i!=null&&s(e,["videoBytes"],Lt(i));const o=a(t,["encoding"]);return o!=null&&s(e,["mimeType"],o),e}function B_(t){const e={},n=a(t,["_self"]);return n!=null&&s(e,["video"],P_(n)),e}function H_(t){const e={},n=a(t,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>B_(u))),s(e,["generatedVideos"],l)}const i=a(t,["raiMediaFilteredCount"]);i!=null&&s(e,["raiMediaFilteredCount"],i);const o=a(t,["raiMediaFilteredReasons"]);return o!=null&&s(e,["raiMediaFilteredReasons"],o),e}function z_(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["metadata"]);i!=null&&s(e,["metadata"],i);const o=a(t,["done"]);o!=null&&s(e,["done"],o);const l=a(t,["error"]);l!=null&&s(e,["error"],l);const u=a(t,["response","generateVideoResponse"]);return u!=null&&s(e,["response"],H_(u)),e}function k_(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const o=a(t,["startOffset"]);return o!=null&&s(e,["startOffset"],o),e}function F_(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=a(t,["data"]);i!=null&&s(e,["data"],i);const o=a(t,["mimeType"]);return o!=null&&s(e,["mimeType"],o),e}function O_(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=a(t,["fileUri"]);i!=null&&s(e,["fileUri"],i);const o=a(t,["mimeType"]);return o!=null&&s(e,["mimeType"],o),e}function Y_(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],k_(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const o=a(t,["inlineData"]);o!=null&&s(e,["inlineData"],F_(o));const l=a(t,["fileData"]);l!=null&&s(e,["fileData"],O_(l));const u=a(t,["thoughtSignature"]);u!=null&&s(e,["thoughtSignature"],u);const r=a(t,["codeExecutionResult"]);r!=null&&s(e,["codeExecutionResult"],r);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function J_(t){const e={},n=a(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>Y_(l))),s(e,["parts"],o)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function Q_(t){const e={},n=a(t,["citations"]);return n!=null&&s(e,["citations"],n),e}function K_(t){const e={},n=a(t,["retrievedUrl"]);n!=null&&s(e,["retrievedUrl"],n);const i=a(t,["urlRetrievalStatus"]);return i!=null&&s(e,["urlRetrievalStatus"],i),e}function $_(t){const e={},n=a(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>K_(o))),s(e,["urlMetadata"],i)}return e}function X_(t){const e={},n=a(t,["content"]);n!=null&&s(e,["content"],J_(n));const i=a(t,["citationMetadata"]);i!=null&&s(e,["citationMetadata"],Q_(i));const o=a(t,["finishMessage"]);o!=null&&s(e,["finishMessage"],o);const l=a(t,["finishReason"]);l!=null&&s(e,["finishReason"],l);const u=a(t,["urlContextMetadata"]);u!=null&&s(e,["urlContextMetadata"],$_(u));const r=a(t,["avgLogprobs"]);r!=null&&s(e,["avgLogprobs"],r);const c=a(t,["groundingMetadata"]);c!=null&&s(e,["groundingMetadata"],c);const f=a(t,["index"]);f!=null&&s(e,["index"],f);const d=a(t,["logprobsResult"]);d!=null&&s(e,["logprobsResult"],d);const m=a(t,["safetyRatings"]);return m!=null&&s(e,["safetyRatings"],m),e}function ad(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&s(e,["sdkHttpResponse"],n);const i=a(t,["candidates"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(d=>X_(d))),s(e,["candidates"],f)}const o=a(t,["createTime"]);o!=null&&s(e,["createTime"],o);const l=a(t,["responseId"]);l!=null&&s(e,["responseId"],l);const u=a(t,["modelVersion"]);u!=null&&s(e,["modelVersion"],u);const r=a(t,["promptFeedback"]);r!=null&&s(e,["promptFeedback"],r);const c=a(t,["usageMetadata"]);return c!=null&&s(e,["usageMetadata"],c),e}function Z_(t){const e={},n=a(t,["truncated"]);n!=null&&s(e,["truncated"],n);const i=a(t,["token_count"]);return i!=null&&s(e,["tokenCount"],i),e}function W_(t){const e={},n=a(t,["values"]);n!=null&&s(e,["values"],n);const i=a(t,["statistics"]);return i!=null&&s(e,["statistics"],Z_(i)),e}function j_(t){const e={},n=a(t,["billableCharacterCount"]);return n!=null&&s(e,["billableCharacterCount"],n),e}function ex(t){const e={},n=a(t,["predictions[]","embeddings"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>W_(l))),s(e,["embeddings"],o)}const i=a(t,["metadata"]);return i!=null&&s(e,["metadata"],j_(i)),e}function tx(t){const e={},n=a(t,["gcsUri"]);n!=null&&s(e,["gcsUri"],n);const i=a(t,["bytesBase64Encoded"]);i!=null&&s(e,["imageBytes"],Lt(i));const o=a(t,["mimeType"]);return o!=null&&s(e,["mimeType"],o),e}function Og(t){const e={},n=a(t,["safetyAttributes","categories"]);n!=null&&s(e,["categories"],n);const i=a(t,["safetyAttributes","scores"]);i!=null&&s(e,["scores"],i);const o=a(t,["contentType"]);return o!=null&&s(e,["contentType"],o),e}function Ar(t){const e={},n=a(t,["_self"]);n!=null&&s(e,["image"],tx(n));const i=a(t,["raiFilteredReason"]);i!=null&&s(e,["raiFilteredReason"],i);const o=a(t,["_self"]);o!=null&&s(e,["safetyAttributes"],Og(o));const l=a(t,["prompt"]);return l!=null&&s(e,["enhancedPrompt"],l),e}function nx(t){const e={},n=a(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>Ar(l))),s(e,["generatedImages"],o)}const i=a(t,["positivePromptSafetyAttributes"]);return i!=null&&s(e,["positivePromptSafetyAttributes"],Og(i)),e}function ix(t){const e={},n=a(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Ar(o))),s(e,["generatedImages"],i)}return e}function ox(t){const e={},n=a(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Ar(o))),s(e,["generatedImages"],i)}return e}function lx(t){const e={},n=a(t,["endpoint"]);n!=null&&s(e,["name"],n);const i=a(t,["deployedModelId"]);return i!=null&&s(e,["deployedModelId"],i),e}function ax(t){const e={},n=a(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&s(e,["baseModel"],n);const i=a(t,["createTime"]);i!=null&&s(e,["createTime"],i);const o=a(t,["updateTime"]);return o!=null&&s(e,["updateTime"],o),e}function sx(t){const e={},n=a(t,["checkpointId"]);n!=null&&s(e,["checkpointId"],n);const i=a(t,["epoch"]);i!=null&&s(e,["epoch"],i);const o=a(t,["step"]);return o!=null&&s(e,["step"],o),e}function mu(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["displayName"]);i!=null&&s(e,["displayName"],i);const o=a(t,["description"]);o!=null&&s(e,["description"],o);const l=a(t,["versionId"]);l!=null&&s(e,["version"],l);const u=a(t,["deployedModels"]);if(u!=null){let m=u;Array.isArray(m)&&(m=m.map(p=>lx(p))),s(e,["endpoints"],m)}const r=a(t,["labels"]);r!=null&&s(e,["labels"],r);const c=a(t,["_self"]);c!=null&&s(e,["tunedModelInfo"],ax(c));const f=a(t,["defaultCheckpointId"]);f!=null&&s(e,["defaultCheckpointId"],f);const d=a(t,["checkpoints"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(p=>sx(p))),s(e,["checkpoints"],m)}return e}function ux(t){const e={},n=a(t,["nextPageToken"]);n!=null&&s(e,["nextPageToken"],n);const i=a(t,["_self"]);if(i!=null){let o=Dg(i);Array.isArray(o)&&(o=o.map(l=>mu(l))),s(e,["models"],o)}return e}function rx(){return{}}function cx(t){const e={},n=a(t,["totalTokens"]);return n!=null&&s(e,["totalTokens"],n),e}function fx(t){const e={},n=a(t,["tokensInfo"]);return n!=null&&s(e,["tokensInfo"],n),e}function dx(t){const e={},n=a(t,["gcsUri"]);n!=null&&s(e,["uri"],n);const i=a(t,["bytesBase64Encoded"]);i!=null&&s(e,["videoBytes"],Lt(i));const o=a(t,["mimeType"]);return o!=null&&s(e,["mimeType"],o),e}function mx(t){const e={},n=a(t,["_self"]);return n!=null&&s(e,["video"],dx(n)),e}function px(t){const e={},n=a(t,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>mx(u))),s(e,["generatedVideos"],l)}const i=a(t,["raiMediaFilteredCount"]);i!=null&&s(e,["raiMediaFilteredCount"],i);const o=a(t,["raiMediaFilteredReasons"]);return o!=null&&s(e,["raiMediaFilteredReasons"],o),e}function gx(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["metadata"]);i!=null&&s(e,["metadata"],i);const o=a(t,["done"]);o!=null&&s(e,["done"],o);const l=a(t,["error"]);l!=null&&s(e,["error"],l);const u=a(t,["response"]);return u!=null&&s(e,["response"],px(u)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hx="Content-Type",yx="X-Server-Timeout",vx="User-Agent",pu="x-goog-api-client",Tx="1.10.0",Cx=`google-genai-sdk/${Tx}`,Sx="v1beta1",Ex="v1beta",sd=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Ax{constructor(e){var n,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Sx,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:Ex,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,i){const o=[this.getRequestUrlInternal(n)];return i&&o.push(this.getBaseResourcePath()),e!==""&&o.push(e),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,i);if(e.queryParams)for(const[u,r]of Object.entries(e.queryParams))o.searchParams.append(u,String(r));let l={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=e.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,n,e.abortSignal),this.unaryApiCall(o,l,e.httpMethod)}patchHttpOptions(e,n){const i=JSON.parse(JSON.stringify(e));for(const[o,l]of Object.entries(n))typeof l=="object"?i[o]=Object.assign(Object.assign({},i[o]),l):l!==void 0&&(i[o]=l);return i}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,i);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let l={};return l.body=e.body,l=await this.includeExtraHttpOptionsToRequestInit(l,n,e.abortSignal),this.streamApiCall(o,l,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,i){if(n&&n.timeout||i){const o=new AbortController,l=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>o.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=l}return n&&n.extraBody!==null&&_x(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await ud(o),new au(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await ud(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(e){var n;return fi(this,arguments,function*(){const o=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),l=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let u="";for(;;){const{done:r,value:c}=yield ee(o.read());if(r){if(u.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=l.decode(c,{stream:!0});try{const m=JSON.parse(f);if("error"in m){const p=JSON.parse(JSON.stringify(m.error)),g=p.status,T=p.code,S=`got status: ${g}. ${JSON.stringify(m)}`;if(T>=400&&T<600)throw new Ta({message:S,status:T})}}catch(m){if(m.name==="ApiError")throw m}u+=f;let d=u.match(sd);for(;d;){const m=d[1];try{const p=new Response(m,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield ee(new au(p)),u=u.slice(d[0].length),d=u.match(sd)}catch(p){throw new Error(`exception parsing stream chunk ${m}. ${p}`)}}}}finally{o.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},n=Cx+" "+this.clientOptions.userAgentExtra;return e[vx]=n,e[pu]=n,e[hx]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))n.append(i,o);e.timeout&&e.timeout>0&&n.append(yx,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var i;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const l=this.clientOptions.uploader,u=await l.stat(e);o.sizeBytes=String(u.size);const r=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:u.type;if(r===void 0||r==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=r;const c=await this.fetchUploadUrl(o,n);return l.upload(e,c,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var i;let o={};n!=null&&n.httpOptions?o=n.httpOptions:o={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const l={file:e},u=await this.request({path:U("upload/v1beta/files",l._url),body:JSON.stringify(l),httpMethod:"POST",httpOptions:o});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const r=(i=u==null?void 0:u.headers)===null||i===void 0?void 0:i["x-goog-upload-url"];if(r===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return r}}async function ud(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const o=JSON.stringify(i);throw n>=400&&n<600?new Ta({message:o,status:n}):new Error(o)}}function _x(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const l=JSON.parse(t.body);if(typeof l=="object"&&l!==null&&!Array.isArray(l))n=l;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(l,u){const r=Object.assign({},l);for(const c in u)if(Object.prototype.hasOwnProperty.call(u,c)){const f=u[c],d=r[c];f&&typeof f=="object"&&!Array.isArray(f)&&d&&typeof d=="object"&&!Array.isArray(d)?r[c]=i(d,f):(d&&f&&typeof d!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof d}, New type: ${typeof f}. Overwriting.`),r[c]=f)}return r}const o=i(n,e);t.body=JSON.stringify(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xx="mcp_used/unknown";let Mx=!1;function Yg(t){for(const e of t)if(_r(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Mx}function Jg(t){var e;const n=(e=t[pu])!==null&&e!==void 0?e:"";t[pu]=(n+` ${xx}`).trimStart()}function Rx(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(o=>_r(o)))!==null&&i!==void 0?i:!1}function Dx(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(o=>!_r(o)))!==null&&i!==void 0?i:!1}function _r(t){return t!==null&&typeof t=="object"&&t instanceof xr}function Nx(t,e=100){return fi(this,arguments,function*(){let i,o=0;for(;o<e;){const l=yield ee(t.listTools({cursor:i}));for(const u of l.tools)yield yield ee(u),o++;if(!l.nextCursor)break;i=l.nextCursor}})}class xr{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new xr(e,n)}async initialize(){var e,n,i,o;if(this.mcpTools.length>0)return;const l={},u=[];for(const d of this.mcpClients)try{for(var r=!0,c=(n=void 0,ro(Nx(d))),f;f=await c.next(),e=f.done,!e;r=!0){o=f.value,r=!1;const m=o;u.push(m);const p=m.name;if(l[p])throw new Error(`Duplicate function name ${p} found in MCP tools. Please ensure function names are unique.`);l[p]=d}}catch(m){n={error:m}}finally{try{!r&&!e&&(i=c.return)&&await i.call(c)}finally{if(n)throw n.error}}this.mcpTools=u,this.functionNameToMcpClient=l}async tool(){return await this.initialize(),AT(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const o=this.functionNameToMcpClient[i.name];let l;this.config.timeout&&(l={timeout:this.config.timeout});const u=await o.callTool({name:i.name,arguments:i.args},void 0,l);n.push({functionResponse:{name:i.name,response:u.isError?{error:u}:u}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function bx(t,e,n){const i=new gT;let o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data);const l=AE(o);Object.assign(i,l),e(i)}class wx{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i}async connect(e){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion(),u=qx(this.apiClient.getDefaultHeaders()),r=this.apiClient.getApiKey(),c=`${o}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateMusic?key=${r}`;let f=()=>{};const d=new Promise(v=>{f=v}),m=e.callbacks,p=function(){f({})},g=this.apiClient,T={onopen:p,onmessage:v=>{bx(g,m.onmessage,v)},onerror:(n=m==null?void 0:m.onerror)!==null&&n!==void 0?n:function(v){},onclose:(i=m==null?void 0:m.onclose)!==null&&i!==void 0?i:function(v){}},S=this.webSocketFactory.create(c,Ix(u),T);S.connect(),await d;const _=$(this.apiClient,e.model),y=Bg({model:_}),h=fu({setup:y});return S.send(JSON.stringify(h)),new Ux(S,this.apiClient)}}class Ux{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=SS(e),i=Hg(n);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=ES(e),i=fu(n);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const n=fu({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(ti.PLAY)}pause(){this.sendPlaybackControl(ti.PAUSE)}stop(){this.sendPlaybackControl(ti.STOP)}resetContext(){this.sendPlaybackControl(ti.RESET_CONTEXT)}close(){this.conn.close()}}function Ix(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function qx(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Lx="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Vx(t,e,n){const i=new pT;let o;n.data instanceof Blob?o=await n.data.text():n.data instanceof ArrayBuffer?o=new TextDecoder().decode(n.data):o=n.data;const l=JSON.parse(o);if(t.isVertexAI()){const u=GE(l);Object.assign(i,u)}else{const u=pE(l);Object.assign(i,u)}e(i)}class Gx{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i,this.music=new wx(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,i,o,l,u,r;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let d;const m=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&Yg(e.config.tools)&&Jg(m);const p=zx(m);if(this.apiClient.isVertexAI())d=`${c}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(p);else{const N=this.apiClient.getApiKey();let w="BidiGenerateContent",L="key";N!=null&&N.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),w="BidiGenerateContentConstrained",L="access_token"),d=`${c}/ws/google.ai.generativelanguage.${f}.GenerativeService.${w}?${L}=${N}`}let g=()=>{};const T=new Promise(N=>{g=N}),S=e.callbacks,_=function(){var N;(N=S==null?void 0:S.onopen)===null||N===void 0||N.call(S),g({})},y=this.apiClient,h={onopen:_,onmessage:N=>{Vx(y,S.onmessage,N)},onerror:(n=S==null?void 0:S.onerror)!==null&&n!==void 0?n:function(N){},onclose:(i=S==null?void 0:S.onclose)!==null&&i!==void 0?i:function(N){}},v=this.webSocketFactory.create(d,Hx(p),h);v.connect(),await T;let C=$(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&C.startsWith("publishers/")){const N=this.apiClient.getProject(),w=this.apiClient.getLocation();C=`projects/${N}/locations/${w}/`+C}let A={};this.apiClient.isVertexAI()&&((o=e.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Zl.AUDIO]}:e.config.responseModalities=[Zl.AUDIO]),!((l=e.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const D=(r=(u=e.config)===null||u===void 0?void 0:u.tools)!==null&&r!==void 0?r:[],M=[];for(const N of D)if(this.isCallableTool(N)){const w=N;M.push(await w.tool())}else M.push(N);M.length>0&&(e.config.tools=M);const R={model:C,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?A=$S(this.apiClient,R):A=yS(this.apiClient,R),delete A.config,v.send(JSON.stringify(A)),new Bx(v,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Px={turnComplete:!0};class Bx{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=it(n.turns),e.isVertexAI()?i=i.map(o=>Ii(o)):i=i.map(o=>Ca(o))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const l of i){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!e.isVertexAI()&&!("id"in l))throw new Error(Lx)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},Px),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:WS(e)}:n={realtimeInput:CS(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function Hx(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function zx(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rd=10;function cd(t){var e,n,i;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let o=!1;for(const u of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Cl(u)){o=!0;break}if(!o)return!0;const l=(i=t==null?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return l&&(l<0||!Number.isInteger(l))||l==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",l),!0):!1}function Cl(t){return"callTool"in t&&typeof t.callTool=="function"}function fd(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kx extends Un{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var i,o,l,u,r;const c=await this.processParamsForMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!Rx(n)||cd(n.config))return await this.generateContentInternal(c);if(Dx(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let f,d;const m=it(c.contents),p=(l=(o=(i=c.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&l!==void 0?l:rd;let g=0;for(;g<p&&(f=await this.generateContentInternal(c),!(!f.functionCalls||f.functionCalls.length===0));){const T=f.candidates[0].content,S=[];for(const _ of(r=(u=n.config)===null||u===void 0?void 0:u.tools)!==null&&r!==void 0?r:[])if(Cl(_)){const h=await _.callTool(f.functionCalls);S.push(...h)}g++,d={role:"user",parts:S},c.contents=it(c.contents),c.contents.push(T),c.contents.push(d),fd(c.config)&&(m.push(T),m.push(d))}return fd(c.config)&&(f.automaticFunctionCallingHistory=m),f},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),cd(n.config)){const i=await this.processParamsForMcpUsage(n);return await this.generateContentStreamInternal(i)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var o;let l;const u=[];if(i!=null&&i.generatedImages)for(const c of i.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((o=c==null?void 0:c.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?l=c==null?void 0:c.safetyAttributes:u.push(c);let r;return l?r={generatedImages:u,positivePromptSafetyAttributes:l}:r={generatedImages:u},r}),this.list=async n=>{var i;const u={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!u.config.queryBase){if(!((i=u.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");u.config.filter="labels.tune-type:*"}return new zo(Rn.PAGED_ITEM_MODELS,r=>this.listInternal(r),await this.listInternal(u),u)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const o={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(o)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsForMcpUsage(e){var n,i,o;const l=(n=e.config)===null||n===void 0?void 0:n.tools;if(!l)return e;const u=await Promise.all(l.map(async c=>Cl(c)?await c.tool():c)),r={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:u})};if(r.config.tools=u,e.config&&e.config.tools&&Yg(e.config.tools)){const c=(o=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&o!==void 0?o:{};let f=Object.assign({},c);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),Jg(f),r.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return r}async initAfcToolsMap(e){var n,i,o;const l=new Map;for(const u of(i=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(Cl(u)){const r=u,c=await r.tool();for(const f of(o=c.functionDeclarations)!==null&&o!==void 0?o:[]){if(!f.name)throw new Error("Function declaration name is required.");if(l.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);l.set(f.name,r)}}return l}async processAfcStream(e){var n,i,o;const l=(o=(i=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:rd;let u=!1,r=0;const c=await this.initAfcToolsMap(e);return function(f,d,m){var p,g;return fi(this,arguments,function*(){for(var T,S,_,y;r<l;){u&&(r++,u=!1);const A=yield ee(f.processParamsForMcpUsage(m)),D=yield ee(f.generateContentStreamInternal(A)),M=[],R=[];try{for(var h=!0,v=(S=void 0,ro(D)),C;C=yield ee(v.next()),T=C.done,!T;h=!0){y=C.value,h=!1;const N=y;if(yield yield ee(N),N.candidates&&(!((p=N.candidates[0])===null||p===void 0)&&p.content)){R.push(N.candidates[0].content);for(const w of(g=N.candidates[0].content.parts)!==null&&g!==void 0?g:[])if(r<l&&w.functionCall){if(!w.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(w.functionCall.name)){const L=yield ee(d.get(w.functionCall.name).callTool([w.functionCall]));M.push(...L)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${w.functionCall.name}`)}}}}catch(N){S={error:N}}finally{try{!h&&!T&&(_=v.return)&&(yield ee(_.call(v)))}finally{if(S)throw S.error}}if(M.length>0){u=!0;const N=new Fi;N.candidates=[{content:{role:"user",parts:M}}],yield yield ee(N);const w=[];w.push(...R),w.push({role:"user",parts:M});const L=it(m.contents).concat(w);m.contents=L}else break}})}(this,c,e)}async generateContentInternal(e){var n,i,o,l;let u,r="",c={};if(this.apiClient.isVertexAI()){const f=od(this.apiClient,e);return r=U("{model}:generateContent",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),u.then(d=>{const m=ad(d),p=new Fi;return Object.assign(p,m),p})}else{const f=id(this.apiClient,e);return r=U("{model}:generateContent",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),u.then(d=>{const m=ld(d),p=new Fi;return Object.assign(p,m),p})}}async generateContentStreamInternal(e){var n,i,o,l;let u,r="",c={};if(this.apiClient.isVertexAI()){const f=od(this.apiClient,e);return r=U("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.requestStream({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),u.then(function(m){return fi(this,arguments,function*(){var p,g,T,S;try{for(var _=!0,y=ro(m),h;h=yield ee(y.next()),p=h.done,!p;_=!0){S=h.value,_=!1;const v=S,C=ad(yield ee(v.json()));C.sdkHttpResponse={headers:v.headers};const A=new Fi;Object.assign(A,C),yield yield ee(A)}}catch(v){g={error:v}}finally{try{!_&&!p&&(T=y.return)&&(yield ee(T.call(y)))}finally{if(g)throw g.error}}})})}else{const f=id(this.apiClient,e);return r=U("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.requestStream({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),u.then(function(m){return fi(this,arguments,function*(){var p,g,T,S;try{for(var _=!0,y=ro(m),h;h=yield ee(y.next()),p=h.done,!p;_=!0){S=h.value,_=!1;const v=S,C=ld(yield ee(v.json()));C.sdkHttpResponse={headers:v.headers};const A=new Fi;Object.assign(A,C),yield yield ee(A)}}catch(v){g={error:v}}finally{try{!_&&!p&&(T=y.return)&&(yield ee(T.call(y)))}finally{if(g)throw g.error}}})})}}async embedContent(e){var n,i,o,l;let u,r="",c={};if(this.apiClient.isVertexAI()){const f=$A(this.apiClient,e);return r=U("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),u.then(d=>{const m=ex(d),p=new Gf;return Object.assign(p,m),p})}else{const f=uA(this.apiClient,e);return r=U("{model}:batchEmbedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),u.then(d=>{const m=b_(d),p=new Gf;return Object.assign(p,m),p})}}async generateImagesInternal(e){var n,i,o,l;let u,r="",c={};if(this.apiClient.isVertexAI()){const f=ZA(this.apiClient,e);return r=U("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),u.then(d=>{const m=nx(d),p=new Pf;return Object.assign(p,m),p})}else{const f=cA(this.apiClient,e);return r=U("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),u.then(d=>{const m=I_(d),p=new Pf;return Object.assign(p,m),p})}}async editImageInternal(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI()){const r=o_(this.apiClient,e);return l=U("{model}:predict",r._url),u=r._query,delete r.config,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{const f=ix(c),d=new uT;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI()){const r=a_(this.apiClient,e);return l=U("{model}:predict",r._url),u=r._query,delete r.config,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{const f=ox(c),d=new rT;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,i,o,l;let u,r="",c={};if(this.apiClient.isVertexAI()){const f=s_(this.apiClient,e);return r=U("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),u.then(d=>mu(d))}else{const f=fA(this.apiClient,e);return r=U("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),u.then(d=>du(d))}}async listInternal(e){var n,i,o,l;let u,r="",c={};if(this.apiClient.isVertexAI()){const f=r_(this.apiClient,e);return r=U("{models_url}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),u.then(d=>{const m=ux(d),p=new Bf;return Object.assign(p,m),p})}else{const f=mA(this.apiClient,e);return r=U("{models_url}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),u.then(d=>{const m=L_(d),p=new Bf;return Object.assign(p,m),p})}}async update(e){var n,i,o,l;let u,r="",c={};if(this.apiClient.isVertexAI()){const f=f_(this.apiClient,e);return r=U("{model}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),u.then(d=>mu(d))}else{const f=gA(this.apiClient,e);return r=U("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),u.then(d=>du(d))}}async delete(e){var n,i,o,l;let u,r="",c={};if(this.apiClient.isVertexAI()){const f=d_(this.apiClient,e);return r=U("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),u.then(()=>{const d=rx(),m=new Hf;return Object.assign(m,d),m})}else{const f=hA(this.apiClient,e);return r=U("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),u.then(()=>{const d=V_(),m=new Hf;return Object.assign(m,d),m})}}async countTokens(e){var n,i,o,l;let u,r="",c={};if(this.apiClient.isVertexAI()){const f=p_(this.apiClient,e);return r=U("{model}:countTokens",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),u.then(d=>{const m=cx(d),p=new zf;return Object.assign(p,m),p})}else{const f=vA(this.apiClient,e);return r=U("{model}:countTokens",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),u.then(d=>{const m=G_(d),p=new zf;return Object.assign(p,m),p})}}async computeTokens(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI()){const r=g_(this.apiClient,e);return l=U("{model}:computeTokens",r._url),u=r._query,delete r.config,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{const f=fx(c),d=new cT;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var n,i,o,l;let u,r="",c={};if(this.apiClient.isVertexAI()){const f=v_(this.apiClient,e);return r=U("{model}:predictLongRunning",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),u.then(d=>gx(d))}else{const f=SA(this.apiClient,e);return r=U("{model}:predictLongRunning",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),u.then(d=>z_(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fx(t){const e={},n=a(t,["operationName"]);n!=null&&s(e,["_url","operationName"],n);const i=a(t,["config"]);return i!=null&&s(e,["config"],i),e}function Ox(t){const e={},n=a(t,["operationName"]);n!=null&&s(e,["_url","operationName"],n);const i=a(t,["config"]);return i!=null&&s(e,["config"],i),e}function Yx(t){const e={},n=a(t,["operationName"]);n!=null&&s(e,["operationName"],n);const i=a(t,["resourceName"]);i!=null&&s(e,["_url","resourceName"],i);const o=a(t,["config"]);return o!=null&&s(e,["config"],o),e}function Jx(t){const e={},n=a(t,["video","uri"]);n!=null&&s(e,["uri"],n);const i=a(t,["video","encodedVideo"]);i!=null&&s(e,["videoBytes"],Lt(i));const o=a(t,["encoding"]);return o!=null&&s(e,["mimeType"],o),e}function Qx(t){const e={},n=a(t,["_self"]);return n!=null&&s(e,["video"],Jx(n)),e}function Kx(t){const e={},n=a(t,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>Qx(u))),s(e,["generatedVideos"],l)}const i=a(t,["raiMediaFilteredCount"]);i!=null&&s(e,["raiMediaFilteredCount"],i);const o=a(t,["raiMediaFilteredReasons"]);return o!=null&&s(e,["raiMediaFilteredReasons"],o),e}function $x(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["metadata"]);i!=null&&s(e,["metadata"],i);const o=a(t,["done"]);o!=null&&s(e,["done"],o);const l=a(t,["error"]);l!=null&&s(e,["error"],l);const u=a(t,["response","generateVideoResponse"]);return u!=null&&s(e,["response"],Kx(u)),e}function Xx(t){const e={},n=a(t,["gcsUri"]);n!=null&&s(e,["uri"],n);const i=a(t,["bytesBase64Encoded"]);i!=null&&s(e,["videoBytes"],Lt(i));const o=a(t,["mimeType"]);return o!=null&&s(e,["mimeType"],o),e}function Zx(t){const e={},n=a(t,["_self"]);return n!=null&&s(e,["video"],Xx(n)),e}function Wx(t){const e={},n=a(t,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>Zx(u))),s(e,["generatedVideos"],l)}const i=a(t,["raiMediaFilteredCount"]);i!=null&&s(e,["raiMediaFilteredCount"],i);const o=a(t,["raiMediaFilteredReasons"]);return o!=null&&s(e,["raiMediaFilteredReasons"],o),e}function dd(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["metadata"]);i!=null&&s(e,["metadata"],i);const o=a(t,["done"]);o!=null&&s(e,["done"],o);const l=a(t,["error"]);l!=null&&s(e,["error"],l);const u=a(t,["response"]);return u!=null&&s(e,["response"],Wx(u)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jx extends Un{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let l;return i&&"httpOptions"in i&&(l=i.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:l}})}else return this.getVideosOperationInternal({operationName:n.name,config:i})}async getVideosOperationInternal(e){var n,i,o,l;let u,r="",c={};if(this.apiClient.isVertexAI()){const f=Ox(e);return r=U("{operationName}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),u.then(d=>dd(d))}else{const f=Fx(e);return r=U("{operationName}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),u.then(d=>$x(d))}}async fetchPredictVideosOperationInternal(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI()){const r=Yx(e);return l=U("{resourceName}:fetchPredictOperation",r._url),u=r._query,delete r.config,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>dd(c))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eM(t){const e={},n=a(t,["voiceName"]);return n!=null&&s(e,["voiceName"],n),e}function Qg(t){const e={},n=a(t,["prebuiltVoiceConfig"]);return n!=null&&s(e,["prebuiltVoiceConfig"],eM(n)),e}function tM(t){const e={},n=a(t,["speaker"]);n!=null&&s(e,["speaker"],n);const i=a(t,["voiceConfig"]);return i!=null&&s(e,["voiceConfig"],Qg(i)),e}function nM(t){const e={},n=a(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>tM(o))),s(e,["speakerVoiceConfigs"],i)}return e}function iM(t){const e={},n=a(t,["voiceConfig"]);n!=null&&s(e,["voiceConfig"],Qg(n));const i=a(t,["multiSpeakerVoiceConfig"]);i!=null&&s(e,["multiSpeakerVoiceConfig"],nM(i));const o=a(t,["languageCode"]);return o!=null&&s(e,["languageCode"],o),e}function oM(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const o=a(t,["startOffset"]);return o!=null&&s(e,["startOffset"],o),e}function lM(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["data"]);n!=null&&s(e,["data"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function aM(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function sM(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],oM(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const o=a(t,["inlineData"]);o!=null&&s(e,["inlineData"],lM(o));const l=a(t,["fileData"]);l!=null&&s(e,["fileData"],aM(l));const u=a(t,["thoughtSignature"]);u!=null&&s(e,["thoughtSignature"],u);const r=a(t,["codeExecutionResult"]);r!=null&&s(e,["codeExecutionResult"],r);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function uM(t){const e={},n=a(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>sM(l))),s(e,["parts"],o)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function rM(t){const e={},n=a(t,["behavior"]);n!=null&&s(e,["behavior"],n);const i=a(t,["description"]);i!=null&&s(e,["description"],i);const o=a(t,["name"]);o!=null&&s(e,["name"],o);const l=a(t,["parameters"]);l!=null&&s(e,["parameters"],l);const u=a(t,["parametersJsonSchema"]);u!=null&&s(e,["parametersJsonSchema"],u);const r=a(t,["response"]);r!=null&&s(e,["response"],r);const c=a(t,["responseJsonSchema"]);return c!=null&&s(e,["responseJsonSchema"],c),e}function cM(t){const e={},n=a(t,["startTime"]);n!=null&&s(e,["startTime"],n);const i=a(t,["endTime"]);return i!=null&&s(e,["endTime"],i),e}function fM(t){const e={},n=a(t,["timeRangeFilter"]);return n!=null&&s(e,["timeRangeFilter"],cM(n)),e}function dM(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["dynamicThreshold"]);return i!=null&&s(e,["dynamicThreshold"],i),e}function mM(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],dM(n)),e}function pM(){return{}}function gM(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>rM(f))),s(e,["functionDeclarations"],c)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=a(t,["googleSearch"]);i!=null&&s(e,["googleSearch"],fM(i));const o=a(t,["googleSearchRetrieval"]);if(o!=null&&s(e,["googleSearchRetrieval"],mM(o)),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(t,["urlContext"])!=null&&s(e,["urlContext"],pM());const u=a(t,["codeExecution"]);u!=null&&s(e,["codeExecution"],u);const r=a(t,["computerUse"]);return r!=null&&s(e,["computerUse"],r),e}function hM(t){const e={},n=a(t,["handle"]);if(n!=null&&s(e,["handle"],n),a(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function md(){return{}}function yM(t){const e={},n=a(t,["disabled"]);n!=null&&s(e,["disabled"],n);const i=a(t,["startOfSpeechSensitivity"]);i!=null&&s(e,["startOfSpeechSensitivity"],i);const o=a(t,["endOfSpeechSensitivity"]);o!=null&&s(e,["endOfSpeechSensitivity"],o);const l=a(t,["prefixPaddingMs"]);l!=null&&s(e,["prefixPaddingMs"],l);const u=a(t,["silenceDurationMs"]);return u!=null&&s(e,["silenceDurationMs"],u),e}function vM(t){const e={},n=a(t,["automaticActivityDetection"]);n!=null&&s(e,["automaticActivityDetection"],yM(n));const i=a(t,["activityHandling"]);i!=null&&s(e,["activityHandling"],i);const o=a(t,["turnCoverage"]);return o!=null&&s(e,["turnCoverage"],o),e}function TM(t){const e={},n=a(t,["targetTokens"]);return n!=null&&s(e,["targetTokens"],n),e}function CM(t){const e={},n=a(t,["triggerTokens"]);n!=null&&s(e,["triggerTokens"],n);const i=a(t,["slidingWindow"]);return i!=null&&s(e,["slidingWindow"],TM(i)),e}function SM(t){const e={},n=a(t,["proactiveAudio"]);return n!=null&&s(e,["proactiveAudio"],n),e}function EM(t,e){const n={},i=a(t,["generationConfig"]);e!==void 0&&i!=null&&s(e,["setup","generationConfig"],i);const o=a(t,["responseModalities"]);e!==void 0&&o!=null&&s(e,["setup","generationConfig","responseModalities"],o);const l=a(t,["temperature"]);e!==void 0&&l!=null&&s(e,["setup","generationConfig","temperature"],l);const u=a(t,["topP"]);e!==void 0&&u!=null&&s(e,["setup","generationConfig","topP"],u);const r=a(t,["topK"]);e!==void 0&&r!=null&&s(e,["setup","generationConfig","topK"],r);const c=a(t,["maxOutputTokens"]);e!==void 0&&c!=null&&s(e,["setup","generationConfig","maxOutputTokens"],c);const f=a(t,["mediaResolution"]);e!==void 0&&f!=null&&s(e,["setup","generationConfig","mediaResolution"],f);const d=a(t,["seed"]);e!==void 0&&d!=null&&s(e,["setup","generationConfig","seed"],d);const m=a(t,["speechConfig"]);e!==void 0&&m!=null&&s(e,["setup","generationConfig","speechConfig"],iM(Er(m)));const p=a(t,["enableAffectiveDialog"]);e!==void 0&&p!=null&&s(e,["setup","generationConfig","enableAffectiveDialog"],p);const g=a(t,["systemInstruction"]);e!==void 0&&g!=null&&s(e,["setup","systemInstruction"],uM(we(g)));const T=a(t,["tools"]);if(e!==void 0&&T!=null){let A=wi(T);Array.isArray(A)&&(A=A.map(D=>gM(bi(D)))),s(e,["setup","tools"],A)}const S=a(t,["sessionResumption"]);e!==void 0&&S!=null&&s(e,["setup","sessionResumption"],hM(S));const _=a(t,["inputAudioTranscription"]);e!==void 0&&_!=null&&s(e,["setup","inputAudioTranscription"],md());const y=a(t,["outputAudioTranscription"]);e!==void 0&&y!=null&&s(e,["setup","outputAudioTranscription"],md());const h=a(t,["realtimeInputConfig"]);e!==void 0&&h!=null&&s(e,["setup","realtimeInputConfig"],vM(h));const v=a(t,["contextWindowCompression"]);e!==void 0&&v!=null&&s(e,["setup","contextWindowCompression"],CM(v));const C=a(t,["proactivity"]);return e!==void 0&&C!=null&&s(e,["setup","proactivity"],SM(C)),n}function AM(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["setup","model"],$(t,i));const o=a(e,["config"]);return o!=null&&s(n,["config"],EM(o,n)),n}function _M(t,e,n){const i={},o=a(e,["expireTime"]);n!==void 0&&o!=null&&s(n,["expireTime"],o);const l=a(e,["newSessionExpireTime"]);n!==void 0&&l!=null&&s(n,["newSessionExpireTime"],l);const u=a(e,["uses"]);n!==void 0&&u!=null&&s(n,["uses"],u);const r=a(e,["liveConnectConstraints"]);n!==void 0&&r!=null&&s(n,["bidiGenerateContentSetup"],AM(t,r));const c=a(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&s(n,["fieldMask"],c),i}function xM(t,e){const n={},i=a(e,["config"]);return i!=null&&s(n,["config"],_M(t,i,n)),n}function MM(t){const e={},n=a(t,["name"]);return n!=null&&s(e,["name"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RM(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const o=Object.keys(i).map(l=>`${n}.${l}`);e.push(...o)}else e.push(n)}return e.join(",")}function DM(t,e){let n=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const l=i.setup;typeof l=="object"&&l!==null?(t.bidiGenerateContentSetup=l,n=l):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const o=t.fieldMask;if(n){const l=RM(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)l?t.fieldMask=l:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const u=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let r=[];o.length>0&&(r=o.map(f=>u.includes(f)?`generationConfig.${f}`:f));const c=[];l&&c.push(l),r.length>0&&c.push(...r),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?t.fieldMask=o.join(","):delete t.fieldMask;return t}class NM extends Un{constructor(e){super(),this.apiClient=e}async create(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const r=xM(this.apiClient,e);l=U("auth_tokens",r._url),u=r._query,delete r.config,delete r._url,delete r._query;const c=DM(r,e.config);return o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(f=>MM(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bM(t){const e={},n=a(t,["name"]);n!=null&&s(e,["_url","name"],n);const i=a(t,["config"]);return i!=null&&s(e,["config"],i),e}function wM(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&s(e,["_query","pageSize"],i);const o=a(t,["pageToken"]);e!==void 0&&o!=null&&s(e,["_query","pageToken"],o);const l=a(t,["filter"]);return e!==void 0&&l!=null&&s(e,["_query","filter"],l),n}function UM(t){const e={},n=a(t,["config"]);return n!=null&&s(e,["config"],wM(n,e)),e}function IM(t){const e={},n=a(t,["textInput"]);n!=null&&s(e,["textInput"],n);const i=a(t,["output"]);return i!=null&&s(e,["output"],i),e}function qM(t){const e={};if(a(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=a(t,["examples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>IM(o))),s(e,["examples","examples"],i)}return e}function LM(t,e){const n={};if(a(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=a(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&s(e,["displayName"],i),a(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=a(t,["epochCount"]);e!==void 0&&o!=null&&s(e,["tuningTask","hyperparameters","epochCount"],o);const l=a(t,["learningRateMultiplier"]);if(l!=null&&s(n,["tuningTask","hyperparameters","learningRateMultiplier"],l),a(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(a(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=a(t,["batchSize"]);e!==void 0&&u!=null&&s(e,["tuningTask","hyperparameters","batchSize"],u);const r=a(t,["learningRate"]);return e!==void 0&&r!=null&&s(e,["tuningTask","hyperparameters","learningRate"],r),n}function VM(t){const e={},n=a(t,["baseModel"]);n!=null&&s(e,["baseModel"],n);const i=a(t,["trainingDataset"]);i!=null&&s(e,["tuningTask","trainingData"],qM(i));const o=a(t,["config"]);return o!=null&&s(e,["config"],LM(o,e)),e}function GM(t){const e={},n=a(t,["name"]);n!=null&&s(e,["_url","name"],n);const i=a(t,["config"]);return i!=null&&s(e,["config"],i),e}function PM(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&s(e,["_query","pageSize"],i);const o=a(t,["pageToken"]);e!==void 0&&o!=null&&s(e,["_query","pageToken"],o);const l=a(t,["filter"]);return e!==void 0&&l!=null&&s(e,["_query","filter"],l),n}function BM(t){const e={},n=a(t,["config"]);return n!=null&&s(e,["config"],PM(n,e)),e}function HM(t,e){const n={},i=a(t,["gcsUri"]);e!==void 0&&i!=null&&s(e,["supervisedTuningSpec","trainingDatasetUri"],i);const o=a(t,["vertexDatasetResource"]);if(e!==void 0&&o!=null&&s(e,["supervisedTuningSpec","trainingDatasetUri"],o),a(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function zM(t,e){const n={},i=a(t,["gcsUri"]);i!=null&&s(n,["validationDatasetUri"],i);const o=a(t,["vertexDatasetResource"]);return e!==void 0&&o!=null&&s(e,["supervisedTuningSpec","trainingDatasetUri"],o),n}function kM(t,e){const n={},i=a(t,["validationDataset"]);e!==void 0&&i!=null&&s(e,["supervisedTuningSpec"],zM(i,n));const o=a(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&s(e,["tunedModelDisplayName"],o);const l=a(t,["description"]);e!==void 0&&l!=null&&s(e,["description"],l);const u=a(t,["epochCount"]);e!==void 0&&u!=null&&s(e,["supervisedTuningSpec","hyperParameters","epochCount"],u);const r=a(t,["learningRateMultiplier"]);e!==void 0&&r!=null&&s(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],r);const c=a(t,["exportLastCheckpointOnly"]);e!==void 0&&c!=null&&s(e,["supervisedTuningSpec","exportLastCheckpointOnly"],c);const f=a(t,["adapterSize"]);if(e!==void 0&&f!=null&&s(e,["supervisedTuningSpec","hyperParameters","adapterSize"],f),a(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(a(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return n}function FM(t){const e={},n=a(t,["baseModel"]);n!=null&&s(e,["baseModel"],n);const i=a(t,["trainingDataset"]);i!=null&&s(e,["supervisedTuningSpec","trainingDatasetUri"],HM(i,e));const o=a(t,["config"]);return o!=null&&s(e,["config"],kM(o,e)),e}function OM(t){const e={},n=a(t,["name"]);n!=null&&s(e,["model"],n);const i=a(t,["name"]);return i!=null&&s(e,["endpoint"],i),e}function Kg(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["state"]);i!=null&&s(e,["state"],xg(i));const o=a(t,["createTime"]);o!=null&&s(e,["createTime"],o);const l=a(t,["tuningTask","startTime"]);l!=null&&s(e,["startTime"],l);const u=a(t,["tuningTask","completeTime"]);u!=null&&s(e,["endTime"],u);const r=a(t,["updateTime"]);r!=null&&s(e,["updateTime"],r);const c=a(t,["description"]);c!=null&&s(e,["description"],c);const f=a(t,["baseModel"]);f!=null&&s(e,["baseModel"],f);const d=a(t,["_self"]);d!=null&&s(e,["tunedModel"],OM(d));const m=a(t,["distillationSpec"]);m!=null&&s(e,["distillationSpec"],m);const p=a(t,["experiment"]);p!=null&&s(e,["experiment"],p);const g=a(t,["labels"]);g!=null&&s(e,["labels"],g);const T=a(t,["pipelineJob"]);T!=null&&s(e,["pipelineJob"],T);const S=a(t,["satisfiesPzi"]);S!=null&&s(e,["satisfiesPzi"],S);const _=a(t,["satisfiesPzs"]);_!=null&&s(e,["satisfiesPzs"],_);const y=a(t,["serviceAccount"]);y!=null&&s(e,["serviceAccount"],y);const h=a(t,["tunedModelDisplayName"]);return h!=null&&s(e,["tunedModelDisplayName"],h),e}function YM(t){const e={},n=a(t,["nextPageToken"]);n!=null&&s(e,["nextPageToken"],n);const i=a(t,["tunedModels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>Kg(l))),s(e,["tuningJobs"],o)}return e}function JM(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["metadata"]);i!=null&&s(e,["metadata"],i);const o=a(t,["done"]);o!=null&&s(e,["done"],o);const l=a(t,["error"]);return l!=null&&s(e,["error"],l),e}function QM(t){const e={},n=a(t,["checkpointId"]);n!=null&&s(e,["checkpointId"],n);const i=a(t,["epoch"]);i!=null&&s(e,["epoch"],i);const o=a(t,["step"]);o!=null&&s(e,["step"],o);const l=a(t,["endpoint"]);return l!=null&&s(e,["endpoint"],l),e}function KM(t){const e={},n=a(t,["model"]);n!=null&&s(e,["model"],n);const i=a(t,["endpoint"]);i!=null&&s(e,["endpoint"],i);const o=a(t,["checkpoints"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>QM(u))),s(e,["checkpoints"],l)}return e}function gu(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["state"]);i!=null&&s(e,["state"],xg(i));const o=a(t,["createTime"]);o!=null&&s(e,["createTime"],o);const l=a(t,["startTime"]);l!=null&&s(e,["startTime"],l);const u=a(t,["endTime"]);u!=null&&s(e,["endTime"],u);const r=a(t,["updateTime"]);r!=null&&s(e,["updateTime"],r);const c=a(t,["error"]);c!=null&&s(e,["error"],c);const f=a(t,["description"]);f!=null&&s(e,["description"],f);const d=a(t,["baseModel"]);d!=null&&s(e,["baseModel"],d);const m=a(t,["tunedModel"]);m!=null&&s(e,["tunedModel"],KM(m));const p=a(t,["supervisedTuningSpec"]);p!=null&&s(e,["supervisedTuningSpec"],p);const g=a(t,["tuningDataStats"]);g!=null&&s(e,["tuningDataStats"],g);const T=a(t,["encryptionSpec"]);T!=null&&s(e,["encryptionSpec"],T);const S=a(t,["partnerModelTuningSpec"]);S!=null&&s(e,["partnerModelTuningSpec"],S);const _=a(t,["distillationSpec"]);_!=null&&s(e,["distillationSpec"],_);const y=a(t,["experiment"]);y!=null&&s(e,["experiment"],y);const h=a(t,["labels"]);h!=null&&s(e,["labels"],h);const v=a(t,["pipelineJob"]);v!=null&&s(e,["pipelineJob"],v);const C=a(t,["satisfiesPzi"]);C!=null&&s(e,["satisfiesPzi"],C);const A=a(t,["satisfiesPzs"]);A!=null&&s(e,["satisfiesPzs"],A);const D=a(t,["serviceAccount"]);D!=null&&s(e,["serviceAccount"],D);const M=a(t,["tunedModelDisplayName"]);return M!=null&&s(e,["tunedModelDisplayName"],M),e}function $M(t){const e={},n=a(t,["nextPageToken"]);n!=null&&s(e,["nextPageToken"],n);const i=a(t,["tuningJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>gu(l))),s(e,["tuningJobs"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XM extends Un{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new zo(Rn.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const i=await this.tuneMldevInternal(n);let o="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?o=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(o=i.name.split("/operations/")[0]),{name:o,state:lu.JOB_STATE_QUEUED}}}}async getInternal(e){var n,i,o,l;let u,r="",c={};if(this.apiClient.isVertexAI()){const f=GM(e);return r=U("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),u.then(d=>gu(d))}else{const f=bM(e);return r=U("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),u.then(d=>Kg(d))}}async listInternal(e){var n,i,o,l;let u,r="",c={};if(this.apiClient.isVertexAI()){const f=BM(e);return r=U("tuningJobs",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),u.then(d=>{const m=$M(d),p=new kf;return Object.assign(p,m),p})}else{const f=UM(e);return r=U("tunedModels",f._url),c=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),u.then(d=>{const m=YM(d),p=new kf;return Object.assign(p,m),p})}}async tuneInternal(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI()){const r=FM(e);return l=U("tuningJobs",r._url),u=r._query,delete r.config,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>gu(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=VM(e);return l=U("tunedModels",r._url),u=r._query,delete r.config,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>JM(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZM{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const WM=1024*1024*8,jM=3,eR=1e3,tR=2,as="x-goog-upload-status";async function nR(t,e,n){var i,o,l;let u=0,r=0,c=new au(new Response),f="upload";for(u=t.size;r<u;){const m=Math.min(WM,u-r),p=t.slice(r,r+m);r+m>=u&&(f+=", finalize");let g=0,T=eR;for(;g<jM&&(c=await n.request({path:"",body:p,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(r),"Content-Length":String(m)}}}),!(!((i=c==null?void 0:c.headers)===null||i===void 0)&&i[as]));)g++,await oR(T),T=T*tR;if(r+=m,((o=c==null?void 0:c.headers)===null||o===void 0?void 0:o[as])!=="active")break;if(u<=r)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const d=await(c==null?void 0:c.json());if(((l=c==null?void 0:c.headers)===null||l===void 0?void 0:l[as])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function iR(t){return{size:t.size,type:t.type}}function oR(t){return new Promise(e=>setTimeout(e,t))}class lR{async upload(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await nR(e,n,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await iR(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aR{create(e,n,i){return new sR(e,n,i)}}class sR{constructor(e,n,i){this.url=e,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pd="x-goog-api-key";class uR{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(pd)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(pd,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rR="gl-node/";class cR{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const i=sT(e,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion;const o=new uR(this.apiKey);this.apiClient=new Ax({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:rR+"web",uploader:new lR,downloader:new ZM}),this.models=new kx(this.apiClient),this.live=new Gx(this.apiClient,o,new aR),this.batches=new b0(this.apiClient),this.chats=new qC(this.models,this.apiClient),this.caches=new wC(this.apiClient),this.files=new QC(this.apiClient),this.operations=new jx(this.apiClient),this.authTokens=new NM(this.apiClient),this.tunings=new XM(this.apiClient)}}const fR="AIzaSyBjird_xybbPbNmyAS4ncbQ2mlKKjNHJVk",$g=new cR({apiKey:fR}),jl=(t,e)=>({inlineData:{data:t.split(",")[1],mimeType:e}});async function Xg(t,e=5,n=1e3){try{return await t()}catch(i){if(e>0&&(i.message.includes("429")||i.message.includes("RESOURCE_EXHAUSTED")))return console.warn(`Gemini API Quota Exceeded or Rate Limited. Retrying in ${n/1e3} seconds... Retries left: ${e}`),await new Promise(o=>setTimeout(o,n)),Xg(t,e-1,n*2);throw i}}const ea=async(t,e)=>{const n=async()=>{const i=await $g.models.generateContent({model:"gemini-2.5-flash",contents:{parts:t},...e&&{config:{responseMimeType:"application/json",responseSchema:e}}}),o=i.text,l=i.usageMetadata;if(!o)throw new Error("Empty response from model.");return l&&l.totalTokenCount&&console.log(`Gemini API call: ${l.totalTokenCount} tokens used.`),e?JSON.parse(o):o};try{return await Xg(n)}catch(i){throw console.error("Gemini API Error:",i),new Error(`Error communicating with the AI model: ${i.message}`)}},dR=async(t,e,n,i,o,l,u)=>{const r=[{text:t}];e.forEach(_=>{r.push(jl(_,"image/png"))});const c={type:k.OBJECT,properties:{question:{type:k.STRING},options:{type:k.ARRAY,items:{type:k.STRING}},correctAnswerIndex:{type:k.NUMBER},explanation:{type:k.STRING},imageIndex:{type:k.NUMBER,nullable:!0,description:"Index of the image used for this question from the provided images array (0-based). Null if no image is used."}},required:["question","options","correctAnswerIndex","explanation"]},f={type:k.OBJECT,properties:{caseDescription:{type:k.STRING},questions:{type:k.ARRAY,items:c,minItems:l,maxItems:l}},required:["caseDescription","questions"]},d={type:k.OBJECT,properties:{mcqs:{type:k.ARRAY,items:c,description:"Standalone multiple-choice questions."},caseScenarios:{type:k.ARRAY,items:f,description:"Clinical case scenarios with their own questions."}},required:["mcqs","caseScenarios"]},m=u==="mix"?"Create a mix of easy, medium, and hard questions.":`Ensure ALL questions generated are of **${u}** difficulty.`,p=e.length>0?`You have been provided with ${e.length} images by the user. You MUST create some questions based on these images. When creating an image-based question, set the 'imageIndex' to the corresponding index of the image you used (0-based). For text-only questions, set 'imageIndex' to null.`:"No images were provided by the user; do not attempt to create image-based questions.",g=`
        You are an expert medical quiz creator. Based on the provided medical text and user-uploaded images, generate a set of questions.

        **Source Content:**
        The user has provided a medical text and ${e.length} images. The content is provided in a multi-part format. The text is first, followed by the images.

        **Your Task:**
        1. Generate exactly ${i} standalone MCQs.
        2. Generate exactly ${o} clinical case scenarios, each with exactly ${l} questions.
        3. ${p}
        4. ${m}
        5. **Custom User Instructions:** ${n||"None provided. Adhere to standard question generation."}
        6. **Crucial:** Ensure all information (stems, options, explanations) is derived strictly from the provided text and images. Avoid phrases like "According to the text".
        7. Return the result in the specified JSON format.
    `;r.unshift({text:g});const T=await ea(r,d);let S=[];if(T.mcqs&&S.push(...T.mcqs),T.caseScenarios&&T.caseScenarios.forEach(_=>{if(_.questions){const y=_.questions.map(h=>({...h,caseDescription:_.caseDescription}));S.push(...y)}}),S.length===0)throw new Error("The AI model failed to generate any questions. Try adjusting the inputs or the source document.");for(let _=S.length-1;_>0;_--){const y=Math.floor(Math.random()*(_+1));[S[_],S[y]]=[S[y],S[_]]}return{questions:S,images:e}},mR=async(t,e,n)=>{const i={type:k.OBJECT,properties:{is_valid:{type:k.BOOLEAN},reason:{type:k.STRING},flaw_type:{type:k.STRING,enum:["question","options","explanation","none","multiple_correct","no_correct","not_from_text"]}},required:["is_valid","reason","flaw_type"]},o={type:k.OBJECT,properties:{question:{type:k.STRING},options:{type:k.ARRAY,items:{type:k.STRING}},correctAnswerIndex:{type:k.NUMBER},explanation:{type:k.STRING},imageIndex:{type:k.NUMBER,nullable:!0}},required:["question","options","correctAnswerIndex","explanation"]},l=`Act as a strict medical question auditor. Critically audit the following medical question based ONLY on the provided source text and user-uploaded images.
    Criteria:
    1.  **Source Adherence:** Is ALL information (stem, options, explanation) derived *strictly* and *accurately* from the source content?
    2.  **Clarity & Validity:** Is there *only one* unambiguously correct answer? Are distractors plausible but incorrect?
    3.  **Image Usage:** If 'imageIndex' is not null, does the question correctly relate to the specified image?

    If valid, return {"is_valid": true, "reason": "None", "flaw_type": "none"}.
    If flawed, return {"is_valid": false, "reason": "[Brief description of flaw]", "flaw_type": "[Choose from: question", "options", "explanation", "not_from_text", etc.]"}.

    **Question to Audit:** ${JSON.stringify(t)}
    Return your verdict as a JSON object.`,u=[{text:e},...n.map(d=>jl(d,"image/png"))];u.unshift({text:l});const r=await ea(u,i);if(r&&r.is_valid)return{...t,is_flawed:!1};const c=`Based ONLY on the source text/images, correct the following medical question. The auditor identified a flaw in the **${r.flaw_type}**: "${r.reason}".
    Ensure the corrected question is accurate.
    **Source Content is provided in multi-part format.**
    **Flawed Question:** ${JSON.stringify(t)}
    Return the complete, corrected question object in JSON format.`,f=[{text:e},...n.map(d=>jl(d,"image/png"))];f.unshift({text:c});try{const d=await ea(f,{type:k.OBJECT,properties:{corrected_question:o}});if(d&&d.corrected_question)return{...d.corrected_question,caseDescription:t.caseDescription,is_flawed:!1}}catch(d){console.error("Correction attempt failed:",d)}return{...t,is_flawed:!0}},pR=async(t,e,n)=>{if(!t.is_flawed)return t;const i={type:k.OBJECT,properties:{new_explanation:{type:k.STRING}},required:["new_explanation"]},o=t.options[t.correctAnswerIndex],l=`Based ONLY on the source text/images, rewrite the explanation for this question to clearly and accurately justify why the specified correct answer is correct. This question was flagged as flawed, so pay extra attention to accuracy.
     **Source Content is provided in multi-part format.**
     **Question:** ${t.question}
     **Correct Answer Option Content:** ${o}
     **Current Explanation (for context):** ${t.explanation||"None provided"}
     Return the rewritten explanation in JSON with key 'new_explanation'.`,u=[{text:e},...n.map(r=>jl(r,"image/png"))];u.unshift({text:l});try{const r=await ea(u,i);if(r&&r.new_explanation)return{...t,explanation:r.new_explanation}}catch(r){console.error("Explanation refinement failed:",r)}return t},gR=async(t,e)=>{const n=`Based **only** on the following medical document, answer the user's question.
If the information is not in the document, state that you cannot find the answer in the provided text.
Answer in Arabic.

--- DOCUMENT START ---
${t}
--- DOCUMENT END ---

QUESTION: "${e}"
`;try{return await $g.models.generateContentStream({model:"gemini-2.5-flash",contents:n})}catch(i){throw console.error("Gemini API Stream Error:",i),new Error(`Error communicating with the AI model: ${i.message}`)}},hu=(t,e)=>e.some(n=>t instanceof n);let gd,hd;function hR(){return gd||(gd=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yR(){return hd||(hd=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yu=new WeakMap,ss=new WeakMap,Ea=new WeakMap;function vR(t){const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(Sn(t.result)),o()},u=()=>{i(t.error),o()};t.addEventListener("success",l),t.addEventListener("error",u)});return Ea.set(e,t),e}function TR(t){if(yu.has(t))return;const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),o()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});yu.set(t,e)}let vu={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return yu.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Sn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Zg(t){vu=t(vu)}function CR(t){return yR().includes(t)?function(...e){return t.apply(Tu(this),e),Sn(this.request)}:function(...e){return Sn(t.apply(Tu(this),e))}}function SR(t){return typeof t=="function"?CR(t):(t instanceof IDBTransaction&&TR(t),hu(t,hR())?new Proxy(t,vu):t)}function Sn(t){if(t instanceof IDBRequest)return vR(t);if(ss.has(t))return ss.get(t);const e=SR(t);return e!==t&&(ss.set(t,e),Ea.set(e,t)),e}const Tu=t=>Ea.get(t);function ER(t,e,{blocked:n,upgrade:i,blocking:o,terminated:l}={}){const u=indexedDB.open(t,e),r=Sn(u);return i&&u.addEventListener("upgradeneeded",c=>{i(Sn(u.result),c.oldVersion,c.newVersion,Sn(u.transaction),c)}),n&&u.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),r.then(c=>{l&&c.addEventListener("close",()=>l()),o&&c.addEventListener("versionchange",f=>o(f.oldVersion,f.newVersion,f))}).catch(()=>{}),r}const AR=["get","getKey","getAll","getAllKeys","count"],_R=["put","add","delete","clear"],us=new Map;function yd(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(us.get(e))return us.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=_R.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||AR.includes(n)))return;const l=async function(u,...r){const c=this.transaction(u,o?"readwrite":"readonly");let f=c.store;return i&&(f=f.index(r.shift())),(await Promise.all([f[n](...r),o&&c.done]))[0]};return us.set(e,l),l}Zg(t=>({...t,get:(e,n,i)=>yd(e,n)||t.get(e,n,i),has:(e,n)=>!!yd(e,n)||t.has(e,n)}));const xR=["continue","continuePrimaryKey","advance"],vd={},Cu=new WeakMap,Wg=new WeakMap,MR={get(t,e){if(!xR.includes(e))return t[e];let n=vd[e];return n||(n=vd[e]=function(...i){Cu.set(this,Wg.get(this)[e](...i))}),n}};async function*RR(...t){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...t)),!e)return;e=e;const n=new Proxy(e,MR);for(Wg.set(n,e),Ea.set(n,Tu(e));e;)yield n,e=await(Cu.get(n)||e.continue()),Cu.delete(n)}function Td(t,e){return e===Symbol.asyncIterator&&hu(t,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&hu(t,[IDBIndex,IDBObjectStore])}Zg(t=>({...t,get(e,n,i){return Td(e,n)?RR:t.get(e,n,i)},has(e,n){return Td(e,n)||t.has(e,n)}}));const DR="AIQuizDB",En="processed_pdfs",NR=2;let rs;const Aa=()=>(rs||(rs=ER(DR,NR,{upgrade(t,e){e<2&&(t.objectStoreNames.contains(En)&&t.deleteObjectStore(En),t.createObjectStore(En,{keyPath:"id",autoIncrement:!0}).createIndex("createdAt","createdAt"))}})),rs),bR=async t=>{const e=await Aa(),{text:n,filename:i}=t,l={...{text:n,filename:i},createdAt:new Date};return e.add(En,l)},wR=async()=>{const e=await(await Aa()).getAll(En);return e.sort((n,i)=>i.createdAt.getTime()-n.createdAt.getTime()),e.map(({id:n,filename:i,createdAt:o})=>({id:n,filename:i,createdAt:o}))},jg=async t=>(await Aa()).get(En,t),UR=async t=>(await Aa()).delete(En,t),IR=(t,e=1)=>{const n=JSON.stringify(t,null,2).replace(/\\/g,"\\\\").replace(/`/g,"\\`").replace(/\$/g,"\\$"),i="quizApp"+Date.now();return`<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WATFA-PEDIA Medical Quiz (Part ${e})</title>
    <script src="https://cdn.tailwindcss.com"><\/script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --ms-blue: #0078D4; --ms-light-blue: #DEECF9; --ms-dark-blue: #005A9E;
            --ms-correct-green: #107C10; --ms-incorrect-red: #D83B01;
            --ms-correct-bg: #DFF6DD; --ms-incorrect-bg: #FDE7E9;
            --ms-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        body { font-family: 'Segoe UI', 'Tajawal', sans-serif; color: #323130; background-color: #f0f2f5; }
        .app-bg {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(45deg, #1d2b64, #f8cdda, #1d2b64, #f8cdda);
            background-size: 300% 300%; animation: animated-gradient 20s ease-in-out infinite; z-index: -1;
        }
        @keyframes animated-gradient { 0% { background-position: 0% 50% } 50% { background-position: 100% 50% } 100% { background-position: 0% 50% } }
        
        .container-main { background-color: #ffffff; text-align: right; }
        .page { display: none; }
        .page.active { display: block; animation: page-fade-in .5s ease-out forwards; }
        @keyframes page-fade-in { from { opacity: 0; transform: translateY(20px) } to { opacity: 1; transform: translateY(0) } }
        
        .question-card, .case-card { background-color: #ffffff; border: 1px solid #e5e7eb; }
        .option-label { cursor: pointer; padding: .75rem; border: 2px solid #e5e7eb; border-radius: .375rem; transition: all .2s; }
        .option-label:hover { border-color: var(--ms-blue); background-color: var(--ms-light-blue); }
        
        .review-page .option-label.correct-answer { background-color: var(--ms-correct-bg) !important; border-color: var(--ms-correct-green) !important; }
        .review-page .option-label.incorrect-answer { background-color: var(--ms-incorrect-bg) !important; border-color: var(--ms-incorrect-red) !important; }
        .basmaja-page .basmaja-correct-answer { background-color: var(--ms-correct-bg) !important; border-color: var(--ms-correct-green) !important; }

        .btn-primary { background-color: var(--ms-blue); color: white; transition: all .3s ease; box-shadow: 0 2px 4px rgba(0,0,0,.2); }
        .btn-primary:hover { background-color: var(--ms-dark-blue); transform: translateY(-2px); box-shadow: 0 4px 8px rgba(0,0,0,.2); }
        .btn-secondary { background-color: #6c757d; color: white; }
        
        .flawed-question-warning { background-color: #fffbeb; border-right: 4px solid #f59e0b; color: #b45309; padding: .75rem; margin-bottom: 1rem; border-radius: .375rem; }
    </style>
</head>
<body class="text-slate-800">
    <div class="app-bg"></div>
    <div id="app-container" class="max-w-4xl mx-auto p-4 md:p-8">
        <!-- All pages will be rendered here by JS -->
    </div>

<script type="module">
    // --- Start of Quiz Application ---
    function ${i}() {
        const quizData = JSON.parse(\`${n}\`);
        const successMessages = ${JSON.stringify(tT)};
        const failureMessages = ${JSON.stringify(nT)};

        const appContainer = document.getElementById('app-container');
        let userAnswers = [];
        let currentPage = 'landing';

        function render() {
            appContainer.innerHTML = '';
            let pageElement;
            switch(currentPage) {
                case 'quiz': pageElement = createQuizPage(); break;
                case 'results': pageElement = createResultsPage(); break;
                case 'review': pageElement = createReviewPage(); break;
                case 'basmaja': pageElement = createBasmajaPage(); break;
                case 'landing':
                default: pageElement = createLandingPage(); break;
            }
            if (pageElement) {
                appContainer.appendChild(pageElement);
            }
        }

        function createLandingPage() {
            const page = document.createElement('div');
            page.className = 'page active text-center container-main p-8 rounded-lg shadow-lg';
            page.innerHTML = \`
                <h1 class="text-4xl font-bold mb-2">WATFA-PEDIA Medical Quiz</h1>
                <h2 class="text-2xl text-gray-600 mb-4">Part ${e}</h2>
                <p class="mb-8">اختبر معلوماتك في المفاهيم الطبية المقدمة.</p>
                <div class="flex flex-col sm:flex-row gap-4 justify-center mb-8">
                    <button id="start-quiz-btn" class="btn-primary font-bold py-3 px-8 rounded-lg text-lg">ابدأ الاختبار</button>
                    <button id="basmaja-btn" class="btn-secondary font-bold py-3 px-8 rounded-lg text-lg" style="font-family:'Tajawal',sans-serif">💡 بصمجة</button>
                </div>
                <a href="https://t.me/watfapedia_major" target="_blank" class="inline-flex items-center justify-center py-2 px-4 mt-4 rounded-full bg-slate-100 text-cyan-600 no-underline transition-transform hover:scale-105 shadow-md"><svg class="w-5 h-5 ml-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path></svg><span>اشترك في قناة WATFA-PEDIA</span></a>
            \`;
            page.querySelector('#start-quiz-btn').addEventListener('click', () => {
                userAnswers = quizData.questions.map((q, index) => ({ questionIndex: index, selectedOption: null, isCorrect: null, isFlawed: q.is_flawed }));
                currentPage = 'quiz';
                render();
            });
            page.querySelector('#basmaja-btn').addEventListener('click', () => {
                currentPage = 'basmaja';
                render();
            });
            return page;
        }

        function createQuizPage() {
            const page = document.createElement('div');
            page.className = 'page active';
            let currentQIndex = 0;

            const renderQuestion = () => {
                page.innerHTML = ''; // Clear previous question
                const validQuestions = quizData.questions.filter(q => !q.is_flawed);
                if (currentQIndex >= validQuestions.length) {
                    currentPage = 'results';
                    render();
                    return;
                }
                const question = validQuestions[currentQIndex];
                if (!question) return;

                const originalIndex = quizData.questions.indexOf(question);
                const answerState = userAnswers.find(a => a.questionIndex === originalIndex);
                const showFeedback = answerState.selectedOption !== null;
                const questionImage = question.imageIndex != null ? quizData.images[question.imageIndex] : null;

                let optionsHtml = '';
                question.options.forEach((option, optIndex) => {
                    const isSelected = answerState.selectedOption === optIndex;
                    const isCorrectAnswer = question.correctAnswerIndex === optIndex;
                    let optionClass = "option-label block";

                    if (showFeedback) {
                        optionClass += " cursor-not-allowed";
                        if (isCorrectAnswer) optionClass += " bg-green-100 border-green-500 text-green-800 font-bold";
                        else if (isSelected) optionClass += " bg-red-100 border-red-500 text-red-800";
                        else optionClass += " border-gray-200 bg-gray-50 opacity-60";
                    } else {
                        optionClass += " border-gray-300 hover:bg-blue-50 hover:border-blue-400";
                        if (isSelected) optionClass += " bg-blue-100 border-blue-500";
                    }
                    optionsHtml += '<div data-opt-index="' + optIndex + '" class="' + optionClass + '"><p class="p-3">' + String.fromCharCode(65 + optIndex) + '. ' + option + '</p></div>';
                });
                
                let caseHtml = question.caseDescription ? '<div class="case-card p-4 rounded-lg mb-4 bg-blue-50 border-r-4 border-blue-300"><h3 class="font-bold text-lg text-blue-800">الحالة السريرية</h3><p class="mt-2 text-gray-700">' + question.caseDescription + '</p></div>' : '';
                let imageHtml = questionImage ? '<div class="my-4 flex justify-center"><img src="' + questionImage + '" alt="Question visual" class="max-w-full md:max-w-md rounded-lg shadow-md" /></div>' : '';

                let feedbackHtml = '';
                if(showFeedback){
                    const isCorrect = answerState.isCorrect;
                    feedbackHtml = '<div class="mt-4 p-4 rounded-lg border-r-4 ' + (isCorrect ? 'bg-green-50 border-green-500' : 'bg-red-50 border-red-500') + '">' +
                        '<h4 class="font-bold ' + (isCorrect ? 'text-green-800' : 'text-red-800') + '">' + 
                        (isCorrect ? "إجابة صحيحة! أحسنت." : 'إجابة خاطئة. الإجابة الصحيحة هي: ' + String.fromCharCode(65 + question.correctAnswerIndex)) + '</h4>' +
                        '<p class="text-gray-700 mt-2">' + question.explanation + '</p></div>';
                }
                
                let nextButtonHtml = (currentQIndex === validQuestions.length - 1 && showFeedback) ?
                    '<button id="finish-btn" class="btn-primary font-bold py-2 px-8 rounded-lg text-lg animate-pulse">إنهاء الاختبار</button>' :
                    '<button id="next-btn" ' + (!showFeedback || currentQIndex === validQuestions.length - 1 ? 'disabled' : '') + ' class="btn-primary font-bold py-2 px-6 rounded-lg flex items-center disabled:opacity-50 disabled:cursor-not-allowed">التالي</button>';

                const questionContainer = document.createElement('div');
                questionContainer.className = "container-main p-6 rounded-lg shadow-lg";
                questionContainer.innerHTML = \`
                    <div class="w-full bg-gray-200 rounded-full h-2.5 mb-6"><div class="bg-blue-600 h-2.5 rounded-full transition-all duration-300" style="width: \${((currentQIndex + 1) / validQuestions.length) * 100}%"></div></div>
                    <div class="question-card p-6 rounded-lg mb-6">
                        \${caseHtml}
                        <p class="font-bold text-lg mb-4">السؤال \${currentQIndex + 1} من \${validQuestions.length}: \${question.question}</p>
                        \${imageHtml}
                        <div class="space-y-3 options-container">\${optionsHtml}</div>
                        \${feedbackHtml}
                    </div>
                    <div class="flex justify-between items-center mt-6">
                        <button id="prev-btn" \${currentQIndex === 0 ? 'disabled' : ''} class="btn-secondary font-bold py-2 px-6 rounded-lg flex items-center disabled:opacity-50 disabled:cursor-not-allowed">السابق</button>
                        \${nextButtonHtml}
                    </div>
                \`;
                page.appendChild(questionContainer);

                page.querySelector('.options-container').addEventListener('click', e => {
                     const target = e.target.closest('.option-label');
                     if (target && answerState.selectedOption === null) {
                        const optIndex = parseInt(target.dataset.optIndex, 10);
                        answerState.selectedOption = optIndex;
                        answerState.isCorrect = optIndex === question.correctAnswerIndex;
                        renderQuestion();
                     }
                });

                page.querySelector('#prev-btn')?.addEventListener('click', () => { if (currentQIndex > 0) { currentQIndex--; renderQuestion(); }});
                page.querySelector('#next-btn')?.addEventListener('click', () => { if (currentQIndex < validQuestions.length - 1) { currentQIndex++; renderQuestion(); }});
                page.querySelector('#finish-btn')?.addEventListener('click', () => { currentPage = 'results'; render(); });
            };
            
            renderQuestion();
            return page;
        }
        
        function createResultsPage() {
            const page = document.createElement('div');
            page.className = 'page active text-center container-main p-8 rounded-lg shadow-lg';
            
            const validQuestionsCount = userAnswers.filter(a => !a.isFlawed).length;
            const correctAnswersCount = userAnswers.filter(ans => ans.isCorrect).length;
            const percentage = validQuestionsCount > 0 ? (correctAnswersCount / validQuestionsCount) * 100 : 0;
            const message = percentage >= 60 ? successMessages[Math.floor(Math.random() * successMessages.length)] : failureMessages[Math.floor(Math.random() * failureMessages.length)];
            
            page.innerHTML = \`
                <h2 class="text-3xl font-bold mb-4">نتائج الاختبار</h2>
                <p class="text-xl mb-2">نتيجتك: <span class="font-bold">\${correctAnswersCount} / \${validQuestionsCount} (\${percentage.toFixed(1)}%)</span></p>
                <p class="text-lg font-semibold my-6 \${percentage >= 60 ? 'text-green-700' : 'text-red-700'}">\${message}</p>
                <div class="flex flex-col sm:flex-row justify-center gap-4 mt-6">
                    <button id="review-btn" class="btn-primary font-bold py-2 px-6 rounded-lg">مراجعة الإجابات</button>
                    <button id="retake-btn" class="btn-secondary font-bold py-2 px-6 rounded-lg">إعادة الاختبار</button>
                    <button id="home-btn" class="btn-secondary font-bold py-2 px-6 rounded-lg">العودة للرئيسية</button>
                </div>
            \`;
            page.querySelector('#review-btn').addEventListener('click', () => { currentPage = 'review'; render(); });
            page.querySelector('#retake-btn').addEventListener('click', () => {
                userAnswers = quizData.questions.map((q, index) => ({ questionIndex: index, selectedOption: null, isCorrect: null, isFlawed: q.is_flawed }));
                currentPage = 'quiz';
                render();
            });
            page.querySelector('#home-btn').addEventListener('click', () => { currentPage = 'landing'; render(); });
            return page;
        }

        function createReviewPage() {
            const page = document.createElement('div');
            page.className = 'page active review-page container-main p-6 rounded-lg shadow-lg';
            
            let questionsHtml = '';
            quizData.questions.forEach((q, index) => {
                if (q.is_flawed) return;
                const userAnswer = userAnswers.find(a => a.questionIndex === index);
                const isCorrect = userAnswer.isCorrect;
                const questionImage = q.imageIndex != null ? quizData.images[q.imageIndex] : null;

                const optionsHtml = q.options.map((opt, optIndex) => {
                    let classes = "option-label block";
                    if (optIndex === q.correctAnswerIndex) classes += " correct-answer";
                    else if (userAnswer.selectedOption === optIndex) classes += " incorrect-answer";
                    return '<div class="' + classes + ' p-3 rounded-md border-2">' + String.fromCharCode(65 + optIndex) + '. ' + opt + '</div>';
                }).join("");

                questionsHtml += \`
                    <div class="question-card p-6 rounded-lg mb-6">
                        \${q.caseDescription ? \`<div class="case-card p-4 rounded-lg mb-4 bg-blue-50 border-r-4 border-blue-300"><h3 class="font-bold text-lg text-blue-800">الحالة السريرية</h3><p class="mt-2 text-gray-700">\${q.caseDescription}</p></div>\` : ''}
                        <p class="font-bold text-lg mb-2">السؤال \${index + 1}: \${q.question}</p>
                        <div class="font-semibold mb-4 \${isCorrect ? "text-green-600" : (userAnswer.selectedOption !== null ? "text-red-600" : "text-gray-600")}">
                            \${isCorrect ? "صحيح" : (userAnswer.selectedOption !== null ? "غير صحيح" : "لم تتم الإجابة")}
                        </div>
                        \${questionImage ? \`<div class="my-4 flex justify-center"><img src="\${questionImage}" alt="Question visual" class="max-w-full md:max-w-md rounded-lg shadow-md" /></div>\` : ''}
                        <div class="space-y-3">\${optionsHtml}</div>
                        \${q.explanation ? \`<div class="mt-4 p-4 bg-green-50 border-r-4 border-green-500 rounded-lg"><h4 class="font-bold text-green-800">التوضيح</h4><p class="text-gray-700 mt-2">\${q.explanation}</p></div>\` : ""}
                    </div>
                \`;
            });

            page.innerHTML = \`
                <h2 class="text-3xl font-bold mb-6 text-center" style="font-family:'Tajawal',sans-serif">مراجعة الإجابات</h2>
                <div class="space-y-6">\${questionsHtml}</div>
                <button id="back-to-results-btn" class="btn-primary w-full font-bold py-3 px-4 rounded-lg mt-6">العودة للنتائج</button>
            \`;
            page.querySelector('#back-to-results-btn').addEventListener('click', () => { currentPage = 'results'; render(); });
            return page;
        }

        function createBasmajaPage() {
            const page = document.createElement('div');
            page.className = 'page active basmaja-page container-main p-6 rounded-lg shadow-lg';
            
            let questionsHtml = '';
            quizData.questions.forEach((q, index) => {
                const questionImage = q.imageIndex != null ? quizData.images[q.imageIndex] : null;
                const optionsHtml = q.options.map((opt, optIndex) =>
                    '<div class="p-3 rounded-md border-2 ' + (optIndex === q.correctAnswerIndex ? 'basmaja-correct-answer' : 'border-gray-300') + '">' + String.fromCharCode(65 + optIndex) + '. ' + opt + '</div>'
                ).join("");
                questionsHtml += \`
                    <div class="question-card p-6 rounded-lg mb-6">
                        \${q.is_flawed ? '<div class="flawed-question-warning"><strong>ملاحظة:</strong> هذا السؤال قيد المراجعة.</div>' : ''}
                        \${q.caseDescription ? \`<div class="case-card p-4 rounded-lg mb-4 bg-blue-50 border-r-4 border-blue-300"><h3 class="font-bold text-lg text-blue-800">الحالة السريرية</h3><p class="mt-2 text-gray-700">\${q.caseDescription}</p></div>\` : ''}
                        <p class="font-bold text-lg mb-4">السؤال \${index + 1}: \${q.question}</p>
                        \${questionImage ? \`<div class="my-4 flex justify-center"><img src="\${questionImage}" alt="Question visual" class="max-w-full md:max-w-md rounded-lg shadow-md" /></div>\` : ''}
                        <div class="space-y-3">\${optionsHtml}</div>
                        \${q.explanation ? \`<div class="mt-4 p-4 bg-green-50 border-r-4 border-green-500 rounded-lg"><h4 class="font-bold text-green-800">التوضيح</h4><p class="text-gray-700 mt-2">\${q.explanation}</p></div>\` : ""}
                    </div>
                \`;
            });

            page.innerHTML = \`
                <h2 class="text-3xl font-bold mb-6 text-center" style="font-family:'Tajawal',sans-serif">📚 بصمجة - كل الأسئلة والأجوبة</h2>
                <div>\${questionsHtml}</div>
                <button id="back-to-home-btn" class="btn-primary w-full font-bold py-3 px-4 rounded-lg mt-6">العودة للبداية</button>
            \`;
            page.querySelector('#back-to-home-btn').addEventListener('click', () => { currentPage = 'landing'; render(); });
            return page;
        }

        // Initial render
        render();
    }
    // Run the app
    ${i}();
<\/script>
</body>
</html>`},qR=({onPdfUpload:t,isProcessing:e,isDisabled:n})=>{const i=z.useRef(null),[o,l]=z.useState(null),u=f=>{var m;const d=(m=f.target.files)==null?void 0:m[0];d&&l(d)},r=()=>{o&&(t(o),l(null),i.current&&(i.current.value=""))},c=e||n||!o;return E.jsxs("div",{className:"bg-slate-800/70 backdrop-blur-lg p-6 rounded-lg shadow-lg border border-slate-700",children:[E.jsx("h3",{className:"text-2xl font-bold text-white mb-4 border-b-2 border-cyan-500 pb-2",children:"1. رفع PDF إلى المخزن"}),E.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[E.jsxs("div",{className:"relative flex-grow w-full bg-slate-700 border-2 border-dashed border-slate-600 text-slate-400 rounded-md p-4 text-center cursor-pointer hover:border-cyan-500 hover:text-white transition-colors",onClick:()=>{var f;return!n&&((f=i.current)==null?void 0:f.click())},children:[E.jsx("input",{type:"file",id:"pdf-file",name:"pdfFile",ref:i,className:"hidden",accept:"application/pdf",onChange:u,disabled:e||n}),o?E.jsx("span",{className:"text-green-400",children:o.name}):E.jsx("span",{children:"انقر هنا لاختيار ملف PDF"})]}),E.jsxs("button",{onClick:r,disabled:c,className:"flex-shrink-0 bg-teal-600 hover:bg-teal-700 text-white font-bold py-3 px-6 rounded-lg transition duration-300 flex items-center justify-center disabled:bg-slate-500 disabled:cursor-not-allowed",children:[e?"جاري المعالجة...":"معالجة و إضافة",e&&E.jsx("div",{id:"loader",style:{display:"inline-block",marginLeft:"8px"}})]})]})]})},LR=({steps:t})=>E.jsxs("div",{className:"bg-slate-800/70 backdrop-blur-lg p-6 rounded-lg shadow-lg border border-slate-700",children:[E.jsx("h3",{className:"text-2xl font-bold text-white mb-4 border-b-2 border-cyan-500 pb-2",children:"مراحل التنفيذ التلقائي"}),E.jsx("ol",{className:"space-y-3",children:t.map(e=>E.jsxs("li",{className:`protocol-item bg-slate-900/50 p-3 rounded-md border-l-4 border-slate-600 ${e.status}`,children:[E.jsxs("strong",{children:[e.text.split(":")[0],":"]}),e.text.split(":")[1]]},e.id))})]}),VR=({logs:t})=>{const e=z.useRef(null);z.useEffect(()=>{e.current&&(e.current.scrollTop=e.current.scrollHeight)},[t]);const n=i=>{switch(i){case"error":return"text-red-400 font-semibold";case"success":return"text-green-400 font-semibold";default:return"text-slate-400"}};return E.jsx("div",{ref:e,className:"space-y-2 h-96 md:h-auto overflow-y-auto bg-black/50 p-3 rounded-md text-sm",children:t.map(i=>E.jsxs("p",{className:`log-message ${n(i.type)}`,children:[E.jsxs("span",{className:"font-sans",children:["[",new Date().toLocaleTimeString(),"]"]})," ",i.message]},i.id))})},GR=({isOpen:t,onClose:e,title:n,children:i})=>t?E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-50 flex justify-center items-center p-4",onClick:e,"aria-modal":"true",role:"dialog",children:E.jsxs("div",{className:"bg-slate-800 text-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] flex flex-col",onClick:o=>o.stopPropagation(),children:[E.jsxs("header",{className:"flex justify-between items-center p-4 border-b border-slate-700",children:[E.jsx("h2",{className:"text-xl font-bold",children:n}),E.jsx("button",{onClick:e,className:"text-2xl font-bold hover:text-cyan-400",children:"×"})]}),E.jsx("main",{className:"p-6 overflow-y-auto",children:i})]})}):null,PR=({onSelectPdf:t,selectedPdfId:e,refreshKey:n})=>{const[i,o]=z.useState([]),[l,u]=z.useState(null),[r,c]=z.useState(!1),f=async()=>{const g=await wR();o(g)};z.useEffect(()=>{f()},[n]);const d=async g=>{const T=await jg(g);T&&(u(T),c(!0))},m=async g=>{window.confirm("هل أنت متأكد من حذف هذا الملف من المخزن؟")&&(await UR(g),e===g&&t(null),f())},p=g=>{t(g)};return E.jsxs("div",{className:"bg-slate-800/70 backdrop-blur-lg p-6 rounded-lg shadow-lg border border-slate-700",children:[E.jsx("h3",{className:"text-2xl font-bold text-white mb-4 border-b-2 border-cyan-500 pb-2",children:"2. اختيار من المخزن"}),E.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:i.length===0?E.jsx("p",{className:"text-slate-400 text-center py-4",children:"المخزن فارغ. قم برفع ملف PDF لتبدأ."}):i.map(g=>E.jsxs("div",{className:`flex flex-col sm:flex-row items-center justify-between p-3 rounded-md transition-all ${e===g.id?"bg-cyan-900/50 ring-2 ring-cyan-400":"bg-slate-900/50"}`,children:[E.jsxs("div",{className:"flex-grow mb-2 sm:mb-0 text-center sm:text-right",children:[E.jsx("p",{className:"font-bold text-white",children:g.filename}),E.jsx("p",{className:"text-xs text-slate-400",children:new Date(g.createdAt).toLocaleString("ar-EG")})]}),E.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[E.jsx("button",{onClick:()=>p(g.id),className:"bg-cyan-600 hover:bg-cyan-700 text-white text-xs font-bold py-1 px-3 rounded disabled:opacity-50",disabled:e===g.id,children:e===g.id?"محدد":"استخدام"}),E.jsx("button",{onClick:()=>d(g.id),className:"bg-slate-600 hover:bg-slate-500 text-white text-xs font-bold py-1 px-3 rounded",children:"عرض"}),E.jsx("button",{onClick:()=>m(g.id),className:"bg-red-700 hover:bg-red-800 text-white text-xs font-bold py-1 px-3 rounded",children:"حذف"})]})]},g.id))}),l&&E.jsx(GR,{isOpen:r,onClose:()=>c(!1),title:`عرض: ${l.filename}`,children:E.jsx("div",{className:"space-y-4",children:E.jsxs("div",{children:[E.jsx("h4",{className:"text-lg font-bold text-cyan-400 mb-2",children:"النص المستخرج:"}),E.jsx("textarea",{readOnly:!0,value:l.text,className:"w-full h-96 bg-slate-900 border border-slate-700 rounded-md p-2 text-sm text-slate-200"})]})})})]})},Cd=({onImagesChange:t,isDisabled:e})=>{const[n,i]=z.useState([]),o=z.useRef(null),l=r=>{const c=r.target.files;if(c){const f=Array.from(c).map(d=>new Promise((m,p)=>{const g=new FileReader;g.onload=T=>{var S;return m((S=T.target)==null?void 0:S.result)},g.onerror=p,g.readAsDataURL(d)}));Promise.all(f).then(d=>{const m=[...n,...d];i(m),t(m)})}o.current&&(o.current.value="")},u=r=>{const c=n.filter((f,d)=>d!==r);i(c),t(c)};return E.jsxs("div",{className:"bg-slate-800/70 backdrop-blur-lg p-6 rounded-lg shadow-lg border border-slate-700",children:[E.jsx("h3",{className:"text-2xl font-bold text-white mb-4 border-b-2 border-cyan-500 pb-2",children:"3. رفع صور مخصصة (اختياري)"}),E.jsxs("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 gap-4",children:[n.map((r,c)=>E.jsxs("div",{className:"relative group",children:[E.jsx("img",{src:r,alt:`Uploaded ${c}`,className:"w-full h-24 object-cover rounded-md"}),E.jsx("button",{onClick:()=>u(c),disabled:e,className:"absolute top-0 right-0 bg-red-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold opacity-0 group-hover:opacity-100 transition-opacity disabled:opacity-50","aria-label":"Remove image",children:"×"})]},c)),E.jsx("button",{onClick:()=>{var r;return(r=o.current)==null?void 0:r.click()},disabled:e,className:"w-full h-24 border-2 border-dashed border-slate-600 rounded-md flex items-center justify-center text-slate-400 hover:border-cyan-500 hover:text-white transition-colors disabled:cursor-not-allowed disabled:hover:border-slate-600",children:"+ إضافة"}),E.jsx("input",{type:"file",multiple:!0,accept:"image/*",ref:o,className:"hidden",onChange:l,disabled:e})]})]})},BR=({htmlContent:t})=>{const[e,n]=z.useState("preview"),[i,o]=z.useState("نسخ الكود"),l=()=>{navigator.clipboard.writeText(t).then(()=>{o("تم النسخ!"),setTimeout(()=>o("نسخ الكود"),2e3)}).catch(f=>{console.error("Failed to copy text: ",f),o("فشل النسخ"),setTimeout(()=>o("نسخ الكود"),2e3)})},u=()=>{const f=new Blob([t],{type:"text/html"}),d=document.createElement("a");d.href=URL.createObjectURL(f),d.download="WATFA-PEDIA_Quiz.html",document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(d.href)},[r,c]=z.useState(0);return z.useEffect(()=>{c(f=>f+1)},[t]),E.jsxs("div",{className:"bg-slate-800/70 backdrop-blur-lg p-6 rounded-lg shadow-lg border border-slate-700",children:[E.jsxs("div",{className:"flex justify-between items-center mb-4",children:[E.jsx("h3",{className:"text-2xl font-bold text-white",children:"النتيجة النهائية"}),E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("button",{onClick:()=>n("preview"),className:`py-2 px-4 rounded-md text-sm font-semibold transition-colors ${e==="preview"?"bg-cyan-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"معاينة حية"}),E.jsx("button",{onClick:()=>n("code"),className:`py-2 px-4 rounded-md text-sm font-semibold transition-colors ${e==="code"?"bg-cyan-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"عرض الكود"})]})]}),E.jsxs("div",{className:"mt-4",children:[e==="preview"&&E.jsx("div",{id:"preview-panel",children:E.jsx("iframe",{id:"preview-iframe",srcDoc:t,className:"w-full h-[75vh] bg-white rounded-md border border-slate-600",title:"Quiz Preview",sandbox:"allow-scripts"},r)}),e==="code"&&E.jsxs("div",{id:"code-panel",children:[E.jsxs("div",{className:"flex items-center justify-end gap-2 mb-2",children:[E.jsx("button",{onClick:l,className:"bg-slate-600 hover:bg-slate-500 text-white text-xs font-bold py-1 px-3 rounded",children:i}),E.jsx("button",{onClick:u,className:"bg-teal-600 hover:bg-teal-500 text-white text-xs font-bold py-1 px-3 rounded",children:"تنزيل الكود"})]}),E.jsx("pre",{className:"bg-black/50 p-4 rounded-md overflow-auto h-[75vh]",children:E.jsx("code",{className:"language-html text-sm text-white whitespace-pre-wrap",children:t})})]})]})]})},HR=({className:t})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t||"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})}),zR=({className:t})=>E.jsx("svg",{className:t||"w-6 h-6 mr-3 rtl:ml-3 rtl:mr-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})}),kR=({className:t})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t||"w-6 h-6",viewBox:"0 0 24 24",fill:"currentColor",children:E.jsx("path",{d:"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"})}),Sd=({documentText:t})=>{const[e,n]=z.useState([]),[i,o]=z.useState(""),[l,u]=z.useState(!1),r=z.useRef(null);z.useEffect(()=>{var f;(f=r.current)==null||f.scrollIntoView({behavior:"smooth"})},[e]);const c=async()=>{if(!i.trim()||l)return;const f={sender:"user",text:i};n(m=>[...m,f]);const d=i;o(""),u(!0),n(m=>[...m,{sender:"ai",text:""}]);try{const m=await gR(t,d);for await(const p of m){const g=p.text;n(T=>{const S=[...T],_=S[S.length-1];return _&&_.sender==="ai"&&(_.text+=g),S})}}catch(m){console.error(m),n(p=>{const g=[...p],T=g[g.length-1];return T&&T.sender==="ai"&&(T.text="عفوًا، حدث خطأ أثناء التواصل مع النموذج. الرجاء المحاولة مرة أخرى."),g})}finally{u(!1)}};return E.jsxs("div",{className:"bg-slate-800/70 backdrop-blur-lg p-6 rounded-lg shadow-lg border border-slate-700",children:[E.jsx("h3",{className:"text-2xl font-bold text-white mb-4 border-b-2 border-cyan-500 pb-2",children:"أسئلة سريعة حول المستند"}),E.jsxs("div",{className:"h-80 bg-slate-900/50 rounded-lg p-4 overflow-y-auto flex flex-col gap-4 mb-4",children:[e.length===0?E.jsx("div",{className:"flex-grow flex items-center justify-center text-slate-400",children:"اطرح سؤالاً للبدء..."}):e.map((f,d)=>E.jsx("div",{className:`flex ${f.sender==="user"?"justify-end":"justify-start"}`,children:E.jsxs("div",{className:`max-w-xl lg:max-w-2xl px-4 py-2 rounded-lg whitespace-pre-wrap ${f.sender==="user"?"bg-cyan-600 text-white":"bg-slate-700 text-slate-200"}`,children:[f.text,l&&f.sender==="ai"&&d===e.length-1&&E.jsx("span",{className:"inline-block w-2 h-2 ml-1 bg-white rounded-full animate-pulse"})]})},d)),E.jsx("div",{ref:r})]}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("input",{type:"text",value:i,onChange:f=>o(f.target.value),onKeyPress:f=>f.key==="Enter"&&c(),placeholder:"اسأل عن أي شيء في المستند...",className:"flex-grow bg-slate-700 border-slate-600 text-white rounded-md p-3 focus:outline-none focus:ring-2 focus:ring-cyan-500",disabled:l}),E.jsx("button",{onClick:c,disabled:l||!i.trim(),className:"bg-cyan-600 hover:bg-cyan-700 text-white font-bold py-3 px-5 rounded-lg transition duration-300 flex items-center justify-center disabled:bg-slate-500 disabled:cursor-not-allowed","aria-label":"إرسال",children:l?E.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):E.jsx(kR,{className:"w-5 h-5"})})]})]})},FR=()=>{const[t,e]=z.useState(De.IDLE),[n,i]=z.useState(null),[o,l]=z.useState(Zc),[u,r]=z.useState([]),[c,f]=z.useState(null),[d,m]=z.useState(!1),[p,g]=z.useState(null),[T,S]=z.useState(0),[_,y]=z.useState(""),[h,v]=z.useState(null),[C,A]=z.useState([]),[D,M]=z.useState({mcqCount:5,caseCount:1,questionsPerCase:2,difficulty:"mix",customInstructions:""}),R=z.useCallback((O,ne="log")=>{r(at=>[...at,{id:at.length,message:O,type:ne}])},[]),N=z.useCallback((O,ne,at)=>{l($e=>$e.map(Vn=>Vn.id===O?{...Vn,status:ne,text:at||Vn.text}:Vn))},[]),w=()=>{l(Zc),r([]),f(null)},L=async O=>{m(!0),R(`جاري معالجة الملف: ${O.name}...`);try{const{text:ne}=await iT(O);await bR({filename:O.name,text:ne}),R(`✔ تم حفظ "${O.name}" في المخزن بنجاح.`,"success"),S(at=>at+1)}catch(ne){R(`❌ فشلت معالجة الملف: ${ne.message}`,"error")}finally{m(!1)}},fe=async O=>{if(g(O),O!==null){w(),e(De.IDLE);const ne=await jg(O);v(ne?ne.text:null)}else v(null)},rn=O=>{const ne=O.target.value;y(ne),v(ne.trim()?ne:null)},In=async()=>{if(!h){R(n==="pdf"?"الرجاء تحديد ملف من المخزن أولاً.":"الرجاء إدخال النص الطبي المصدر أولاً.","error");return}w(),e(De.GENERATING);try{R("بدأت عملية التنفيذ.");const O=n==="pdf"?"سحب بيانات الملف المحدد":"تحليل النص المصدر";N("p0",ue.ACTIVE,`البروتوكول 0: ${O}`),R("✔ تم تجهيز البيانات المصدر بنجاح.","success"),N("p0",ue.DONE),N("p1",ue.ACTIVE),R("1. بدء البروتوكول 1: توليد المحتوى الطبي...");const{questions:ne,images:at}=await dR(h,C,D.customInstructions,D.mcqCount,D.caseCount,D.questionsPerCase,D.difficulty);R(`✔ اكتمل البروتوكول 1: تم إنشاء ${ne.length} سؤالًا.`,"success"),N("p1",ue.DONE);let $e={questions:ne,images:at};N("p2",ue.ACTIVE),R("2. بدء البروتوكول 2: تصحيح توزيع الإجابات (بالخلط العشوائي)."),$e.questions.sort(()=>Math.random()-.5),R("✔ اكتمل البروتوكول 2.","success"),N("p2",ue.DONE),N("p2.8",ue.ACTIVE),R("2.8. بدء البروتوكول 2.8: التدقيق النقدي والتصحيح الآلي.");const Vn=await Promise.all($e.questions.map(_a=>mR(_a,h,$e.images)));$e.questions=Vn,R("✔ اكتمل البروتوكول 2.8.","success"),N("p2.8",ue.DONE),N("p2.7",ue.ACTIVE),R("2.7. بدء البروتوكول 2.7: تدقيق وتحسين التفسيرات.");const th=await Promise.all($e.questions.map(_a=>pR(_a,h,$e.images)));$e.questions=th,R("✔ اكتمل البروتوكول 2.7.","success"),N("p2.7",ue.DONE),N("p3",ue.ACTIVE),R("3. بدء البروتوكول 3: توليد كود HTML للاختبار.");const nh=IR($e);f(nh),R("✔ اكتمل البروتوكول 3.","success"),N("p3",ue.DONE),N("p4",ue.ACTIVE),R("4. بدء البروتوكول 4: المراجعة النهائية والختام."),N("p4",ue.DONE),e(De.DONE_GENERATING),R("✅ اكتملت جميع البروتوكولات بنجاح! الاختبار جاهز للمعاينة والتنزيل.","success")}catch(O){const ne=O.message||"حدث خطأ غير معروف.";e(De.ERROR),R(`❌ خطأ فادح: ${ne}`,"error");const at=o.find($e=>$e.status==="active");at&&N(at.id,ue.ERROR)}},ye=O=>{M({...D,[O.target.name]:O.target.type==="number"?parseInt(O.target.value,10)||0:O.target.value})},b=()=>{i(null),w(),e(De.IDLE),g(null),y(""),A([]),v(null)},I=t===De.GENERATING,V=()=>E.jsxs("div",{className:"bg-slate-800/70 backdrop-blur-lg p-6 rounded-lg shadow-lg border border-slate-700",children:[E.jsx("h3",{className:"text-2xl font-bold text-white mb-4 border-b-2 border-cyan-500 pb-2",children:"4. إعدادات التوليد"}),E.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[E.jsxs("div",{children:[E.jsx("label",{htmlFor:"mcqCount",className:"block text-white text-sm font-bold mb-2",children:"عدد MCQ:"}),E.jsx("input",{type:"number",id:"mcqCount",name:"mcqCount",value:D.mcqCount,onChange:ye,min:"0",className:"w-full bg-slate-700 border-slate-600 text-white rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-cyan-500",disabled:I})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"caseCount",className:"block text-white text-sm font-bold mb-2",children:"عدد الحالات:"}),E.jsx("input",{type:"number",id:"caseCount",name:"caseCount",value:D.caseCount,onChange:ye,min:"0",className:"w-full bg-slate-700 border-slate-600 text-white rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-cyan-500",disabled:I})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"questionsPerCase",className:"block text-white text-sm font-bold mb-2",children:"أسئلة لكل حالة:"}),E.jsx("input",{type:"number",id:"questionsPerCase",name:"questionsPerCase",value:D.questionsPerCase,onChange:ye,min:"1",max:"5",className:"w-full bg-slate-700 border-slate-600 text-white rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-cyan-500",disabled:I})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"difficulty",className:"block text-white text-sm font-bold mb-2",children:"مستوى الصعوبة:"}),E.jsxs("select",{id:"difficulty",name:"difficulty",value:D.difficulty,onChange:ye,className:"w-full bg-slate-700 border-slate-600 text-white rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-cyan-500",disabled:I,children:[E.jsx("option",{value:"mix",children:"مزيج (افتراضي)"}),E.jsx("option",{value:"easy",children:"سهل"}),E.jsx("option",{value:"medium",children:"متوسط"}),E.jsx("option",{value:"hard",children:"صعب"})]})]})]}),E.jsxs("div",{className:"mb-6",children:[E.jsx("label",{htmlFor:"customInstructions",className:"block text-white text-sm font-bold mb-2",children:"تعليمات إضافية (اختياري):"}),E.jsx("textarea",{id:"customInstructions",name:"customInstructions",rows:3,value:D.customInstructions,onChange:ye,className:"w-full bg-slate-700 border-slate-600 text-white rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-cyan-500",placeholder:"مثال: ركز على أسئلة التشخيص، استخدم الصور المرفقة، اجعل الأسئلة قصيرة...",disabled:I})]}),E.jsxs("button",{onClick:In,disabled:I,className:"w-full bg-cyan-600 hover:bg-cyan-700 text-white font-bold py-3 px-4 rounded-lg transition duration-300 transform hover:scale-105 flex items-center justify-center disabled:bg-slate-500 disabled:cursor-not-allowed",children:[E.jsx("span",{children:I?"جاري التنفيذ...":"ابدأ التنفيذ الآن"}),I&&E.jsx("div",{id:"loader",style:{display:"inline-block",marginLeft:"8px"}})]})]}),ae=()=>E.jsxs("main",{className:"flex flex-col gap-8",children:[E.jsxs("button",{onClick:b,className:"self-start flex items-center gap-2 text-cyan-400 hover:text-cyan-200 transition-colors font-semibold",children:[E.jsx(HR,{className:"w-5 h-5"}),E.jsx("span",{children:"العودة إلى شاشة الاختيار"})]}),n==="pdf"?E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 w-full",children:[E.jsx(qR,{onPdfUpload:L,isProcessing:d,isDisabled:I}),E.jsx(PR,{onSelectPdf:fe,selectedPdfId:p,refreshKey:T})]}),h&&!I&&E.jsx(Sd,{documentText:h}),p!==null&&E.jsxs(E.Fragment,{children:[E.jsx(Cd,{onImagesChange:A,isDisabled:I}),V()]})]}):E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"bg-slate-800/70 backdrop-blur-lg p-6 rounded-lg shadow-lg border border-slate-700",children:[E.jsx("h3",{className:"text-2xl font-bold text-white mb-4 border-b-2 border-cyan-500 pb-2",children:"1. أدخل النص الطبي"}),E.jsx("textarea",{value:_,onChange:rn,rows:10,className:"w-full bg-slate-700 border-slate-600 text-white rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-cyan-500",placeholder:"ألصق النص الطبي الكامل هنا...",disabled:I})]}),h&&!I&&E.jsx(Sd,{documentText:h}),E.jsx(Cd,{onImagesChange:A,isDisabled:I}),V()]}),u.length>0&&E.jsx("div",{className:"bg-slate-800/70 backdrop-blur-lg p-6 rounded-lg shadow-lg border border-slate-700",children:E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[E.jsx("div",{className:"md:col-span-1",children:E.jsx(LR,{steps:o})}),E.jsx("div",{className:"md:col-span-2",children:E.jsx(VR,{logs:u})})]})}),t===De.DONE_GENERATING&&c&&E.jsx(BR,{htmlContent:c})]}),pe=()=>E.jsxs("main",{className:"page text-center container-glass p-8 rounded-lg max-w-4xl mx-auto text-slate-800",children:[E.jsx("h2",{className:"text-3xl font-bold mb-4",children:"كيف تريد إنشاء الاختبار؟"}),E.jsx("p",{className:"text-lg text-slate-600 mb-8",children:"اختر الطريقة التي تفضلها لتوفير المادة العلمية."}),E.jsxs("div",{className:"flex flex-col md:flex-row gap-6 justify-center",children:[E.jsx("button",{onClick:()=>i("text"),className:"flex-1 btn-primary font-bold py-6 px-8 rounded-lg text-xl transition-transform hover:scale-105",children:"توليد من نص"}),E.jsx("button",{onClick:()=>i("pdf"),className:"flex-1 btn-primary font-bold py-6 px-8 rounded-lg text-xl transition-transform hover:scale-105",style:{backgroundColor:"#005a9e"},children:"توليد من ملف PDF"})]})]}),qn=()=>n===null?pe():ae(),Ln=()=>{switch(t){case De.GENERATING:return"status-processing";case De.DONE_GENERATING:return"status-done";case De.ERROR:return"status-error";case De.PROCESSING_PDF:return"status-processing";default:return d?"status-processing":"status-ready"}},qi=()=>d?"جاري معالجة PDF...":t===De.GENERATING?"جاري توليد الأسئلة...":t===De.DONE_GENERATING?"اكتمل بنجاح":t===De.ERROR?"فشل التنفيذ":n===null?"في انتظار اختيارك":"جاهز لاستقبال الأوامر";return E.jsxs("div",{className:"container mx-auto p-4 md:p-8",children:[E.jsxs("header",{className:"text-center mb-8",children:[E.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-2",children:"نظام تنفيذ البروتوكول الشامل للذكاء الاصطناعي"}),E.jsx("h2",{className:"text-xl text-cyan-400 mb-4",children:"مولّد اختبارات طبي بالذكاء الاصطناعي"}),E.jsx("div",{children:E.jsx("span",{className:`status-badge ${Ln()}`,children:qi()})})]}),qn(),E.jsxs("footer",{className:"text-center mt-12 text-slate-400",children:[E.jsx("p",{children:"تم التطوير بواسطة الذكاء الاصطناعي مع الحفاظ على هوية WATFA-PEDIA الأصلية."}),E.jsxs("a",{href:"https://t.me/watfapedia_major",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center py-2 px-4 mt-4 rounded-full bg-slate-700/50 text-cyan-400 font-bold no-underline transition-transform hover:scale-105 shadow-lg",children:[E.jsx(zR,{className:"w-5 h-5 me-2 rtl:ml-2 rtl:mr-0"}),E.jsx("span",{children:"قناة WATFA-PEDIA على تيليجرام"})]})]})]})},eh=document.getElementById("root");if(!eh)throw new Error("Could not find root element to mount to");const OR=eT.createRoot(eh);OR.render(E.jsx(Ch.StrictMode,{children:E.jsx(FR,{})}));
